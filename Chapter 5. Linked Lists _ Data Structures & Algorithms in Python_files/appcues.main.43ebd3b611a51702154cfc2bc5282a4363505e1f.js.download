var Appcues=(function(){"use strict";function xe(e){return e.reduce((t,n)=>Object.assign(t,{[n]:n}),{})}const _d=["_hostname","_lastBrowserLanguage","_lastPageTitle","_lastPageUrl","_currentPageTitle","_currentPageUrl","_localId","_sessionPageviews","_updatedAt","_userAgent","_appcuesId","_sessionRandomizer","_testContentId","_showChecklist","_doNotTrack","_lastSeenAt","_timezoneCode","_timezoneOffset","_appId"],Id=["flow_started","flow_completed","flow_skipped","flow_aborted","step_started","step_completed","step_skipped","step_interacted","step_aborted","form_submitted","form_field_submitted","nps_feedback","nps_score","nps_clicked_update_nps_score","nps_ask_me_later_selected_at","nps_survey_started","checklist_shown","checklist_completed","checklist_skipped","checklist_dismissed","checklist_item_started","checklist_item_completed","appcues_custom","experiment_entered","v2:experience_started","v2:step_seen","v2:icon_seen","v2:step_interaction","v2:button_pin_seen"],Ad="_appcuesForm_",kn="_appcuesSatisfaction_",Gi="AppcuesSettings",ji="apc_user_id",Vr="apc_group_id",qi="apc_local_id",Rn="apc_next_content_id",Zt="apc_user",Ki="apc_debug_enabled",Vs="apc_debug_url",Gr="apc_ann_errors",Gt="apc_curr_flow",jr="apc_curr_checklist",Yi="apc_cl:",zi="apc_followed_test_link",Fe="localStorage",_e="sessionStorage",vd=720*60*60,en={PAGE_VIEW:"appcues:page_view"},Ln={NPS:"nps",FLOW:"flow"},bd=["v2:experience_completed","v2:experience_skipped","v2:experience_snoozed"],Q=xe(["PENDING","STARTED","CALCULATING_POSITIONS","READY","WILL_SHOW","SHOWING","WILL_CLOSE","ERROR","FETCHING","RUNNING","DISMISSED","HIDING"]),Xi=[Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],_t=xe(["COMPLETED","SKIPPED","SHOWING_OTHER_CONTENT","CLEAR"]),Gs={EVENT_TRIGGER:"event_trigger",PAGE_VIEW:"page_view"},z={MODAL:"modal",HOTSPOTS:"hotspot-group",SEQUENTIAL_HOTSPOTS:"hotspot-group-sequential",DEBUGGER:"debugger",JOURNEY:"journey",ACTION:"action",SATISFACTION_SURVEY:"satisfaction-survey",CHECKLIST:"checklist",TEST_MODE:"test-mode",WIDGET:"widget",ANNOTATION:["hotspot-group"]},Et={REDIRECT:"redirect",WAIT_FOR_PAGE:"wait-for-page",SHOW_FLOW:"show_flow"},Ji=2,xn={COMPLETED:"completed",DISMISSED:"dismissed",SHOWN_MANUALLY:"shown_manually"},jt={EXPANDED:"expanded",COLLAPSED:"collapsed",FIRSTVIEW:"first_view"},Qi={OPENED:"opened",CLOSED:"closed",OPEN_ONCE:"open_once"},wd=["identify","track","page","anonymous","show","on","off","once","reset","debug","user","settings","content","injectContent","injectStyles","start","initMixpanel","initHeap","initIntercom","initCIO","initVero","initWoopra","initAmplitude","initKlaviyo","initCalq","initTD","initLl","initKM","initGA","initGTM","initSegment","initRudderstack","initBraze","initFullStory","initHotjar","initLogRocket","loadLaunchpad","group"],js=20,Nd=300,Od=700,Pn=2147483647,gt=24,kd=20,Rd=10,Ld=1,Zi=3,qs={CALCULATE:"CALCULATE"},Dn=xe(["WAIT_FOR_ONE_ELEMENT","WAIT_FOR_MOUSE_EVENT"]),tn=200,q=xe(["STEP_ATTEMPTED","STEP_SHOWN","STEP_COMPLETED","STEP_SKIPPED","STEP_END","STEP_INTERACTED","STEP_ERRORED","CHILD_ACTIVATED","CHILD_DEACTIVATED","CHILDREN_ERRORED","CHILDREN_RECOVERED","CHILD_NEXT","CHILD_RUN","CSS_LOADED","STEP_REVEALED"]),xd=1e3,eo=300,Pd=500,Dd=50,to=3e3,no={TEXT:"text",EXIT_SYMBOL:"exit-symbol"},cr={LABEL_TOOLTIP:"Tooltip",LABEL_CHECKLIST:"Contextual help checklist present on screen",ROLE_CONTAINER:"alert",ROLE_TOOLTIP:"alertdialog",HASPOPUP_TOOLTIP:"dialog"},Ks=6e4,qr="apc_session",Fd=30,ro="launchpad_kb_search";var Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn=function(t){return"@@redux-saga/"+t},zs=nn("TASK"),Xs=nn("HELPER"),io=nn("MATCH"),Js=nn("CANCEL_PROMISE"),Qs=nn("SAGA_ACTION"),Zs=nn("SELF_CANCELLATION"),Ud=function(t){return function(){return t}},ec=Ud(!0),Pe=function(){},tc=function(t){return t};function Ee(e,t,n){if(!t(e))throw rc("error","uncaught at check",n),new Error(n)}var Md=Object.prototype.hasOwnProperty;function oo(e,t){return M.notUndef(e)&&Md.call(e,t)}var M={undef:function(t){return t==null},notUndef:function(t){return t!=null},func:function(t){return typeof t=="function"},number:function(t){return typeof t=="number"},string:function(t){return typeof t=="string"},array:Array.isArray,object:function(t){return t&&!M.array(t)&&(typeof t>"u"?"undefined":Ys(t))==="object"},promise:function(t){return t&&M.func(t.then)},iterator:function(t){return t&&M.func(t.next)&&M.func(t.throw)},iterable:function(t){return t&&M.func(Symbol)?M.func(t[Symbol.iterator]):M.array(t)},task:function(t){return t&&t[zs]},observable:function(t){return t&&M.func(t.subscribe)},buffer:function(t){return t&&M.func(t.isEmpty)&&M.func(t.take)&&M.func(t.put)},pattern:function(t){return t&&(M.string(t)||(typeof t>"u"?"undefined":Ys(t))==="symbol"||M.func(t)||M.array(t))},channel:function(t){return t&&M.func(t.take)&&M.func(t.close)},helper:function(t){return t&&t[Xs]},stringableFunc:function(t){return M.func(t)&&oo(t,"toString")}},so={assign:function(t,n){for(var r in n)oo(n,r)&&(t[r]=n[r])}};function Kr(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var $d={from:function(t){var n=Array(t.length);for(var r in t)oo(t,r)&&(n[r]=t[r]);return n}};function Bd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Hd({},e),n=new Promise(function(r,i){t.resolve=r,t.reject=i});return t.promise=n,t}function co(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=void 0,r=new Promise(function(i){n=setTimeout(function(){return i(t)},e)});return r[Js]=function(){return clearTimeout(n)},r}function Wd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(){return++e}}var nc=Wd(),Vd=function(t){throw t},Gd=function(t){return{value:t,done:!0}};function lo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vd,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments[3],i={name:n,next:e,throw:t,return:Gd};return r&&(i[Xs]=!0),typeof Symbol<"u"&&(i[Symbol.iterator]=function(){return i}),i}function rc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:""}function ao(e,t){return function(){return e.apply(void 0,arguments)}}var ic=function(t){return new Error(`
  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug
  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.
  Error: `+t+`
`)},oc=function(t,n){return(t?t+".":"")+"setContext(props): argument "+n+" is not a plain object"},jd=function(t){return function(n){return t(Object.defineProperty(n,Qs,{value:!0}))}},sc=nn("IO"),Yr="TAKE",uo="PUT",cc="ALL",lc="RACE",ac="CALL",qd="CPS",fo="FORK",uc="JOIN",dc="CANCEL",fc="SELECT",pc="ACTION_CHANNEL",hc="CANCELLED",mc="FLUSH",Ec="GET_CONTEXT",Kd="SET_CONTEXT",gc=`
(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)`,Ye=function(t,n){var r;return r={},r[sc]=!0,r[t]=n,r},Yd=function(t){return Ee($e.fork(t),M.object,"detach(eff): argument must be a fork effect"),t[fo].detached=!0,t};function V(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"*";if(arguments.length&&Ee(arguments[0],M.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),M.pattern(e))return Ye(Yr,{pattern:e});if(M.channel(e))return Ye(Yr,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}V.maybe=function(){var e=V.apply(void 0,arguments);return e[Yr].maybe=!0,e},V.maybe;function g(e,t){return arguments.length>1?(Ee(e,M.notUndef,"put(channel, action): argument channel is undefined"),Ee(e,M.channel,"put(channel, action): argument "+e+" is not a valid channel"),Ee(t,M.notUndef,"put(channel, action): argument action is undefined")):(Ee(e,M.notUndef,"put(action): argument action is undefined"),t=e,e=null),Ye(uo,{channel:e,action:t})}g.resolve=function(){var e=g.apply(void 0,arguments);return e[uo].resolve=!0,e},g.sync=ao(g.resolve);function ut(e){return Ye(cc,e)}function Ge(e){return Ye(lc,e)}function yc(e,t,n){Ee(t,M.notUndef,e+": argument fn is undefined");var r=null;if(M.array(t)){var i=t;r=i[0],t=i[1]}else if(t.fn){var o=t;r=o.context,t=o.fn}return r&&M.string(t)&&M.func(r[t])&&(t=r[t]),Ee(t,M.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(ac,yc("call",e,n))}function F(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(fo,yc("fork",e,n))}function It(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yd(F.apply(void 0,[e].concat(n)))}function rn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return ut(t.map(function(i){return rn(i)}));var r=t[0];return Ee(r,M.notUndef,"join(task): argument task is undefined"),Ee(r,M.task,"join(task): argument "+r+" is not a valid Task object "+gc),Ye(uc,r)}function it(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return ut(t.map(function(i){return it(i)}));var r=t[0];return t.length===1&&(Ee(r,M.notUndef,"cancel(task): argument task is undefined"),Ee(r,M.task,"cancel(task): argument "+r+" is not a valid Task object "+gc)),Ye(dc,r||Zs)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return arguments.length===0?e=tc:(Ee(e,M.notUndef,"select(selector,[...]): argument selector is undefined"),Ee(e,M.func,"select(selector,[...]): argument "+e+" is not a function")),Ye(fc,{selector:e,args:n})}function zd(e,t){return Ee(e,M.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Ee(t,M.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Ee(t,M.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),Ye(pc,{pattern:e,buffer:t})}function zr(){return Ye(hc,{})}function Xd(e){return Ee(e,M.channel,"flush(channel): argument "+e+" is not valid channel"),Ye(mc,e)}function Jd(e){return Ee(e,M.string,"getContext(prop): argument "+e+" is not a string"),Ye(Ec,e)}var je=function(t){return function(n){return n&&n[sc]&&n[t]}},$e={take:je(Yr),put:je(uo),all:je(cc),race:je(lc),call:je(ac),cps:je(qd),fork:je(fo),join:je(uc),cancel:je(dc),select:je(fc),actionChannel:je(pc),cancelled:je(hc),flush:je(mc),getContext:je(Ec),setContext:je(Kd)},Sc={done:!0,value:void 0},Xr={};function Qd(e){return M.channel(e)?"channel":Array.isArray(e)?String(e.map(function(t){return String(t)})):String(e)}function Zd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"iterator",r=void 0,i=t;function o(s,c){if(i===Xr)return Sc;if(c)throw i=Xr,c;r&&r(s);var l=e[i](),u=l[0],d=l[1],f=l[2];return i=u,r=f,i===Xr?Sc:d}return lo(o,function(s){return o(null,s)},n,!0)}var ef="Channel's Buffer overflow!",Tc=1,tf=2,Cc=3,_c=4,nf={isEmpty:ec,put:Pe,take:Pe};function Jr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,i=0,o=0,s=function(d){n[i]=d,i=(i+1)%e,r++},c=function(){if(r!=0){var d=n[o];return n[o]=null,r--,o=(o+1)%e,d}},l=function(){for(var d=[];r;)d.push(c());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<e)s(d);else{var f=void 0;switch(t){case Tc:throw new Error(ef);case Cc:n[i]=d,i=(i+1)%e,o=i;break;case _c:f=2*e,n=l(),r=n.length,i=n.length,o=0,n.length=f,e=f,s(d);break}}},take:c,flush:l}}var Fn={none:function(){return nf},fixed:function(t){return Jr(t,Tc)},dropping:function(t){return Jr(t,tf)},sliding:function(t){return Jr(t,Cc)},expanding:function(t){return Jr(t,_c)}},Ic=[],Qr=0;function rf(e){try{po(),e()}finally{vc()}}function Ac(e){Ic.push(e),Qr||(po(),bc())}function po(){Qr++}function vc(){Qr--}function bc(){vc();for(var e=void 0;!Qr&&(e=Ic.shift())!==void 0;)rf(e)}var of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc="@@redux-saga/CHANNEL_END",lr={type:wc},Zr=function(t){return t&&t.type===wc};function sf(){var e=[];function t(r){return e.push(r),function(){return Kr(e,r)}}function n(r){for(var i=e.slice(),o=0,s=i.length;o<s;o++)i[o](r)}return{subscribe:t,emit:n}}var cf="invalid buffer passed to channel factory function",lf="Saga was provided with an undefined action";function Nc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fn.fixed(),t=!1,n=[];Ee(e,M.buffer,cf);function r(){if(t&&n.length)throw ic("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw ic("Cannot have pending takers with non empty buffer")}function i(l){if(r(),Ee(l,M.notUndef,lf),!t){if(!n.length)return e.put(l);for(var u=0;u<n.length;u++){var d=n[u];if(!d[io]||d[io](l))return n.splice(u,1),d(l)}}}function o(l){r(),Ee(l,M.func,"channel.take's callback must be a function"),t&&e.isEmpty()?l(lr):e.isEmpty()?(n.push(l),l.cancel=function(){return Kr(n,l)}):l(e.take())}function s(l){if(r(),Ee(l,M.func,"channel.flush' callback must be a function"),t&&e.isEmpty()){l(lr);return}l(e.flush())}function c(){if(r(),!t&&(t=!0,n.length)){var l=n;n=[];for(var u=0,d=l.length;u<d;u++)l[u](lr)}}return{take:o,put:i,flush:s,close:c,get __takers__(){return n},get __closed__(){return t}}}function ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fn.none(),n=arguments[2];arguments.length>2&&Ee(n,M.func,"Invalid match function passed to eventChannel");var r=Nc(t),i=function(){r.__closed__||(o&&o(),r.close())},o=e(function(s){if(Zr(s)){i();return}n&&!n(s)||r.put(s)});if(r.__closed__&&o(),!M.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:i}}function af(e){var t=ar(function(n){return e(function(r){if(r[Qs]){n(r);return}Ac(function(){return n(r)})})});return of({},t,{take:function(r,i){arguments.length>1&&(Ee(i,M.func,"channel.take's matcher argument must be a function"),r[io]=i),t.take(r)}})}function uf(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:V(e)},s=function(d){return{done:!1,value:F.apply(void 0,[t].concat(r,[d]))}},c=void 0,l=function(d){return c=d};return Zd({q1:function(){return["q2",o,l]},q2:function(){return c===lr?[Xr]:["q1",s(c)]}},"q1","takeEvery("+Qd(e)+", "+t.name+")")}function ur(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return F.apply(void 0,[uf,e,t].concat(r))}const df=Object.prototype.toString,ff=["Object","Arguments","Function","String","Number","Date","RegExp","Error"],ne={};function Oc(e){return t=>df.call(t)===`[object ${e}]`}ff.forEach(e=>{ne[e.toLowerCase()]=Oc(e)}),ne.array=Array.isArray||Oc("Array"),ne.undefined=e=>typeof e>"u",ne.defined=e=>!ne.undefined(e)&&e!==null,ne.inArray=(e,t)=>{let n=e.length;for(;n--;)if(e[n]===t)return!0;return!1};function P(e,t=null){return(...n)=>{try{const r=e(...n);return ne.defined(r)?r:t}catch{return t}}}function ot(e,t){const n=new Object(e),r=n.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");let i=0;for(;i<r;){const o=n[i];if(t(o,i,n))return o;i+=1}return null}const Hn=e=>e&&e.type===z.JOURNEY,Un=P(e=>Hn(e)?e.attributes.steps:{[e.id]:e},{}),kc=P(e=>Hn(e)?Object.keys(Un(e)).length:1,0),on=P(e=>{const t=e.attributes;return t.children||t.steps||t.hotspots||t.annotations},[]),sn=P((e,t)=>{let n=-1;return on(e).forEach((r,i)=>{r.id===t&&(n=i)}),n},-1),ho=P((e,t)=>on(e)[t]),Rc=P((e,t)=>{const n=e.step||e;return ot(on(n),r=>r.id===t)}),Mn=P(e=>e.attributes.sequential,!1),Lc=P((e,t)=>{const n=ho(e,t);return e.type===z.HOTSPOTS&&Mn(e)&&n.ui_conditions&&n.ui_conditions.next&&n.ui_conditions.next.type===Dn.WAIT_FOR_MOUSE_EVENT},!1),dr=P(e=>e.type===z.ACTION&&e.attributes.action_type===Et.REDIRECT,!1),qt=P(e=>e.type===z.ACTION&&e.attributes.action_type===Et.WAIT_FOR_PAGE,!1),pf=P(e=>e.type===z.ACTION,!1),$n=P(e=>e.type!==z.SATISFACTION_SURVEY),Lt=P((e,t)=>{if(Hn(e)){let n;const r=Un(e);return Object.keys(r).forEach(i=>{const o=r[i];o.index===t&&(n=o)}),n.step}return e}),st=P((e,t)=>Hn(e)?Un(e)[t].step:e),Bn=P((e,t)=>Hn(e)?Un(e)[t].index:t===e.id?0:-1,-1),xc=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),ot(n,r=>Rc(r,t))}),hf=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),ot(n,r=>{const i=Un(r);return xc(i,t)})});function mo(e={}){const{selector:t,selector_settings:n,backup_selectors:r}=e,i=Object.keys(n||{}).length>0?n:t;return ne.array(r)?[i,...r]:[i]}const cn=P(e=>e.currentContent.flowId),ze=P(e=>e.content[e.currentContent.flowId]),se=P(e=>e.currentContent.stepId),Pc=P(e=>e.previousActiveElement),mf=P(e=>e.forceFocus,!0),ye=P(e=>st(ze(e),se(e))),Ef=P(e=>e.settings.styling,{}),dt=P(e=>e),gf=P(e=>e.settings.accountId),xt=P(e=>e.reporter),yf=P((e,t)=>e.eventListeners[t],[]),be=P(e=>e.user,{}),Dc=P(e=>e.userIdentified,!1),Sf=P(e=>({groupId:e.groupId,groupProps:e.groupProps}),!1),Fc=P(e=>e.settings.account.skipAutoProperties,!1),Tf=P(e=>e.settings.account.gates.enableCTTEventIntegrations,!1),Cf=P(e=>e.settings.account.gates.responseFormatV2Enabled,!1),At=P(e=>e.session.id),Wn=P(e=>e.session,{}),_f=P(e=>e.settings,{}),ei=P((e,t)=>e.tasks[t]),If=P((e,t)=>e.pendingEvents[t],[]),Eo=e=>e.lastCheckedForInitialContent||{},fr=P(e=>e.content),Af=P(e=>e.orderedContent),go=P((e,t)=>fr(e)[t]),vf=P(e=>e.styles,{}),Vn=P(e=>ye(e).type),Be=P(e=>e.currentContent.status),pr=P(e=>e.currentContent.state),bf=P(e=>e.currentContent.shownUrl),yo=P(e=>ye(e).attributes.style),Hc=P(e=>e.styles[ye(e).attributes.style]),wf=P(e=>e.currentContent.eventChannel),ct=P(e=>pr(e).currentStepChildId),Kt=P((e,t)=>sn(ye(e),t),-1),Xe=P(e=>on(ye(e)),[]),vt=P(e=>e.currentContent.state.children,{}),Nf=P(e=>Object.keys(e.currentContent.state.children).length,0),ti=P((e,t)=>Xe(e)[t].id),Of=P(e=>pr(e).isScrollingToAnnotation),Uc=P((e,t)=>{const n=Kt(e,t);return ne.defined(n)?ti(e,n+1):!1}),So=P((e,t)=>{const n=Kt(e,t);return ne.defined(n)?ti(e,n-1):!1}),kf=P((e,t,n)=>{const r=Kt(e,t),i=Kt(e,n),o=Math.min(r,i),s=Math.max(r,i);if(ne.defined(r)&&ne.defined(i)){const[,...c]=Xe(e).slice(o,s).map(({id:l})=>l);return c}return!1}),Mc=P((e,t)=>vt(e)[t].activatedAt),To=P((e,t)=>ne.defined(Mc(e,t)),!1),ni=P(e=>e.reportedErrors.child,{}),Gn=P(e=>e.currentContent.state.activeAnnotations,[]),$c=P(e=>e.transport.initialized,!1),Rf=P(e=>e.transport.details.socket),jn=e=>e.debugger||null,Bc=P(e=>jn(e).viewState),Lf=P(e=>Bc(e).rowState),Wc=P(e=>jn(e).currentPage),Vc=P(e=>jn(e).lastTrackedPage),xf=P(e=>jn(e).contentErrors,[]),Pf=P(e=>jn(e).childErrors,{}),ln=P(e=>e.checklists,[]),an=P((e,t)=>ot(ln(e),n=>n.id===t),{}),Co=P((e,t)=>ln(e).filter(n=>n.status===t)),Df=P((e,t,n)=>{const r=an(e,t);return ot(r.attributes.items,i=>i.id===n)}),Ff=P((e,t)=>ot(ln(e),n=>n.id===t).status),Hf=P(e=>e.widget.history,{}),Uf=P(e=>e.widget.flows,[]),Gc=P(e=>e.widget.selector,null),Mf=P(e=>e.widget.position,"default"),$f=P(e=>e.widget.header,null),Bf=P(e=>e.widget.footer,null),_o=P(e=>e.widget.expanded,!1),Wf=P(e=>e.widget.icon,null),jc=P(e=>ze(e).format_version,1),Vf=P(e=>e.settings.isInjectableSDK,!1),Io=P(e=>e.Appcues,null),Gf=P(e=>e.initializingOpenBuilder,!1),jf=P(e=>e.experiments,[]),qf=P(e=>e.onHold.launchpads,[]);function Kf(e,t){return document.createElement(e,t)}function Yf(e,t,n){return document.createElementNS(e,t,n)}function zf(){return un(document.createDocumentFragment())}function Xf(e){return document.createTextNode(e)}function Jf(e){return document.createComment(e)}function Qf(e,t,n){if(Pt(e)){let r=e;for(;r&&Pt(r);)r=un(r).parent;e=r??e}Pt(t)&&(t=un(t,e)),n&&Pt(n)&&(n=un(n).firstChildNode),e.insertBefore(t,n)}function Zf(e,t){e.removeChild(t)}function ep(e,t){Pt(t)&&(t=un(t,e)),e.appendChild(t)}function qc(e){if(Pt(e)){for(;e&&Pt(e);)e=un(e).parent;return e??null}return e.parentNode}function tp(e){var t;if(Pt(e)){const n=un(e),r=qc(n);if(r&&n.lastChildNode){const i=Array.from(r.childNodes),o=i.indexOf(n.lastChildNode);return(t=i[o+1])!==null&&t!==void 0?t:null}return null}return e.nextSibling}function np(e){return e.tagName}function rp(e,t){e.textContent=t}function ip(e){return e.textContent}function op(e){return e.nodeType===1}function sp(e){return e.nodeType===3}function cp(e){return e.nodeType===8}function Pt(e){return e.nodeType===11}function un(e,t){var n,r,i;const o=e;return(n=o.parent)!==null&&n!==void 0||(o.parent=t??null),(r=o.firstChildNode)!==null&&r!==void 0||(o.firstChildNode=e.firstChild),(i=o.lastChildNode)!==null&&i!==void 0||(o.lastChildNode=e.lastChild),o}const Ao={createElement:Kf,createElementNS:Yf,createTextNode:Xf,createDocumentFragment:zf,createComment:Jf,insertBefore:Qf,removeChild:Zf,appendChild:ep,parentNode:qc,nextSibling:tp,tagName:np,setTextContent:rp,getTextContent:ip,isElement:op,isText:sp,isComment:cp,isDocumentFragment:Pt};function We(e,t,n,r,i){const o=t===void 0?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:i,key:o}}const qn=Array.isArray;function dn(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}const vo=We("",{},[],void 0,void 0);function hr(e,t){var n,r;const i=e.key===t.key,o=((n=e.data)===null||n===void 0?void 0:n.is)===((r=t.data)===null||r===void 0?void 0:r.is),s=e.sel===t.sel,c=!e.sel&&e.sel===t.sel?typeof e.text==typeof t.text:!0;return s&&i&&o&&c}function lp(){throw new Error("The document fragment is not supported on this platform.")}function ap(e,t){return e.isElement(t)}function up(e,t){return e.isDocumentFragment(t)}function dp(e,t,n){var r;const i={};for(let o=t;o<=n;++o){const s=(r=e[o])===null||r===void 0?void 0:r.key;s!==void 0&&(i[s]=o)}return i}const fp=["create","update","remove","destroy","pre","post"];function Kn(e,t,n){const r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},i=t!==void 0?t:Ao;for(const p of fp)for(const m of e){const T=m[p];T!==void 0&&r[p].push(T)}function o(p){const m=p.id?"#"+p.id:"",T=p.getAttribute("class"),_=T?"."+T.split(" ").join("."):"";return We(i.tagName(p).toLowerCase()+m+_,{},[],void 0,p)}function s(p){return We(void 0,{},[],void 0,p)}function c(p,m){return function(){if(--m===0){const _=i.parentNode(p);_!==null&&i.removeChild(_,p)}}}function l(p,m){var T,_,S,I,A;let C;const O=p.data,L=O?.hook;(T=L?.init)===null||T===void 0||T.call(L,p);const U=p.children,R=p.sel;if(R==="!")(_=p.text)!==null&&_!==void 0||(p.text=""),p.elm=i.createComment(p.text);else if(R==="")p.elm=i.createTextNode(p.text);else if(R!==void 0){const K=R.indexOf("#"),G=R.indexOf(".",K),ue=K>0?K:R.length,w=G>0?G:R.length,J=K!==-1||G!==-1?R.slice(0,Math.min(ue,w)):R,de=O?.ns,he=de===void 0?i.createElement(J,O):i.createElementNS(de,J,O);for(p.elm=he,ue<w&&he.setAttribute("id",R.slice(ue+1,w)),G>0&&he.setAttribute("class",R.slice(w+1).replace(/\./g," ")),C=0;C<r.create.length;++C)r.create[C](vo,p);if(dn(p.text)&&(!qn(U)||U.length===0)&&i.appendChild(he,i.createTextNode(p.text)),qn(U))for(C=0;C<U.length;++C){const Ce=U[C];Ce!=null&&i.appendChild(he,l(Ce,m))}L!==void 0&&((S=L.create)===null||S===void 0||S.call(L,vo,p),L.insert!==void 0&&m.push(p))}else if(!((I=n?.experimental)===null||I===void 0)&&I.fragments&&p.children){for(p.elm=((A=i.createDocumentFragment)!==null&&A!==void 0?A:lp)(),C=0;C<r.create.length;++C)r.create[C](vo,p);for(C=0;C<p.children.length;++C){const K=p.children[C];K!=null&&i.appendChild(p.elm,l(K,m))}}else p.elm=i.createTextNode(p.text);return p.elm}function u(p,m,T,_,S,I){for(;_<=S;++_){const A=T[_];A!=null&&i.insertBefore(p,l(A,I),m)}}function d(p){var m,T;const _=p.data;if(_!==void 0){(T=(m=_?.hook)===null||m===void 0?void 0:m.destroy)===null||T===void 0||T.call(m,p);for(let S=0;S<r.destroy.length;++S)r.destroy[S](p);if(p.children!==void 0)for(let S=0;S<p.children.length;++S){const I=p.children[S];I!=null&&typeof I!="string"&&d(I)}}}function f(p,m,T,_){for(var S,I;T<=_;++T){let A;const C=m[T];if(C!=null)if(C.sel!==void 0){d(C),A=r.remove.length+1;const O=c(C.elm,A);for(let U=0;U<r.remove.length;++U)r.remove[U](C,O);const L=(I=(S=C?.data)===null||S===void 0?void 0:S.hook)===null||I===void 0?void 0:I.remove;L!==void 0?L(C,O):O()}else C.children?(d(C),f(p,C.children,0,C.children.length-1)):i.removeChild(p,C.elm)}}function h(p,m,T,_){let S=0,I=0,A=m.length-1,C=m[0],O=m[A],L=T.length-1,U=T[0],R=T[L],K,G,ue,w;for(;S<=A&&I<=L;)C==null?C=m[++S]:O==null?O=m[--A]:U==null?U=T[++I]:R==null?R=T[--L]:hr(C,U)?(y(C,U,_),C=m[++S],U=T[++I]):hr(O,R)?(y(O,R,_),O=m[--A],R=T[--L]):hr(C,R)?(y(C,R,_),i.insertBefore(p,C.elm,i.nextSibling(O.elm)),C=m[++S],R=T[--L]):hr(O,U)?(y(O,U,_),i.insertBefore(p,O.elm,C.elm),O=m[--A],U=T[++I]):(K===void 0&&(K=dp(m,S,A)),G=K[U.key],G===void 0?(i.insertBefore(p,l(U,_),C.elm),U=T[++I]):K[R.key]===void 0?(i.insertBefore(p,l(R,_),i.nextSibling(O.elm)),R=T[--L]):(ue=m[G],ue.sel!==U.sel?i.insertBefore(p,l(U,_),C.elm):(y(ue,U,_),m[G]=void 0,i.insertBefore(p,ue.elm,C.elm)),U=T[++I]));I<=L&&(w=T[L+1]==null?null:T[L+1].elm,u(p,w,T,I,L,_)),S<=A&&f(p,m,S,A)}function y(p,m,T){var _,S,I,A,C,O,L,U;const R=(_=m.data)===null||_===void 0?void 0:_.hook;(S=R?.prepatch)===null||S===void 0||S.call(R,p,m);const K=m.elm=p.elm;if(p===m)return;if(m.data!==void 0||m.text!==void 0&&m.text!==p.text){(I=m.data)!==null&&I!==void 0||(m.data={}),(A=p.data)!==null&&A!==void 0||(p.data={});for(let w=0;w<r.update.length;++w)r.update[w](p,m);(L=(O=(C=m.data)===null||C===void 0?void 0:C.hook)===null||O===void 0?void 0:O.update)===null||L===void 0||L.call(O,p,m)}const G=p.children,ue=m.children;m.text===void 0?G!==void 0&&ue!==void 0?G!==ue&&h(K,G,ue,T):ue!==void 0?(p.text!==void 0&&i.setTextContent(K,""),u(K,null,ue,0,ue.length-1,T)):G!==void 0?f(K,G,0,G.length-1):p.text!==void 0&&i.setTextContent(K,""):p.text!==m.text&&(G!==void 0&&f(K,G,0,G.length-1),i.setTextContent(K,m.text)),(U=R?.postpatch)===null||U===void 0||U.call(R,p,m)}return function(m,T){let _,S,I;const A=[];for(_=0;_<r.pre.length;++_)r.pre[_]();for(ap(i,m)?m=o(m):up(i,m)&&(m=s(m)),hr(m,T)?y(m,T,A):(S=m.elm,I=i.parentNode(S),l(T,A),I!==null&&(i.insertBefore(I,T.elm,i.nextSibling(S)),f(I,[m],0,0))),_=0;_<A.length;++_)A[_].data.hook.insert(A[_]);for(_=0;_<r.post.length;++_)r.post[_]();return T}}function ri(e,t,n){if(e.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&t!==void 0)for(let r=0;r<t.length;++r){const i=t[r];if(typeof i=="string")continue;const o=i.data;o!==void 0&&ri(o,i.children,i.sel)}}function ii(e,t,n){let r={},i,o,s;if(n!==void 0?(t!==null&&(r=t),qn(n)?i=n:dn(n)?o=n.toString():n&&n.sel&&(i=[n])):t!=null&&(qn(t)?i=t:dn(t)?o=t.toString():t&&t.sel?i=[t]:r=t),i!==void 0)for(s=0;s<i.length;++s)dn(i[s])&&(i[s]=We(void 0,void 0,void 0,i[s],void 0));return e.startsWith("svg")&&(e.length===3||e[3]==="."||e[3]==="#")&&ri(r,i,e),We(e,r,i,o,void 0)}function pp(e){let t,n;if(qn(e)?t=e:dn(t)?n=e:t&&t.sel&&(t=[e]),t!==void 0)for(let r=0;r<t.length;++r)dn(t[r])&&(t[r]=We(void 0,void 0,void 0,t[r],void 0));return We(void 0,{},t,n,void 0)}function oi(e,t){var n;const r=(n=t.data)===null||n===void 0?void 0:n.ns;e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm,r&&ri(t.data,t.children,t.sel)}function hp(e){const t=e.data,n=t.fn(...t.args);oi(n,e)}function mp(e,t){let n;const r=e.data,i=t.data,o=r.args,s=i.args;if(r.fn!==i.fn||o.length!==s.length){oi(i.fn(...s),t);return}for(n=0;n<s.length;++n)if(o[n]!==s[n]){oi(i.fn(...s),t);return}oi(e,t)}const Ep=function(t,n,r,i){return i===void 0&&(i=r,r=n,n=void 0),ii(t,{key:n,hook:{init:hp,prepatch:mp},fn:r,args:i})};function gp(e,t){const n=e.data.attachData;t.data.attachData.placeholder=n.placeholder,t.data.attachData.real=n.real,e.elm=e.data.attachData.real}function yp(e,t){t.elm=t.data.attachData.placeholder}function Sp(e){e.elm!==void 0&&e.elm.parentNode.removeChild(e.elm),e.elm=e.data.attachData.real}function Tp(e,t){const n=t.elm,r=t.data.attachData,i=document.createElement("span");t.elm=i,r.target.appendChild(n),r.real=n,r.placeholder=i}function Cp(e,t){t.data===void 0&&(t.data={}),t.data.hook===void 0&&(t.data.hook={});const n=t.data,r=t.data.hook;return n.attachData={target:e,placeholder:void 0,real:void 0},r.create=Tp,r.prepatch=gp,r.postpatch=yp,r.destroy=Sp,t}function _p(e){return e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Kc(e,t){var n;const r=t!==void 0?t:Ao;let i;if(r.isElement(e)){const o=e.id?"#"+e.id:"",s=(n=e.getAttribute("class"))===null||n===void 0?void 0:n.match(/[^\t\r\n\f ]+/g),c=s?"."+s.join("."):"",l=r.tagName(e).toLowerCase()+o+c,u={},d={},f={},h=[];let y,p,m;const T=e.attributes,_=e.childNodes;for(p=0,m=T.length;p<m;p++)y=T[p].nodeName,y.startsWith("data-")?d[_p(y)]=T[p].nodeValue||"":y!=="id"&&y!=="class"&&(u[y]=T[p].nodeValue);for(p=0,m=_.length;p<m;p++)h.push(Kc(_[p],t));return Object.keys(u).length>0&&(f.attrs=u),Object.keys(d).length>0&&(f.dataset=d),l.startsWith("svg")&&(l.length===3||l[3]==="."||l[3]==="#")&&ri(f,h,l),We(l,f,h,void 0,e)}else return r.isText(e)?(i=r.getTextContent(e),We(void 0,void 0,void 0,i,e)):r.isComment(e)?(i=r.getTextContent(e),We("!",{},[],i,e)):We("",{},[],void 0,e)}const Ip="http://www.w3.org/1999/xlink",Ap="http://www.w3.org/2000/xmlns/",vp="http://www.w3.org/XML/1998/namespace",Yc=58,bp=120,wp=109;function zc(e,t){let n;const r=t.elm;let i=e.data.attrs,o=t.data.attrs;if(!(!i&&!o)&&i!==o){i=i||{},o=o||{};for(n in o){const s=o[n];i[n]!==s&&(s===!0?r.setAttribute(n,""):s===!1?r.removeAttribute(n):n.charCodeAt(0)!==bp?r.setAttribute(n,s):n.charCodeAt(3)===Yc?r.setAttributeNS(vp,n,s):n.charCodeAt(5)===Yc?n.charCodeAt(1)===wp?r.setAttributeNS(Ap,n,s):r.setAttributeNS(Ip,n,s):r.setAttribute(n,s))}for(n in i)n in o||r.removeAttribute(n)}}const Yn={create:zc,update:zc};function Xc(e,t){let n,r;const i=t.elm;let o=e.data.class,s=t.data.class;if(!(!o&&!s)&&o!==s){o=o||{},s=s||{};for(r in o)o[r]&&!Object.prototype.hasOwnProperty.call(s,r)&&i.classList.remove(r);for(r in s)n=s[r],n!==o[r]&&i.classList[n?"add":"remove"](r)}}const zn={create:Xc,update:Xc},Jc=/[A-Z]/g;function Qc(e,t){const n=t.elm;let r=e.data.dataset,i=t.data.dataset,o;if(!r&&!i||r===i)return;r=r||{},i=i||{};const s=n.dataset;for(o in r)o in i||(s?o in s&&delete s[o]:n.removeAttribute("data-"+o.replace(Jc,"-$&").toLowerCase()));for(o in i)r[o]!==i[o]&&(s?s[o]=i[o]:n.setAttribute("data-"+o.replace(Jc,"-$&").toLowerCase(),i[o]))}const Np={create:Qc,update:Qc};function Zc(e,t,n){if(typeof e=="function")e.call(t,n,t);else if(typeof e=="object")for(let r=0;r<e.length;r++)Zc(e[r],t,n)}function Op(e,t){const n=e.type,r=t.data.on;r&&r[n]&&Zc(r[n],t,e)}function kp(){return function e(t){Op(t,e.vnode)}}function bo(e,t){const n=e.data.on,r=e.listener,i=e.elm,o=t&&t.data.on,s=t&&t.elm;let c;if(n!==o){if(n&&r)if(o)for(c in n)o[c]||i.removeEventListener(c,r,!1);else for(c in n)i.removeEventListener(c,r,!1);if(o){const l=t.listener=e.listener||kp();if(l.vnode=t,n)for(c in o)n[c]||s.addEventListener(c,l,!1);else for(c in o)s.addEventListener(c,l,!1)}}}const Xn={create:bo,update:bo,destroy:bo};function el(e,t){let n,r,i;const o=t.elm;let s=e.data.props,c=t.data.props;if(!(!s&&!c)&&s!==c){s=s||{},c=c||{};for(n in c)r=c[n],i=s[n],i!==r&&(n!=="value"||o[n]!==r)&&(o[n]=r)}}const Jn={create:el,update:el},tl=typeof window?.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):setTimeout,Rp=e=>{tl(()=>{tl(e)})};let wo=!1;function Lp(e,t,n){Rp(()=>{e[t]=n})}function nl(e,t){let n,r;const i=t.elm;let o=e.data.style,s=t.data.style;if(!o&&!s||o===s)return;o=o||{},s=s||{};const c="delayed"in o;for(r in o)r in s||(r[0]==="-"&&r[1]==="-"?i.style.removeProperty(r):i.style[r]="");for(r in s)if(n=s[r],r==="delayed"&&s.delayed)for(const l in s.delayed)n=s.delayed[l],(!c||n!==o.delayed[l])&&Lp(i.style,l,n);else r!=="remove"&&n!==o[r]&&(r[0]==="-"&&r[1]==="-"?i.style.setProperty(r,n):i.style[r]=n)}function xp(e){let t,n;const r=e.elm,i=e.data.style;if(!(!i||!(t=i.destroy)))for(n in t)r.style[n]=t[n]}function Pp(e,t){const n=e.data.style;if(!n||!n.remove){t();return}wo||(e.elm.offsetLeft,wo=!0);let r;const i=e.elm;let o=0;const s=n.remove;let c=0;const l=[];for(r in s)l.push(r),i.style[r]=s[r];const d=getComputedStyle(i)["transition-property"].split(", ");for(;o<d.length;++o)l.indexOf(d[o])!==-1&&c++;i.addEventListener("transitionend",f=>{f.target===i&&--c,c===0&&t()})}function Dp(){wo=!1}const Qn={pre:Dp,create:nl,update:nl,destroy:xp,remove:Pp};function Fp(e,...t){const n=No(t,[]);return n.length===1&&!n[0].sel&&n[0].text?We(void 0,void 0,void 0,n[0].text,void 0):We(void 0,e??{},n,void 0,void 0)}function No(e,t){for(const n of e)n!=null&&n!==!1&&n!==""&&(Array.isArray(n)?No(n,t):typeof n=="string"||typeof n=="number"||typeof n=="boolean"?t.push(We(void 0,void 0,void 0,String(n),void 0)):t.push(n));return t}function Hp(e,t,...n){const r=No(n,[]);return typeof e=="function"?e(t,r):r.length===1&&!r[0].sel&&r[0].text?ii(e,t,r[0].text):ii(e,t,r)}const Up=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Fp,array:qn,attachTo:Cp,attributesModule:Yn,classModule:zn,datasetModule:Np,eventListenersModule:Xn,fragment:pp,h:ii,htmlDomApi:Ao,init:Kn,jsx:Hp,primitive:dn,propsModule:Jn,styleModule:Qn,thunk:Ep,toVNode:Kc,vnode:We},Symbol.toStringTag,{value:"Module"}));var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ko,il;function $p(){if(il)return ko;il=1;var e="http://www.w3.org/2000/svg",t=["hook","on","style","class","props","attrs","dataset"],n=Array.prototype.slice;function r(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||f===null||f===void 0}function i(f,h,y,p){for(var m={ns:h},T=0,_=p.length;T<_;T++){var S=p[T];f[S]&&(m[S]=f[S])}for(var I in f)if(I!=="key"&&I!=="classNames"&&I!=="selector"){var A=I.indexOf("-");A>0?C(I.slice(0,A),I.slice(A+1),f[I]):m[I]||C(y,I,f[I])}return m;function C(O,L,U){var R=m[O]||(m[O]={});R[L]=U}}function o(f,h,y,p,m,T){if(m.selector&&(p=p+m.selector),m.classNames){var _=m.classNames;p=p+"."+(Array.isArray(_)?_.join("."):_.replace(/\s+/g,"."))}return{sel:p,data:i(m,f,h,y),children:T.map(function(S){return r(S)?{text:S}:S}),key:m.key}}function s(f,h,y,p,m,T){var _;if(typeof p=="function")_=p(m,T);else if(p&&typeof p.view=="function")_=p.view(m,T);else if(p&&typeof p.render=="function")_=p.render(m,T);else throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";return _.key=m.key,_}function c(f,h,y){for(var p=h,m=f.length;p<m;p++){var T=f[p];Array.isArray(T)?c(T,0,y):y.push(T)}}function l(f){if(f){for(var h=0,y=f.length;h<y;h++)if(Array.isArray(f[h])){var p=f.slice(0,h);c(f,h,p),f=p;break}}return f}function u(f,h,y,p,m,T){return m=m||{},T=l(T),typeof p=="string"?o(f,h,y,p,m,T):s(f,h,y,p,m,T)}function d(f,h,y){return function(m,T,_){return(arguments.length>3||!Array.isArray(_))&&(_=n.call(arguments,2)),u(f,h||"props",y||t,m,T,_)}}return ko={html:d(void 0),svg:d(e,"attrs"),JSX:d},ko}var a=$p(),mr={},ol;function Bp(){if(ol)return mr;ol=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.createApi=n;var e="textContent";function t(i,o){var s=i;return s.parent==null&&(s.parent=null),s.firstChildNode==null&&(s.firstChildNode=i.firstChild),s.lastChildNode==null&&(s.lastChildNode=i.lastChild),s}function n(i){var o=void 0;function s(){if(o&&o.defaultView)return o;if(i&&i.clean){var c=document.createElement("iframe");document.head.appendChild(c),o=c.contentDocument,i.trustedTypesPolicy&&c.contentWindow.trustedTypes.createPolicy("default",{createHTML:function(u){return i.trustedTypesPolicy.createHTML(u).toString()},createScript:function(u){return i.trustedTypesPolicy.createScript(u).toString()},createScriptURL:function(u){return i.trustedTypesPolicy.createScriptURL(u).toString()}})}else o=document;return o}return s(),{createElement:function(l){return s().createElement(l)},createElementNS:function(l,u){return s().createElementNS(l,u)},createTextNode:function(l){return s().createTextNode(l)},appendChild:function(l,u){r("appendChild",l,u)},removeChild:function(l,u){r("removeChild",l,u)},insertBefore:function(l,u,d){r("insertBefore",l,u,d)},parentNode:function(l){return l.parentNode},nextSibling:function(l){return l.nextSibling},tagName:function(l){return l.tagName},setTextContent:function(l,u){r(e,l,u)},isElement:function(l){return l.nodeType===1},isText:function(l){return l.nodeType===3},isComment:function(l){return l.nodeType===8},isDocumentFragment:function(l){return l.nodeType===11},createDocumentFragment:function(){return t(s().createDocumentFragment())},createComment:function(l){return s().createComment(l)},getTextContent:function(l){return l.textContent||null}}}mr.default=n();function r(i,o,s,c){if(o.tagName!=="IFRAME")i===e?o[e]=s:o[i](s,c);else{var l=function(){r(i,o.contentDocument.body,s,c)};o.contentDocument&&o.contentDocument.readyState==="complete"?l():o.addEventListener("load",l)}}return mr}var si=Bp(),Ro={exports:{}},sl;function Wp(){return sl||(sl=1,(function(e){function t(o){var s=typeof o=="object"&&!!o.composed;return s?n(this):r(this)}function n(o){var s=r(o);return i(s)?n(s.host):s}function r(o){return o.parentNode!=null?r(o.parentNode):o}function i(o){return o.nodeName==="#document-fragment"&&o.constructor.name==="ShadowRoot"}e.exports&&(e.exports=t)})(Ro)),Ro.exports}var Vp=Wp();const Gp=Oo(Vp),cl="|shadow-root|",ll="|iframe|",ci=(e,t=document)=>e.includes(cl)||e.includes(ll)?e.split(cl).flatMap(n=>n.split(ll)).reduce((n,r)=>n===null?[...t.querySelectorAll(r)]:n.flatMap(i=>i.shadowRoot?[...i.shadowRoot.querySelectorAll(r)]:i.tagName==="IFRAME"?[...i.contentDocument.querySelectorAll(r)]:[]),null)??[]:[...t.querySelectorAll(e)];function li(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:{...r[t],...n}})})}function jp(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:n})})}function Zn(e,t){return new RegExp(`(?:^${t}[#.]|^${t}$)`,"i").test(e.sel)}function Ne(e,t){try{return e.data.attrs[t]||null}catch{return null}}function ge(e,t,n){li(e,"attrs",{[t]:n})}function al(e,t){if(!Object.prototype.hasOwnProperty.call(e.data,"attrs"))return;const{[t]:n=null,...r}=e.data.attrs;jp(e,"attrs",r)}function yt(e,t,n){li(e,"on",{[t]:n})}function qp(e,t){li(e,"class",{[t]:!0})}function Lo(e,t,n){li(e,"hook",{[t]:n})}function fn(e,t){try{return e.data.class[t]===!0}catch{return!1}}function ul(e){return Zn(e,"a")}function dl(e){return Zn(e,"img")}function Kp(e){return Zn(e,"input")}function Yp(e){return Zn(e,"form")}function zp(e){return Zn(e,"video")}function fl(e,t){const n=/window\.parent\.Appcues\.show\('(.*)'\)/,i=(Ne(e,"onclick")??"").match(n);if(!i)return!0;const[,o]=i;return o&&(al(e,"onclick"),t(function(){window.Appcues?.show?.(o)})),!0}const pl=e=>e.tagName==="IFRAME",ai=e=>{const t=e.getRootNode(e),n=t.parentWindow||t.defaultView;return n&&n!==window?n.frameElement:null};function pn(e){return{error:!0,errorMessage:e}}function Xp(){return Object.prototype.hasOwnProperty.call(Node.prototype,"getRootNode")}function Jp(e){return Xp()?e.getRootNode():Gp.call(e)}function hl(e){return e&&["appcues-container","appcues-layer","appcues-checklists","appcues-debugger"].some(n=>e?.tagName?.toLowerCase().includes(n))?!0:e&&e!==document.body&&e!==document.documentElement?hl(e.parentElement):!1}const Qp=e=>{let t=0;for(let n=0;n<e.length&&!(e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER"||e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER");n++)t=n;return e.slice(t+1)},Zp=(e,t=window.document)=>{try{const n=/^((body\s(>?\s?))?)(?<tagName>[\da-z]+):nth-child\((?<index>\d+)\)(?<remainingSelector>.*)/i,r=e.match(n),i=t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER"||t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER-BUILDER";if(!r||!i)return[];const{tagName:o,index:s,remainingSelector:c}=r.groups,l=Number.parseInt(s,10)-1,u=Qp([...document.body.children]),d=u[l]?.nodeName===o.toUpperCase()?u[l]:null;return c?d?ci(`* ${c}`,d):[]:[d]}catch{return[]}};function ml(e,t){const n=typeof e=="string"&&e||typeof e=="object"&&e.selector;if(!n)return pn("Missing selector.");const r=Zp(n,t);let i=r.length>0?r:ci(n,t?.documentElement??t);const o=e.text_filter||e.textFilter,s=!!o,c=typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"order_filter"),l=e.order_filter;if(s&&o.length>=0&&(i=Array.prototype.slice.call(i).filter(u=>u.innerText==null?!1:u.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===o.toString().toLowerCase().trim())),c&&l>=0&&(i=i[l]?[i[l]]:[]),i.length===0){let u="",d="";return s&&(u=` with text filter "${o}"`),c&&(d=` with order value ${l}`),pn(`Could not find element for selector "${n}"${s?u:""}${s&&c?" and":""}${c?d:""}.`)}return i=[...i].filter(u=>!hl(u)),i.length>1?pn(`Found ${i.length} elements for selector ${e.selector}.`):i.length===0?pn(`Could not find element for selector "${n}"`):i[0]}function eh(e,t){if(e.length===0)return pn("Missing selector.");let n;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=ml(e[r],t);if(i&&!i.error){n=i;break}}return n||pn("Could not find an element for list of selectors.")}function xo(e,t=window.document){let n=e;if(n&&typeof n=="object"&&n.length>0){if(n.length>1)return eh(n,t);[n]=n}return ml(n,t)}function Po(e,t={}){return!!(!(t.display!=="contents")||e&&(e.offsetWidth||e.offsetHeight)&&e.offsetWidth>0&&e.offsetHeight>0)}function Do(e,t){if(pl(e)){const n=e.contentDocument.body;return n.scrollHeight>n.clientHeight}return t!=="visible"&&e.scrollHeight>e.clientHeight}function Fo(e){return e==="fixed"||e==="relative"||e==="absolute"||e==="sticky"}function El(e){return e.display==="flex"||e.display==="inline-flex"}function gl(e,t,n,r,i={}){const o=i;let s=t.zIndex;const c=t.position,u=ai(e)||e.parentElement,d=u?r.getComputedStyle(u):{};if(o.fixed||(o.fixed=c==="fixed"||c==="sticky"),o.absolute||(o.absolute=c==="absolute"),o.opacity=Number.parseFloat(ne.defined(o.opacity)?o.opacity:1)*Number.parseFloat(t.opacity),o.hiddenOverflow||(o.hiddenOverflow=!Po(e,t)&&t.overflow==="hidden"&&!o.fixed&&!o.absolute),o.hasScrollableParent||(o.hasScrollableParent=Do(e,t.overflowY)),s!==""&&s!=="auto"&&!Fo(c)&&!El(d)&&(s="auto"),(ne.undefined(o.zIndex)||s!==""&&s!=="auto"&&(Fo(c)||El(d)))&&(o.zIndex=s),u&&u!==n.body&&u!==n.documentElement)return gl(u,d,n,r,o);if(/^\d+$/.test(o.zIndex)){let f=Number.parseInt(o.zIndex,10);f+=1,o.zIndex=f}return o}function th(e,t){const{documentElement:n}=e;return{xOffset:(t.pageXOffset||0)-n.clientLeft,yOffset:(t.pageYOffset||0)-n.clientTop}}function Ho({left:e,top:t,right:n,bottom:r},{xOffset:i,yOffset:o}){return{left:e+i,top:t+o,right:n+i,bottom:r+o}}function nh(e){const t=e.getRootNode(),n=t.parentWindow||t.defaultView;if(n!==window&&n){const{frameElement:i}=n,{top:o,left:s}=i.getBoundingClientRect();return{top:o,left:s}}return{top:0,left:0}}function yl(e,t,n=window.document){let r=e;const i=xo(t,n);if(i.error)return i;r=i;const o=ai(r),s={element:r},c=r.ownerDocument||document,l=c.defaultView||window,u=nh(r),{left:d,top:f,right:h,bottom:y}=r.getBoundingClientRect(),p={left:d,top:f,right:h,bottom:y};let m={left:d,top:f,right:h,bottom:y};const T=l.getComputedStyle(r),{fixed:_,zIndex:S,opacity:I,hiddenOverflow:A,hasScrollableParent:C}=gl(r,T,c,l);if(!_&&!o){const U=c.body,R=th(c,l);if(m=Ho(m,R),Fo(l.getComputedStyle(U).position)){const{documentElement:K}=c,{overflowY:G}=l.getComputedStyle(K),{overflowY:ue}=l.getComputedStyle(U);Do(U,ue)&&G!=="visible"&&(R.yOffset-=U.scrollTop);const w=Ho(U.getBoundingClientRect(),R);m=Ho(m,{xOffset:-1*w.left,yOffset:-1*w.top})}}const O=(m.right<0||m.bottom<0)&&!C;return!Po(r)||T.visibility==="hidden"||I===0||A||O?pn("Targeted element is present but not visible."):Object.assign(s,{boundingRect:m,fixed:_,zIndex:S,relativeBoundingRect:p,viewport:{width:c.documentElement.clientWidth,height:c.documentElement.clientHeight},iframeParent:o,padding:u})}function rh(e,t,n,r){return{xRegion:Math.floor(Math.min(Math.max(e,0),n-1)/(n/4)),yRegion:Math.floor(Math.min(Math.max(t,0),r-1)/(r/4))}}function ih(e,t){return Math.min(Od,Math.max(Nd,(e-t)/2))}function oh(e){const{documentElement:t}=e;return t.scrollTop>0||t.clientHeight<t.scrollHeight?t:e.body}function sh(e,t,n,r,i,o,s){const c=Math.ceil(r+e+i-n-s*o);let l=!1;c>e&&c<e+r&&(l=!0);const u=c-r/2,d=t-r;return{idealScrollTop:Math.max(0,Math.min(u,d)),visibleInContainer:l}}const Sl=e=>{if(e.assignedSlot){const{host:r}=e.assignedSlot.parentNode;return r??e.assignedSlot.parentNode}const t=ai(e);return t||(e.parentNode?.host?.tagName?.includes("-")?e.parentNode?.host:e.parentElement)};function ch(e,t){const n=[];let r=Sl(e);const i=t||document,{documentElement:o,body:s}=i;let c=window.getComputedStyle(e).position==="fixed";for(;!c&&r&&r!==s;){const{overflowY:u,position:d}=window.getComputedStyle(r);Do(r,u)&&(pl(r)?n.push(r.contentDocument.body):n.push(r)),c=d==="fixed",r=Sl(r)}const l=oh(i);return!c&&(o.scrollHeight>o.clientHeight||l.scrollHeight>l.clientHeight)&&n.push(l),n}function Tl(e,t,n,r){const i=r||document,o=e.getBoundingClientRect(),{height:s}=o;let{bottom:c}=o;return n.map(l=>{let{bottom:u}=l.getBoundingClientRect();const{scrollTop:d,scrollHeight:f}=l;let{clientHeight:h}=l;(l===i.documentElement||l===i.body)&&(h=Math.min(i.documentElement.clientHeight||Number.POSITIVE_INFINITY,i.body.clientHeight||Number.POSITIVE_INFINITY),h=h===Number.POSITIVE_INFINITY?window.innerHeight:h,u=h);const{idealScrollTop:y,visibleInContainer:p}=sh(d,f,u,h,c,s,t);return c+=d-y,{el:l,scrollTop:y,visibleInContainer:p}})}function ui(e,t){return e&&t?Object.keys(e).every(n=>e[n]===t[n]):!1}function lh(e,t){return e.error||t.error?e.error&&t.error&&e.errorMessage===t.errorMessage:e.fixed===t.fixed&&e.zIndex===t.zIndex&&e.element===t.element&&ui(e.boundingRect||{},t.boundingRect||{})&&ui(e.relativeBoundingRect||{},t.relativeBoundingRect||{})&&ui(e.viewport||{},t.viewport||{})&&ui(e.padding||{},t.padding||{})}function Uo(e){const t=e.ownerDocument;return t&&t.documentElement.contains(e)}function ah(e){const{height:t,width:n,top:r,left:i}=e.getBoundingClientRect(),o=n/2+i,s=-1*(t/2+r);return{originX:o,originY:s,majorAxis:n/2-.5,minorAxis:t/2-.5}}function uh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t;return(c-r)**2/o**2+(l-i)**2/s**2<=1}function dh(e,t,n){return[(-1*t+Math.sqrt(t**2-4*e*n))/(2*e),(-1*t-Math.sqrt(t**2-4*e*n))/(2*e)]}function Cl(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}function fh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t,u=(l-i)/(c-r),d=l-u*c,f=s**2+o**2*u**2,h=2*(o**2*u*(d-i)-s**2*r),y=s**2*r**2+o**2*(d-i)**2-s**2*o**2,p=dh(f,h,y).map(m=>{const T=u*m+d;return{x:m,y:T}}).reduce((m,T)=>!m||Cl({x:c,y:l},T)<Cl({x:c,y:l},m)?T:m,null);return{...p,y:-1*p.y}}function _l(e,t,n){const r=n?.ownerDocument??window.document;let i=(n?Jp(n):null)??r;i.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&i.nodeType!==Node.DOCUMENT_NODE&&(i=r);const o=getComputedStyle(n).pointerEvents==="none",{pointerEvents:s}=n.style;o&&(n.style.pointerEvents="auto");const c=i.msElementsFromPoint?i.msElementsFromPoint(e,t):i.elementsFromPoint(e,t);if(o&&(n.style.pointerEvents=s),!c)return!1;const l=r.documentElement.querySelector("appcues-layer"),u=ot(c,d=>!(l&&l.contains(d)));return n.contains(u)}function ph({xOffset:e,yOffset:t,element:n}){if(!n)return!1;if(document.fullscreenElement&&/appcues-/.test(document.fullscreenElement.className))return!0;const{left:r,top:i,right:o,bottom:s}=n.getBoundingClientRect(),c=o-r,l=s-i,u=Math.min(Math.max(1,e*c),c-1)+r,d=Math.min(Math.max(1,t*l),l-1)+i;if(_l(u,d,n))return!0;const f=ah(n);if(uh(u,d,f)||f.majorAxis<=0||f.minorAxis<=0)return!1;const{x:h,y}=fh(u,d,f);return _l(h,y,n)}function hh(e,t){const n=e,r=n.className.split(" ");r.includes(t)||(n.className=[...r,t].filter(i=>i).join(" "))}function mh(e,t){const n=e,r=n.className.split(" "),i=r.indexOf(t);i!==-1&&(r.splice(i,1),n.className=r.join(" "))}function Er(e){return(e.readyState==="interactive"||e.readyState==="complete")&&e.body}function di(e,t,n){const r=t.lastIndexOf("/")+1,i=t.slice(r);Array.prototype.some.call([...e.styleSheets],o=>(o?.href??"").indexOf(i)!==-1)?setTimeout(()=>n(),5):setTimeout(()=>di(e,t,n),5)}function Eh(e,t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{t()})})}function gh(e,t,n){let r;const i=new Promise(o=>{r=s=>{n&&!n(s)||(e.removeEventListener(t,r),o(!0))},e.addEventListener(t,r)});return{listener:r,promise:i}}function lt(e,t=5){const n=e.ownerDocument;t<=0||e&&n.activeElement!==e&&(e.focus({preventScroll:!0}),setTimeout(()=>{n.documentElement.contains(e)&&lt(e,t-1)},200))}function Il(e){e&&e.tagName==="BODY"?e.hasAttribute("tabindex")?e.focus({preventScroll:!0}):(e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),setTimeout(()=>{e.removeAttribute("tabindex")},500)):e&&e.focus({preventScroll:!0})}function fi(e){return[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled"))}const bt=P(e=>e.target.textContent,"");function yh(e="",t=!0){const n=["h1","h2","h3","h4","h5","h6"];let o=!1;return s=>{n.some(c=>Zn(s,c))&&!o&&(o=!0,ge(s,"tabindex","0"),e&&ge(s,"id",e),yt(s,"blur",c=>{setTimeout(()=>{c.target.removeAttribute("tabindex"),al(s,"tabindex")},400)}),Lo(s,"insert",c=>{c.elm&&t&&setTimeout(()=>{lt(c.elm)},500)}))}}function Sh(){return a.svg("svg",{width:"16px",height:"13px",viewBox:"0 0 16 13"},a.svg("defs",null),a.svg("g",{id:"Icon-Check-Mark",stroke:"none","stroke-width":"1",fill:"white","fill-rule":"evenodd"},a.svg("path",{d:"M5.4375,12.4668236 L0.21875,7.27932363 C0.0729165077,7.13349013 0,6.94599013 0,6.71682363 C0,6.48765712 0.0729165077,6.30015712 0.21875,6.15432363 L1.375,5.02932363 C1.52083349,4.86265712 1.703125,4.77932363 1.921875,4.77932363 C2.140625,4.77932363 2.33333349,4.86265712 2.5,5.02932363 L6,8.52932363 L13.5,1.02932363 C13.6666665,0.86265712 13.859375,0.779323627 14.078125,0.779323627 C14.296875,0.779323627 14.4791665,0.86265712 14.625,1.02932363 L15.78125,2.15432363 C15.9270835,2.30015712 16,2.48765712 16,2.71682363 C16,2.94599013 15.9270835,3.13349013 15.78125,3.27932363 L6.5625,12.4668236 C6.41666651,12.6334901 6.22916651,12.7168236 6,12.7168236 C5.77083349,12.7168236 5.58333349,12.6334901 5.4375,12.4668236 Z",id:"",fill:"#ffffff"})))}function Th({color:e="#039be5"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Caret-Right",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("path",{d:"M6.82142857,1.03571182 L7.60714286,0.249999404 C7.77380971,0.083332953 7.97619029,0 8.21428571,0 C8.45238113,0 8.65476172,0.083332953 8.82142857,0.249999404 L15.75,7.17855431 C15.9166668,7.34522076 16,7.54760087 16,7.78569572 C16,8.02379058 15.9166668,8.22617068 15.75,8.39283713 L8.82142857,15.321392 C8.65476172,15.4880585 8.45238113,15.5713914 8.21428571,15.5713914 C7.97619029,15.5713914 7.77380971,15.4880585 7.60714286,15.321392 L6.82142857,14.5356796 C6.63095256,14.3690132 6.54166685,14.1666331 6.55357143,13.9285382 C6.56547601,13.6904434 6.65476172,13.4880633 6.82142857,13.3213968 L11.1071429,9.21426375 L0.857142857,9.21426375 C0.619047437,9.21426375 0.416666848,9.13093079 0.25,8.96426434 C0.0833331517,8.79759789 0,8.59521778 0,8.35712293 L0,7.21426851 C0,6.97617366 0.0833331517,6.77379356 0.25,6.6071271 C0.416666848,6.44046065 0.619047437,6.3571277 0.857142857,6.3571277 L11.1071429,6.3571277 L6.82142857,2.24999464 C6.65476172,2.08332818 6.56547601,1.88094808 6.55357143,1.64285323 C6.54166685,1.40475837 6.63095256,1.20237827 6.82142857,1.03571182 Z",id:"",fill:e})))}function Ch({color:e="#999"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Arrow-Down",stroke:"none","stroke-width":"1",fill:e,"fill-rule":"evenodd"},a.svg("path",{d:"M7.18944314,11.1875067 L3.20507764,7.20314121 C3.06835906,7.06642263 3,6.9004077 3,6.70509552 C3,6.50978333 3.06835906,6.3437684 3.20507764,6.20704983 L3.87890415,5.56252012 C4.01562273,5.42580154 4.18163766,5.35744248 4.37694984,5.35744248 C4.57226203,5.35744248 4.73827696,5.42580154 4.87499553,5.56252012 L7.68748882,8.37501341 L10.4999821,5.56252012 C10.6367007,5.42580154 10.8027156,5.35744248 10.9980278,5.35744248 C11.19334,5.35744248 11.3593549,5.42580154 11.4960735,5.56252012 L12.1699,6.20704983 C12.3066186,6.3437684 12.3749776,6.50978333 12.3749776,6.70509552 C12.3749776,6.9004077 12.3066186,7.06642263 12.1699,7.20314121 L8.18553451,11.1875067 C8.04881594,11.3242253 7.88280101,11.3925843 7.68748882,11.3925843 C7.49217664,11.3925843 7.32616171,11.3242253 7.18944314,11.1875067 Z",id:"",fill:e})))}function _h({width:e,height:t,color:n}){return a.svg("svg",{"attrs-width":e,"attrs-height":t,"attrs-viewBox":"0 0 24.7 22.8"},a.svg("title",null,"checkmark"),a.svg("path",{"attrs-fill":n,class:"cls-1",d:"M18.4,17.4l-.3.3-.3.3h0a8.54,8.54,0,0,1-5.4,2,8.5,8.5,0,0,1,0-17,8.66,8.66,0,0,1,5.4,1.9l2.1-2.1A11.55,11.55,0,0,0,12.4,0,11.4,11.4,0,1,0,23.8,11.9Zm-5.8.5L6.1,11.4a1,1,0,0,1,0-1.4L7.5,8.6a1.08,1.08,0,0,1,.7-.3.91.91,0,0,1,.7.3L13.2,13l9.3-9.4a1,1,0,0,1,1.4,0L25.4,5a1,1,0,0,1,0,1.4L14,17.9a1,1,0,0,1-1.4,0Z",transform:"translate(-1 0)"}))}function Ih({width:e,height:t,color:n}){return a.svg("svg",{width:e,height:t,viewBox:"0 0 77 77",fill:"blue"},a.svg("title",null,"Artboard"),a.svg("desc",null,"Created with Sketch."),a.svg("defs",null),a.svg("g",{id:"Artboard",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("g",{id:"Group",transform:"translate(2.000000, 2.000000)",fill:n},a.svg("path",{d:"M36.5,72.5 C16.617749,72.5 0.5,56.382251 0.5,36.5 C0.5,16.617749 16.617749,0.5 36.5,0.5 C56.382251,0.5 72.5,16.617749 72.5,36.5 C72.5,56.382251 56.382251,72.5 36.5,72.5 Z M36.5,69.5 C54.7253967,69.5 69.5,54.7253967 69.5,36.5 C69.5,18.2746033 54.7253967,3.5 36.5,3.5 C18.2746033,3.5 3.5,18.2746033 3.5,36.5 C3.5,54.7253967 18.2746033,69.5 36.5,69.5 Z M32.7096583,27.0197504 C32.3597576,27.0197504 32.0723398,26.9364171 31.8474039,26.7697504 C31.622468,26.6030837 31.51,26.390121 31.51,26.1308615 L31.51,23.9086393 C31.51,23.6493797 31.622468,23.4364171 31.8474039,23.2697504 C32.0723398,23.1030837 32.3597576,23.0197504 32.7096583,23.0197504 L54.3035083,23.0197504 C54.653409,23.0197504 54.9408268,23.1030837 55.1657627,23.2697504 C55.3906987,23.4364171 55.5031667,23.6493797 55.5031667,23.9086393 L55.5031667,26.1308615 C55.5031667,26.390121 55.3906987,26.6030837 55.1657627,26.7697504 C54.9408268,26.9364171 54.653409,27.0197504 54.3035083,27.0197504 L32.7096583,27.0197504 Z M32.7096583,39.1382527 C32.3597576,39.1382527 32.0723398,39.0549194 31.8474039,38.8882527 C31.622468,38.7215861 31.51,38.5086234 31.51,38.2493638 L31.51,36.0271416 C31.51,35.7678821 31.622468,35.5549194 31.8474039,35.3882527 C32.0723398,35.2215861 32.3597576,35.1382527 32.7096583,35.1382527 L54.3035083,35.1382527 C54.653409,35.1382527 54.9408268,35.2215861 55.1657627,35.3882527 C55.3906987,35.5549194 55.5031667,35.7678821 55.5031667,36.0271416 L55.5031667,38.2493638 C55.5031667,38.5086234 55.3906987,38.7215861 55.1657627,38.8882527 C54.9408268,39.0549194 54.653409,39.1382527 54.3035083,39.1382527 L32.7096583,39.1382527 Z M32.7096583,51.2567551 C32.3597576,51.2567551 32.0723398,51.1734217 31.8474039,51.0067551 C31.622468,50.8400884 31.51,50.6271257 31.51,50.3678662 L31.51,48.1456439 C31.51,47.8863844 31.622468,47.6734217 31.8474039,47.5067551 C32.0723398,47.3400884 32.3597576,47.2567551 32.7096583,47.2567551 L54.3035083,47.2567551 C54.653409,47.2567551 54.9408268,47.3400884 55.1657627,47.5067551 C55.3906987,47.6734217 55.5031667,47.8863844 55.5031667,48.1456439 L55.5031667,50.3678662 C55.5031667,50.6271257 55.3906987,50.8400884 55.1657627,51.0067551 C54.9408268,51.1734217 54.653409,51.2567551 54.3035083,51.2567551 L32.7096583,51.2567551 Z M23.2982062,28.2493526 L22.1735266,29.4602668 C21.9735831,29.6116311 21.7486472,29.6873132 21.4987187,29.6873132 C21.2487903,29.6873132 21.0238544,29.6116311 20.8239109,29.4602668 L17.2999146,25.8275243 C17.0999711,25.6761601 17,25.4743407 17,25.2220673 C17,24.9697939 17.0749786,24.7427475 17.2249359,24.5409281 L18.4245943,23.405696 C18.6245377,23.2038766 18.8494736,23.1029675 19.0994021,23.1029675 C19.3493305,23.1029675 19.549274,23.2038766 19.6992312,23.405696 L21.4237401,25.070703 L26.2223734,20.2270464 C26.3723307,20.0756821 26.5722742,20 26.8222026,20 C27.072131,20 27.297067,20.0756821 27.4970104,20.2270464 L28.7716474,21.5136427 C28.9216047,21.7154621 28.9965833,21.9298944 28.9965833,22.1569408 C28.9965833,22.3839872 28.8966122,22.5984196 28.6966687,22.800239 L28.7716474,22.800239 L23.2982062,28.2493526 Z M23.2982062,40.4435371 L22.1735266,41.5787691 C21.9735831,41.7805885 21.7486472,41.8814977 21.4987187,41.8814977 C21.2487903,41.8814977 21.0238544,41.7805885 20.8239109,41.5787691 L17.2999146,38.0217088 C17.0999711,37.8198894 17,37.6054571 17,37.3784107 C17,37.1513643 17.0749786,36.9369319 17.2249359,36.7351125 L18.4245943,35.5241984 C18.6245377,35.3728341 18.8494736,35.297152 19.0994021,35.297152 C19.3493305,35.297152 19.549274,35.3728341 19.6992312,35.5241984 L21.4237401,37.1892053 L26.2223734,32.4212309 C26.3723307,32.2194115 26.5722742,32.1185023 26.8222026,32.1185023 C27.072131,32.1185023 27.297067,32.2194115 27.4970104,32.4212309 L28.7716474,33.7078272 C28.9216047,33.8591914 28.9965833,34.0610108 28.9965833,34.3132842 C28.9965833,34.5655576 28.8966122,34.792604 28.6966687,34.9944234 L28.7716474,34.9944234 L23.2982062,40.4435371 Z M23.2982062,52.5620394 L22.1735266,53.6972715 C21.9735831,53.8990909 21.7486472,54 21.4987187,54 C21.2487903,54 21.0238544,53.8990909 20.8239109,53.6972715 L17.2999146,50.1402111 C17.0999711,49.9383917 17,49.7239594 17,49.496913 C17,49.2698666 17.0749786,49.0554343 17.2249359,48.8536149 L18.4245943,47.6427007 C18.6245377,47.4913364 18.8494736,47.4156543 19.0994021,47.4156543 C19.3493305,47.4156543 19.549274,47.4913364 19.6992312,47.6427007 L21.4237401,49.3077077 L26.2223734,44.5397332 C26.3723307,44.3379138 26.5722742,44.2370047 26.8222026,44.2370047 C27.072131,44.2370047 27.297067,44.3379138 27.4970104,44.5397332 L28.7716474,45.8263295 C28.9216047,45.9776938 28.9965833,46.1795132 28.9965833,46.4317866 C28.9965833,46.68406 28.8966122,46.9111064 28.6966687,47.1129258 L28.7716474,47.1129258 L23.2982062,52.5620394 Z",id:""}))))}const Ah=e=>{const{label:t,items_remaining:n,onBeaconClicked:r,setWidth:i,isBottomRight:o,styles:s,percentComplete:c,isChecklistExpanded:l,controls:u,setRef:d}=e,{beacon_background_color:f,beacon_text_color:h}=s,y=p=>{p.key==="Tab"&&(p.currentTarget.style.outline=""),(p.key===" "||p.key==="Enter")&&r()};return a.html("div",{"attrs-role":"button","attrs-aria-expanded":l?"true":"false","attrs-aria-controls":u,"class-beacon":!0,"class-right":o,"hook-update":p=>i(p.elm),"attrs-tabindex":"0","attrs-aria-label":`${t} ${n} items remaining, ${c} complete`,"on-keyup":y,"hook-insert":d,"on-mousedown":p=>{p.currentTarget.style.outline="none"},"on-click":r,style:{backgroundColor:f}},a.html("div",{"attrs-aria-hidden":"true"},a.html("div",{"class-icon":!0,style:{color:h}}),a.html(_h,{height:"20px",width:"20px",color:h||"#FFFFFF"}),a.html("div",{"class-label":!0,style:{color:h}},t),a.html("div",{"class-badge":!0,style:{color:f}},n)))},vh=e=>{const{actions:t,label:n,state:r,onItemClicked:i,styles:o,itemNumberLabel:s,isSequential:c,depends_on:l,items:u,isChecklistExpanded:d,setRef:f}=e,h=r==="complete",y=t?t.length===0:!1,p=u.reduce((C,O)=>({...C,[O.id]:O}),{}),m=(l||[]).filter(C=>p[C]&&p[C].state==="incomplete").map(C=>p[C].label),T=m.length===0,_=c&&!T&&!h,S=C=>{(C.key===" "||C.key==="Enter")&&i()},I=t?t.some(C=>C.attributes.action_type==="redirect"):!1;let A=` - ${h?"completed":"incomplete"}`;return _&&(A=` - locked, complete ${m.join(", ")} first`),a.html("li",{"class-item":!0,"class-completed":h,"class-locked":_,"class-actionless":y,"on-click":_?()=>{}:i,"attrs-tabindex":d?"0":"-1","on-keyup":_?()=>{}:S,"attrs-role":I?"link":"button","attrs-type":I?"":"button","attrs-aria-disabled":_?"true":void 0,"hook-insert":s==="1"?f:void 0},a.html("a",null,a.html("span",{"class-checkmark":!0},a.html("span",{"class-sequential-label":c&&!h},s),a.html(Sh,null)),a.html("p",null,n,a.html("span",{"class-sr-only":!0},A)),a.html(Th,{color:o.beacon_background_color})))};function le(){return We(void 0,{},void 0,"")}function Al(e){return e.replace(/\/+$/,"")}function Dt(e){if(window.AppcuesBundleSettings?.ASSETS_PATH){const t=e.split("/").pop();return`${Al(window.AppcuesBundleSettings.ASSETS_PATH)}/styles/${t}`}if(window.AppcuesBundleSettings&&window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN){const{GENERIC_BUNDLE_DOMAIN:t}=window.AppcuesBundleSettings;return`${t}${e}`}return`https://fast.appcues.com${e}`}const bh="/generic/main/7.17.2/checklist.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",wh="sha256-B3IM66R3am8teThQaWvlSxHaPUFXo+mNdS8RK5z2nsw=",Mo=Dt(bh),$o=30,Nh=-300,Oh="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/";let gr=null,yr=null,Sr=null,pi=null;const kh=e=>{const{id:t,name:n,styles:r,text_tokens:i,items:o,is_checklist_expanded:s,is_first_view:c,frameHeight:l,beaconWidth:u,onBeaconClicked:d,onItemClicked:f,onOutsideClicked:h,onDismissClicked:y,onDismissCanceled:p,onDismissConfirmed:m,onCSSLoaded:T,onMinimizedClicked:_,shouldShowConfirmDismiss:S,onExpandChecklistResize:I,onCollapseBeaconResize:A,status:C,progress_state:O,is_sequential:L,is_dismissable:U,showBadge:R,collisionMode:K,collisionCoordinates:G,isInjectableSDK:ue}=e,w=pe=>{ue||setTimeout(()=>{lt(pe.elm)},300)},J=i.beacon_text||"Get Started",de=60,{length:he}=o.length>0?o.filter(pe=>pe&&pe.state&&pe.state!=="complete"):[],Ce="appcues-checklist-main",Re=`${Math.floor((o.length-he)/o.length*100)||0}%`,rt=he===0,Le=i.header_text||"Getting Started",W=i.description_text||"Here are a few things to do first.",Y=i.completion_dismiss_text||"I'm done",ie=i.completion_title||"Congratulations!",Ie=i.completion_text||"Youve completed the first few steps. You can always come back if you need more help.",oe=O==="shown_manually"?rt:O==="completed",fe=i.dismiss_text||"No thanks",N=i.dismiss_prompt_text||"Are you sure you want to dismiss this list?",x=i.dismiss_cancel_text||"Keep it",k=i.dismiss_confirm_text||"Dismiss it",X=`.checklist .checklist-body .item:hover:not(.completed):not(.locked) a,
    .checklist .checklist-header.checklist-congrats:hover .dismiss-link,
    .checklist .skip-link:hover,
    .checklist .checklist-main .powered-by-appcues:hover {
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark {
        border-color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark .sequential-label{
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item.completed a .checkmark {
        background-color: ${r.success_color};
        border-color: ${r.success_color};
      }
      .checklist .checklist-header.checklist-congrats h1 {
        color: ${r.success_color};
      }`,ee=`
    @keyframes checkAppear {
      0% {
        border-color: inherit;
        background-color: inherit;
        -webkit-transform: none;
                transform: none;
      }
      20% {
        border-color: #555555;
      }
      35% {
        -webkit-transform: none;
                transform: none;
      }
      45% {
        border-color: #555555;
        background-color: white;
        -webkit-transform: scale(0.7);
                transform: scale(0.7);
      }
      58% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      64% {
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      100% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: none;
                transform: none;
      }
    }
    .checklist .checklist-body .item.completed a .checkmark {
      animation-name: checkAppear;
      animation-duration: 1.5s;
      animation-timing-function: cubic-bezier(0, 0, 0.23, 1.27);
      animation-iteration-count: 1;
    }
  `,{position:Z}=r,B=Z==="Bottom Right",j=s?{height:`${l}px`,width:"364px"}:{height:`${de}px`,width:`${u}px`,transition:"all 0s linear 1s"},Oe=12,De=12,{beacon_vertical_offset:Nn,beacon_horizontal_offset:sr}=r,Rt=B?"right":"left",$i=c?Nh:$o,uA={opacity:0,delayed:{opacity:100},remove:{opacity:0},destroy:{opacity:0},bottom:K?`${G.y}px`:`${$o+Nn}px`,[Rt]:K?`${G.x}px`:`${$i+sr}px`},On=pe=>{const Vt=K?G.y:$o+Nn,Wi=window.innerHeight-Vt;if(pe){const Cd=pe.getBoundingClientRect().height+de+Oe+De,Vi=Math.min(Cd,Wi);Math.ceil(Vi)!==l&&window.requestAnimationFrame(()=>I(t,Vi))}else{const Vi=Math.min(359,Wi);window.requestAnimationFrame(()=>I(t,Vi))}};pi=On;const dA=18,fA=pe=>{if(pe){const Vt=pe.getBoundingClientRect().width+dA;Math.ceil(Vt)!==u&&window.requestAnimationFrame(()=>{A(t,Vt)})}},gd=pe=>{pe.target.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&!K&&h(t)},Bi=r.font,yd=r.font_url,pA=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default {
      font-family: ${Bi};
    }

    .checklist-main .checklist-congrats h1, p, .dismiss-link {
      font-family: ${Bi};
    }

    .beacon .label, .badge {
      font-family: ${Bi};
    }
  `,Sd=r.custom_background_color,hA=`
    .checklist-main,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .dismiss-container,
    .checklist-main .checklist-header.checklist-congrats
     {
      background-color: ${Sd};
    }
  `,Wr=r.custom_font_color,mA=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default,
    .checklist-main .checklist-header.checklist-congrats p,
    .checklist-main .checklist-body .item p,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .item .checkmark > span,
    .checklist-main .checklist-footer .skip-link,
    .checklist-main .checklist-footer .powered-by-appcues {
      color: ${Wr};
    }
    .checklist-main .checklist-header {
      border-bottom: 1px solid ${Wr};
    }
    .checklist-main .checklist-body .item .checkmark {
      border: 2px solid ${Wr};
    }
    .checklist-main .checklist-footer .skip-link:hover,
    .checklist-main .checklist-footer .powered-by-appcues:hover,
    .checklist-main .checklist-body .item:hover:not(.actionless) p
     {
      color: ${r.beacon_background_color};
    }
  `,Td=r.custom_hover_state_color,EA=`
    .checklist-main .checklist-body .item:hover:not(.actionless) {
      background-color: ${Td};
    }
  `;return a.html("appcues-checklist",{"class-apcl-right":B,"class-apcl-left":!B,"class-first-view":c,key:t,"hook-remove":()=>{document.removeEventListener("click",gd),Sr&&(window.removeEventListener("resize",Sr),Sr=null),pi=null},style:uA},a.html("iframe",{"attrs-title":Le,"style-border":"none",style:j,"style-color-scheme":"none"},a.html("link",{"attrs-href":Mo,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":wh,"attrs-crossorigin":"anonymous","on-load":()=>{T(t,Mo,!0),document.addEventListener("click",gd),Sr=()=>{const pe=document.querySelector("appcues-checklist iframe");if(!pe||!pe.contentDocument)return;const Vt=pe.contentDocument.querySelector(".checklist-main.expanded");Vt&&pi&&pi(Vt)},window.addEventListener("resize",Sr)},"on-error":()=>{T(t,Mo,!1)}}),yd?a.html("link",{"attrs-href":yd,"attrs-rel":"stylesheet"}):a.html(le,null),a.html("style",{"attrs-type":"text/css"},X),a.html("style",{"attrs-type":"text/css"},ee),Bi?a.html("style",{"attrs-type":"text/css"},pA):a.html(le,null),Sd?a.html("style",{"attrs-type":"text/css"},hA):a.html(le,null),Wr?a.html("style",{"attrs-type":"text/css"},mA):a.html(le,null),Td?a.html("style",{"attrs-type":"text/css"},EA):a.html(le,null),C===Q.SHOWING?a.html("div",{"class-checklist":!0},r.type==="beacon"&&!K?a.html(Ah,{styles:r,label:J,items_remaining:he,onBeaconClicked:()=>{d(t),On()},setWidth:fA,isBottomRight:B,percentComplete:Re,isChecklistExpanded:s,controls:Ce,setRef:pe=>{yr=pe}}):a.html(le,null),a.html("div",{"attrs-id":Ce,"class-checklist-main":!0,"class-expanded":s,"hook-update":pe=>On(pe.elm)},a.html("div",{"class-checklist-container":!0},a.html("div",{"class-checklist-header":!0,"class-checklist-congrats":oe},oe?a.html("div",{"class-header-content":!0},a.html("span",{"class-emoji":!0},a.html(Rh,{successImageCode:r.success_image_code,customSuccessImageUrl:r.custom_success_image_url,successColor:r.success_color})),a.html("h1",null,ie),a.html("p",null,Ie)):a.html("div",{"class-header-content":!0},a.html("h1",{"class-title":!0},Le),a.html("div",{"class-desc":!0},W),a.html("div",{"class-progress-container":!0},a.html("span",{"class-completed-caption":!0},Re),a.html("span",{"class-progress-bar":!0},a.html("span",{"class-progress-bar-complete":!0,"class-progress-bar-done":rt,"style-width":Re,"style-backgroundColor":r.beacon_background_color})))),oe?a.html("button",{type:"button","class-dismiss-link":!0,"attrs-tabindex":"0","on-keyup":pe=>{(pe.key===" "||pe.key==="Enter")&&m(t,n,oe)},"on-click":()=>m(t,n,oe)},Y):s?a.html("div",{style:{visibility:s?"visible":"hidden"},"attrs-role":"button","attrs-aria-expanded":s?"true":"false","attrs-aria-controls":Ce,"attrs-aria-label":"Minimize checklist","class-minimize":!0,"attrs-tabindex":"0","hook-insert":w,"on-keyup":pe=>{(pe.key===" "||pe.key==="Enter")&&(_(t),yr&&w(yr))},"on-click":()=>{_(t),yr&&w(yr)}},a.html("div",{"attrs-aria-hidden":"true"},a.html(Ch,{color:Wr||"#999"}))):a.html(le,null)),a.html("div",{"class-checklist-body":!0,"class-show-confirm":S},S?a.html(le,null):a.html("ul",{"class-items":!0},o.map((pe,Vt)=>a.html(vh,{...pe,checklistId:t,items:o,onItemClicked:()=>s&&f(t,pe.id),styles:r,isSequential:L,itemNumberLabel:`${Vt+1}`,isChecklistExpanded:s,setRef:Wi=>{gr=Wi}}))),S?a.html("div",{"class-dismiss-container":!0},a.html("div",{"class-content-container":!0},a.html("div",{"class-dismiss-content":!0},a.html("div",{"class-dismiss-text":!0},N),a.html("div",{"class-button-container":!0},a.html("div",{"class-button-row":!0},a.html("a",{"class-button-default":!0,"class-alt":!0,"class-cancel-dismiss":!0,"attrs-tabindex":"0",role:"button",type:"button","hook-insert":w,"on-keyup":pe=>{(pe.key===" "||pe.key==="Enter")&&(p(t),On(),gr&&w(gr))},"on-click":()=>{p(t),On(),gr&&w(gr)}},x),a.html("a",{"class-button-default":!0,"attrs-tabindex":"0",role:"button",type:"button","on-keyup":pe=>{(pe.key===" "||pe.key==="Enter")&&m(t,n,rt)},"on-click":()=>m(t,n,rt)},a.html("strong",null,"")," ",k)))))):a.html(le,null)),a.html("div",{"class-checklist-footer":!0},U&&s&&!oe&&!S?a.html("button",{type:"button","class-skip-link":!0,"class-left":B,"attrs-tabindex":"0","on-keyup":pe=>{(pe.key===" "||pe.key==="Enter")&&(y(t),document.querySelector("appcues-checklist iframe").contentDocument.documentElement.querySelector(".cancel-dismiss").focus(),On())},"on-click":()=>{y(t),On()}},fe):a.html(le,null),s&&oe&&R?a.html("a",{"class-powered-by-appcues":!0,"class-left":B,"attrs-href":"http://www.appcues.com","attrs-target":"_blank"},"Brought to you by Appcues"):a.html(le,null))))):a.html(le,null)))};function Rh({successImageCode:e,customSuccessImageUrl:t,successColor:n}){if(t)return a.html("img",{alt:"Success!",src:`${t}`,style:{height:"60px",width:"60px"}});if(e==="none")return a.html(le,null);if(!e||e==="default")return a.html(Ih,{width:"60px",height:"60px",color:n});if(e&&e!=="none")return a.html("img",{alt:"",src:`https:${Oh}${e}.svg`,style:{height:"60px",width:"60px"}})}const Lh=e=>{const{id:t,attributes:n,beaconWidth:r,viewState:i,frameHeight:o,shouldShowConfirmDismiss:s,callbacks:c,showBadge:l,status:u,collisionMode:d,collisionCoordinates:f,isInjectableSDK:h}=e;return a.html(kh,{id:t,status:u,styles:n.styles||{},beaconWidth:r,frameHeight:o,items:n.items||[],is_checklist_expanded:i===jt.EXPANDED,is_first_view:i===jt.FIRSTVIEW,text_tokens:n.text_tokens||{},name:n.name||"Untitled Checklist",shouldShowConfirmDismiss:s,progress_state:n.progress_state,is_sequential:n.is_sequential||!1,is_dismissable:n?.is_dismissable??!0,showBadge:l,collisionMode:d,collisionCoordinates:f,isInjectableSDK:h,...c})};function hi(){return!1}function xh(e){let t=document.body;if(window.AppcuesSettings&&window.AppcuesSettings.customContainer){const r=document.documentElement.querySelector(window.AppcuesSettings.customContainer);r&&(t=r)}const n=document.createElement("div");return t.appendChild(n),e(n,a.html("div",{"class-appcues":!0}))}function Ph(){const e=Kn([Jn,Xn,zn,Qn,Yn],si.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let t=null;return function(r){if(Er(document)){const i=ye(r)||{},{status:o}=r.currentContent||{},s=Vf(r),c=i.type&&ne.inArray(Xi,o),l=ln(r),u=ot(l,f=>Xi.includes(f.status)),d=hi(r.settings);if(c||u){(!t||!Uo(t.elm))&&(t=xh(e));const f=r.views.callbacks[z.CHECKLIST];t=e(t,a.html("div",{"class-appcues":!0,"class-injectable":s},c&&r.views.renderers[i.type]?r.views.renderers[i.type](r):a.html(le,null),u?a.html("appcues-checklists",{"attrs-role":cr.ROLE_CONTAINER,"attrs-aria-label":cr.LABEL_CHECKLIST},Lh({...u,showBadge:d,callbacks:f,collisionMode:r.collisionMode,collisionCoordinates:r.collisionCoordinates,isInjectableSDK:s})):a.html(le,null)))}else t&&(t=e(t,a.html("div",{"class-appcues":!0})))}}}var mi={},Bo,vl;function Dh(){return vl||(vl=1,Bo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Bo}var Wo,bl;function Fh(){if(bl)return Wo;bl=1;var e=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,t=Dh();return Wo=function(n){var r=0,i,o=!0,s={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return n.replace(e,function(c){if(c==="="){o=!0,r++;return}o?r===0?((t[c]||n.charAt(n.length-2)==="/")&&(s.voidElement=!0),s.name=c):(s.attrs[i]=c.replace(/^['"]|['"]$/g,""),i=void 0):(i&&(s.attrs[i]=i),i=c),r++,o=!1}),s},Wo}var Vo,wl;function Hh(){if(wl)return Vo;wl=1;var e=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"|'[^']*'|[^'">])+>)/g,t=Fh(),n=Object.create?Object.create(null):{};function r(i,o,s,c,l){var u=o.indexOf("<",c),d=o.slice(c,u===-1?void 0:u);/^\s*$/.test(d)&&(d=" "),(!l&&u>-1&&s+i.length>=0||d!==" ")&&i.push({type:"text",content:d})}return Vo=function(o,s){s||(s={}),s.components||(s.components=n);var c=[],l,u=-1,d=[],f={},h=!1;return o.replace(e,function(y,p){if(h){if(y!=="</"+l.name+">")return;h=!1}var m=y.charAt(1)!=="/",T=y.indexOf("<!--")===0,_=p+y.length,S=o.charAt(_),I;m&&!T&&(u++,l=t(y),l.type==="tag"&&s.components[l.name]&&(l.type="component",h=!0),!l.voidElement&&!h&&S&&S!=="<"&&r(l.children,o,u,_,s.ignoreWhitespace),f[l.tagName]=l,u===0&&c.push(l),I=d[u-1],I&&I.children.push(l),d[u]=l),(T||!m||l.voidElement)&&(T||u--,!h&&S!=="<"&&S&&(I=u===-1?c:d[u].children,r(I,o,u,_,s.ignoreWhitespace)))}),!c.length&&o.length&&r(c,o,0,0,s.ignoreWhitespace),c},Vo}const Nl=Mp(Up);var er={},Ol;function Uh(){if(Ol)return er;Ol=1,Object.defineProperty(er,"__esModule",{value:!0}),er.createTextVNode=t,er.transformName=n,er.unescapeEntities=o;var e=Nl;function t(s,c){return(0,e.vnode)(void 0,void 0,void 0,o(s,c))}function n(s){s=s.replace(/-(\w)/g,function(u,d){return d.toUpperCase()});var c=s.charAt(0).toLowerCase();return""+c+s.substring(1)}var r=new RegExp("&[a-z0-9#]+;","gi"),i=null;function o(s,c){return i||(i=c.createElement("div")),s.replace(r,function(l){return i.innerHTML=l,i.textContent})}return er}var kl;function Mh(){if(kl)return mi;kl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=h.context||document;if(!f)return null;var p=[],m=s((0,t.default)(f),p,y),T=void 0;return m?m.length===1?T=m[0]:T=m:T=c({type:"text",content:f},p,y),h.hooks&&h.hooks.create&&p.forEach(function(_){h.hooks.create(_)}),T};var e=Hh(),t=i(e),n=Nl,r=Uh();function i(f){return f&&f.__esModule?f:{default:f}}function o(f,h,y){return h in f?Object.defineProperty(f,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[h]=y,f}function s(f,h,y){if(f instanceof Array&&f.length>0)return f.map(function(p){return c(p,h,y)})}function c(f,h,y){var p=void 0;return f.type==="text"?p=(0,r.createTextVNode)(f.content,y):p=(0,n.h)(f.name,l(f,y),s(f.children,h,y)),h.push(p),p}function l(f,h){var y={};if(!f.attrs)return y;var p=Object.keys(f.attrs).reduce(function(_,S){if(S!=="style"&&S!=="class"){var I=(0,r.unescapeEntities)(f.attrs[S],h);_?_[S]=I:_=o({},S,I)}return _},null);p&&(y.attrs=p);var m=u(f);m&&(y.style=m);var T=d(f);return T&&(y.class=T),y}function u(f){try{return f.attrs.style.split(";").reduce(function(h,y){var p=y.split(":"),m=(0,r.transformName)(p[0].trim());if(m){var T=p[1].replace("!important","").trim();h?h[m]=T:h=o({},m,T)}return h},null)}catch{return null}}function d(f){try{return f.attrs.class.split(" ").reduce(function(h,y){return y=y.trim(),y&&(h?h[y]=!0:h=o({},y,!0)),h},null)}catch{return null}}return mi}var Go,Rl;function $h(){return Rl||(Rl=1,Go=Mh()),Go}var Bh=$h();const Ft=Oo(Bh);function Wh(e,t,n){let r=0,i=0,o=e;if(o.offsetParent)for(;r+=o.offsetLeft,i+=o.offsetTop,!!(o=o.offsetParent););return{left:r+e.offsetWidth/2+t,top:i+e.offsetHeight+10+n}}function Vh(e){const t=e.includes("top"),n=e.includes("left"),r=e.includes("right");return n?t?-140:-135:r?t?130:135:0}function Ll(e){return window.getComputedStyle(e).position==="fixed"?!0:e.parentElement!==null&&e.parentElement!==document.body?Ll(e.parentElement):!1}function Gh(e,t){const n=e.includes("top"),r=Vh(e),i=n?-70:0,o=t.elm.parentElement;return Wh(o,r,i)}function jh(){const{body:e}=document,t=document.documentElement;return{width:Math.max.apply(Math,[e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth]),height:Math.max.apply(Math,[e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight])}}function xl(e){e.setAttribute("tabindex","0"),e.focus()}const Pl=(e,t,n)=>{const r=e.currentTarget.querySelector('[tabindex="0"]');if(!r&&(e.key==="ArrowDown"||e.key==="ArrowUp")){e.currentTarget.firstElementChild.setAttribute("tabindex","0"),e.currentTarget.firstElementChild.focus();return}switch(e.key){case"Tab":{if(n){e.currentTarget.lastElementChild.focus();break}const i=document.documentElement.querySelector("#appcues-widget-icon");t(),i.focus();break}case"ArrowDown":{const i=r.nextElementSibling||e.target.parentElement.firstElementChild;xl(i);break}case"ArrowUp":{const i=r.previousElementSibling||e.target.parentElement.lastElementChild;xl(i);break}}r?.setAttribute("tabindex","-1")},qh={left:"appcues-widget-left",right:"appcues-widget-right",center:"appcues-widget-center",bottom:"appcues-widget-bottom","bottom-left":"appcues-widget-bottom-left","bottom-right":"appcues-widget-bottom-right","bottom-center":"appcues-widget-bottom-center",top:"appcues-widget-top","top-left":"appcues-widget-top-left","top-right":"appcues-widget-top-right","top-center":"appcues-widget-top-center",default:"appcues-widget-center"},Kh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Yh(e){const t=new Date(e);return`${Kh[t.getMonth()]} ${t.getDate()}`}const zh=e=>{const{flows:t,history:n,position:r,header:i,footer:o,expanded:s,onClose:c,onOutsideClick:l,onItemClick:u,dropdownPositioning:d,hasFixedAncestor:f}=e,h=t.sort((m,T)=>T.version_id-m.version_id).map(m=>{const T=m.migrated_from_step_id?!!n[m.id]||!!n[m.migrated_from_step_id]:!!n[m.id];return{...m,seen:T}}),[y,p]=h.reduce((m,T)=>(m[T.seen?1:0].push(T),m),[[],[]]);return a.html("div",{classNames:`appcues-widget-container ${s?"appcues-active":""}`,style:s?{height:jh().height}:{}},a.html("div",{"on-click":l,classNames:"appcues-widget-backdrop"}),a.html("div",{classNames:`appcues-widget-dropdown ${f?"appcues-widget-fixed":""} ${qh[r]}`,style:s?{top:`${d.top}px`,left:`${d.left}px`}:{}},i?a.html("div",{classNames:"appcues-widget-header"},Ft(i)):a.html(le,null),a.html("div",{classNames:"appcues-widget-content",id:"appcues-widget-content","attrs-tabindex":"-1"},a.html("ul",{classNames:"appcues-widget-list","attrs-tabindex":"0","on-keydown":m=>Pl(m,c,p.length>0),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!y||y.length===0?a.html("li",{classNames:"appcues-nothing-new"},"There's nothing new to see here!"):y.map((m,T)=>a.html(Dl,{index:T,item:m,onItemClick:u,hasBeenSeen:!1}))),a.html("ul",{classNames:"appcues-widget-list",id:"appcues-widget-list-unseen","attrs-tabindex":"0","on-keydown":m=>Pl(m,c,!1),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!p||p.length===0?a.html(le,null):p.map((m,T)=>a.html(Dl,{index:T,item:m,onItemClick:u,hasBeenSeen:!0})))),o?a.html("div",{classNames:"appcues-widget-footer"},Ft(o)):a.html(le,null)))};function Dl({index:e,item:t,onItemClick:n,hasBeenSeen:r}){const i=(o,{id:s},c)=>{(o.key===" "||o.key==="Enter")&&n(o,s,c)};return a.html("li",{classNames:r?"appcues-read":"appcues-unread","attrs-tabindex":"-1",id:`appcues-widget-listitem-${e}`,"on-keyup":o=>i(o,t,r)},a.html("a",{"attrs-data-itemid":t.id,"attrs-data-isread":r,"on-click":o=>n(o,t.id,r)},t.name,a.html("time",null,Yh(t.version_id))))}const Xh=({expanded:e,flows:t,history:n,onClick:r,onClose:i,icon:o})=>{const s=l=>{l.key==="Tab"&&(l.currentTarget.style.outline="",e&&i())},c=t.filter(l=>!n[l.id]).length;return a.html("button",{"attrs-tabindex":"0",classNames:`${o?"":"appcues-icon-bell"} appcues-widget-icon appcues-icon appcues-icon-visible appcues-in appcues-slide`,"attrs-data-appcues-count":c,id:"appcues-widget-icon","on-keyup":s,"on-mousedown":l=>{l.currentTarget.style.outline="none"},"on-click":r,"attrs-aria-controls":"appcues-widget-list","attrs-aria-expanded":e,"attrs-aria-haspopup":"true","attrs-aria-label":`${c} unseen flows`,type:"button"},o?a.html("img",{alt:"",src:o}):a.html("i",null))};function Jh(e,t){const n=document.createElement("div");t.classList.add("appcues-widget"),t.appendChild(n);const r=document.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",Dt("/widget.css")),document.head.appendChild(r),e(n,a.html("div",null))}function Qh(e){const t=document.createElement("div");return document.body.appendChild(t),e(t,a.html("div",null))}function Zh(){const e=Kn([Jn,Xn,zn,Qn,Yn]);let t=null,n=null;return function(i){const o=Gc(i),s=Hf(i),c=Uf(i),l=Mf(i)||"default",u=$f(i),d=Bf(i),f=_o(i),h=Wf(i),y=i.views.callbacks[z.WIDGET],p=document.documentElement.querySelector(o),m=()=>{y.onToggled(),document.documentElement.querySelector("#appcues-widget-content > ul").focus()};p&&((!t||!Uo(t.elm))&&(t=Jh(e,p)),(!n||!Uo(n.elm))&&(n=Qh(e)),t=e(t,a.html("div",{"class-appcues":!0},a.html("style",null,`
              .appcues-widget-icon {
                border: none;
                background: none;
                overflow: visible;
              }
            `),Xh({expanded:f,flows:c,history:s,onClose:y.onClose,onClick:m,icon:h}))),n=e(n,a.html("div",{"class-appcues":!0},zh({flows:c,history:s,position:l,header:u,footer:d,expanded:f,onClose:y.onClose,onOutsideClick:y.onToggled,onItemClick:y.onItemClicked,dropdownPositioning:Gh(l,t),hasFixedAncestor:Ll(t.elm.parentElement)}))))}}const $=xe(["START_INITIALIZE","START_IDENTIFY","START_HANDLE_MESSAGE","MESSAGE_TIMEOUT","START_EVENT","START_OPEN_BUILDER_EVENT","FINISHED_EVENT","START_ACTIVITY","START_ANONYMOUS","INJECT_CONTENT","INJECT_STYLES","PREPARE_CONTENT","CLEANUP_STEP","START_CONTENT","START_RESET","START_DEBUG","START_FORM_SUBMISSION","START_SHOW","STOP_TASKS","START_CHECK","START_FLOW","START_STEP","CANCEL_ATTEMPTS","SEND_LIFECYCLE_EVENT","CLOSE_CHANNEL","START_IDENTIFY_GROUP","START_GROUP_ACTIVITY"]),H=xe(["INITIALIZE","CONFIGURE_TRANSPORT","IDENTIFY","SENT_REQUEST","UPDATE_USER","RESET","UPDATE_CONTENT","UPDATE_STYLES","WILL_SHOW_CONTENT","SHOW_CONTENT","WILL_CLOSE_CONTENT","FETCHING_CONTENT","REGISTER_RENDERER","REGISTER_CALLBACKS","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","WAIT_IDENTIFY","COMPLETED_IDENTIFY","STORE_TASK","CLEAR_TASKS","CLEAR_TASK","CLEAR_CURRENT_CONTENT","RUN_ACTION","RESUME_ACTION","CHECKED_FOR_INITIAL_CONTENT","SENT_ACTIVITY_UPDATE","STARTED_FLOW_IMM","SET_BODY_READY","SAVE_OPEN_BUILDER_INSTANCE","SAVE_EXPERIMENTS","EXPERIMENT_STARTED","SAVE_GROUP_PROPS","PREFETCH_FLOWS","INITIALIZE_OPEN_BUILDER","OPEN_BUILDER_INITIALIZED"]),ae=xe(["INVALIDATE_FORM","LOADED_CSS","RESIZE_CONTENT","ACTIVATED_STEP_CHILD","DEACTIVATED_STEP_CHILD","SET_CURRENT_STEP_CHILD","CLEAR_CURRENT_STEP_CHILD","SET_CURRENT_STEP","ADVANCE_STEP_CHILD","CLOSE_FLOW","CLOSE_STEP","CANCEL_STEP","SET_PREVIOUS_ACTIVE_ELEMENT","SET_NEXT_CONTENT_ID_COOKIE","RUN_PREV_STEP_CHILD","CLEAR_CONTENT_STATE_CHILD","SET_FORCE_FOCUS"]),Ei=xe(["PREPARE_MODAL","RESIZE_MODAL_CONTENT"]),Ae=xe(["PREPARE_SATISFACTION_SURVEY","START_COLLAPSING_SATISFACTION_SURVEY","COLLAPSE_SATISFACTION_SURVEY","EXPAND_SATISFACTION_SURVEY","SHOW_SATISFACTION_SURVEY_TOAST","HIDE_SATISFACTION_SURVEY_TOAST","QUANTITATIVE_QUESTION_SUBMITTED","CLICKED_UPDATE_NPS_SCORE","QUALITATIVE_QUESTION_SUBMITTED","ASK_ME_LATER_SELECTED","FEEDBACK_TEXT_CHANGED"]),me=xe(["ADD_ACTIVE_ANNOTATIONS","REMOVE_ACTIVE_ANNOTATIONS","START_CALCULATE_POSITIONS","START_HANDLE_POSITION_UPDATES","SET_ANNOTATIONS_POSITIONS","SET_ANNOTATIONS_READY","SAVE_POSITION_DETAILS","REPORTED_ANNOTATIONS_ERRORS","REPORTED_ANNOTATIONS_RECOVERY","SET_EXISTING_ANNOTATIONS_ERRORS","SET_TOOLTIP_SETTLED","SET_ACTIVE_ANNOTATIONS_WILL_CLOSE","HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS","GO_TO_STEP","SET_IS_SCROLLING_TO_ANNOTATION","CONFIRM_SCROLLING"]),Yt=xe(["EXPAND_HOTSPOT","PREPARE_HOTSPOTS","SET_BEACON_SETTLED","CLOSE_LAST_HOTSPOT"]),re=xe(["UPDATE_CHECKLISTS","ANIMATE_IN_CHECKLIST","EXPAND_CHECKLIST","COLLAPSE_CHECKLIST","SHOW_DISMISS_CONFIRMATION","CANCEL_DISMISS_CONFIRMATION","CONFIRM_DISMISS_CHECKLIST","LOADED_CHECKLIST_CSS","START_CHECKLIST","SET_CHECKLIST_STATUS","START_CHECKLIST_ITEM","START_CHECKLIST_ACTION","COMPLETED_CHECKLIST_ACTION","SEND_CHECKLIST_ERROR","SET_CHECKLIST_HEIGHT","SET_CHECKLIST_WIDTH","HIDE_CHECKLISTS","UNHIDE_CHECKLISTS","CLEAR_FORCE_SHOWN_CHECKLIST","SET_EXPAND_CHECKLIST_LATER","SEND_CHECKLIST_SHOWN_EVENT"]),qe=xe(["TOGGLE_ROW_DETAILS","TOGGLE_COLLAPSED","SET_CURRENT_PAGE","TRACK_PAGE","ADD_CONTENT_ERROR","ADD_CHILD_ERROR","CLOSE_DEBUGGER"]),tr=xe(["CANCEL_TEST","RESET_TEST","LOADED_TEST_MODE_CSS"]),wt=xe(["LOADED_LAUNCHPAD","UPDATED_WIDGET_HISTORY","UPDATED_WIDGET_FLOWS","TOGGLED_WIDGET"]),Je=xe(["PAUSE_EXPERIENCE","SHOW_EXPERIENCES","RESUME_EXPERIENCE","SAVE_ON_HOLD_LAUNCHPADS","UNHIDE_LAUNCHPADS","HIDE_LAUNCHPADS"]),St=xe(["SET_SESSION","SESSION_STARTED","START_SESSION"]),gi=xe(["SET_COLLISION_MODE"]),yi=xe(["LAUNCHPAD_SEARCH_RESPONSE","LAUNCHPAD_SEARCH_ERROR"]);function b(e,t=n=>n){return(...n)=>{const r={type:e};if(n.length>0&&n[0]instanceof Error){const[i]=n;r.error=!0,r.payload=i}else n.length>0&&(r.payload=t(...n));return r}}const em=b($.START_INITIALIZE,(e,t,n,r)=>({settings:e,dispatchMessage:t,transportModule:n,reporter:r})),nr=b($.START_IDENTIFY,(e,t={},n=[])=>({userId:e,properties:t,events:n})),tm=b($.START_HANDLE_MESSAGE),nm=b($.MESSAGE_TIMEOUT),Ue=b($.START_EVENT,(e,t)=>({flowId:e,event:t})),rm=b($.START_OPEN_BUILDER_EVENT,(e,t)=>({type:e,event:t})),im=b($.FINISHED_EVENT,(e,t)=>({flowId:e,event:t})),we=b($.START_ACTIVITY,(e={},t=[],n=!1)=>n?{properties:e,events:t,trigger:!0}:{properties:e,events:t,trigger:!1}),om=b($.START_GROUP_ACTIVITY,(e,t={})=>({groupId:e,groupProperties:t})),sm=b($.START_ANONYMOUS);b($.INJECT_CONTENT,e=>({content:e})),b($.INJECT_STYLES,(e,t)=>({defaultStyles:e,styles:t}));const cm=b($.PREPARE_CONTENT),lm=b($.CLEANUP_STEP),am=b($.START_CONTENT),um=b($.START_RESET),dm=b($.START_DEBUG),fm=b($.START_FORM_SUBMISSION,(e,t,n,r)=>({formId:e,fields:t,onSuccess:n,ignoreValidation:r})),Tr=b($.START_SHOW),pm=b($.STOP_TASKS),Fl=b($.START_CHECK,(e,t,n)=>({currentUrl:e,shouldOverrideCurrentFlow:t,requestId:n})),jo=b($.START_FLOW,(e,t,n,r,i=null)=>({flowId:e,stepId:t,url:n,eventChannel:r,status:i})),Hl=b($.START_STEP,(e,t,n=null)=>({step:e,url:t,status:n})),Cr=b($.CANCEL_ATTEMPTS),ce=b($.SEND_LIFECYCLE_EVENT,(e,t=null)=>({event:e,eventChannel:t})),hm=b($.CLOSE_CHANNEL),mm=b($.START_IDENTIFY_GROUP,(e,t)=>({groupId:e,groupProperties:t})),Em=b(H.INITIALIZE,e=>({transport:e})),gm=b(H.IDENTIFY),Ul=b(H.SENT_REQUEST,(e,t)=>({requestId:e,pageViewEvent:t})),Ml=b(H.CONFIGURE_TRANSPORT),_r=b(H.UPDATE_USER,(e,t)=>({profile:e,merge:t})),ym=b(H.RESET),qo=b(H.UPDATE_CONTENT,(e,t)=>({orderedContent:e,content:t})),Sm=b(H.UPDATE_STYLES),rr=b(H.WILL_SHOW_CONTENT),Tm=b(H.SHOW_CONTENT),Cm=b(H.WILL_CLOSE_CONTENT),_m=b(H.FETCHING_CONTENT,(e,t)=>({contentId:e,url:t})),Im=b(H.REGISTER_RENDERER),$l=b(H.REGISTER_CALLBACKS),Bl=b(H.ADD_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),Wl=b(H.REMOVE_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),Am=b(H.WAIT_IDENTIFY),vm=b(H.COMPLETED_IDENTIFY),bm=b(H.STORE_TASK,(e,t)=>({key:e,task:t})),wm=b(H.CLEAR_TASKS),Nm=b(H.CLEAR_TASK,(e,t)=>({key:e,id:t})),Vl=b(H.CLEAR_CURRENT_CONTENT),Om=b(H.RUN_ACTION),Gl=b(H.RESUME_ACTION,(e,t)=>({action:e,status:t})),jl=b(H.CHECKED_FOR_INITIAL_CONTENT,(e,t)=>({url:e,complete:t})),km=b(H.SENT_ACTIVITY_UPDATE),Rm=b(H.STARTED_FLOW_IMM),ql=b(H.SET_BODY_READY),Lm=b(H.SAVE_OPEN_BUILDER_INSTANCE),xm=b(H.INITIALIZE_OPEN_BUILDER),Pm=b(H.OPEN_BUILDER_INITIALIZED),Dm=b(H.SAVE_EXPERIMENTS),Si=b(H.EXPERIMENT_STARTED,(e,t)=>({id:e,type:t})),Fm=b(H.SAVE_GROUP_PROPS);function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Hm=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kl=Hm,Yl=()=>Math.random().toString(36).substring(7).split("").join("."),Um={INIT:`@@redux/INIT${Yl()}`,REPLACE:`@@redux/REPLACE${Yl()}`},zl=Um;function Mm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Xl(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Xl)(e,t)}let r=e,i=t,o=new Map,s=o,c=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((T,_)=>{s.set(_,T)}))}function d(){if(l)throw new Error(Qe(3));return i}function f(T){if(typeof T!="function")throw new Error(Qe(4));if(l)throw new Error(Qe(5));let _=!0;u();const S=c++;return s.set(S,T),function(){if(_){if(l)throw new Error(Qe(6));_=!1,u(),s.delete(S),o=null}}}function h(T){if(!Mm(T))throw new Error(Qe(7));if(typeof T.type>"u")throw new Error(Qe(8));if(typeof T.type!="string")throw new Error(Qe(17));if(l)throw new Error(Qe(9));try{l=!0,i=r(i,T)}finally{l=!1}return(o=s).forEach(S=>{S()}),T}function y(T){if(typeof T!="function")throw new Error(Qe(10));r=T,h({type:zl.REPLACE})}function p(){const T=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Qe(11));function S(){const A=_;A.next&&A.next(d())}return S(),{unsubscribe:T(S)}},[Kl](){return this}}}return h({type:zl.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:y,[Kl]:p}}function $m(e,t,n){return Xl(e,t,n)}function Bm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Wm(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Qe(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},c=e.map(l=>l(s));return o=Bm(...c)(i.dispatch),{...i,dispatch:o}}}var Jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Gm(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}var jm="proc first argument (Saga function result) must be an iterator",Ti={toString:function(){return"@@redux-saga/CHANNEL_END"}},hn={toString:function(){return"@@redux-saga/TASK_CANCEL"}},Ir={wildcard:function(){return ec},default:function(t){return(typeof t>"u"?"undefined":Vm(t))==="symbol"?function(n){return n.type===t}:function(n){return n.type===String(t)}},array:function(t){return function(n){return t.some(function(r){return Ko(r)(n)})}},predicate:function(t){return function(n){return t(n)}}};function Ko(e){return(e==="*"?Ir.wildcard:M.array(e)?Ir.array:M.stringableFunc(e)?Ir.default:M.func(e)?Ir.predicate:Ir.default)(e)}function qm(e,t,n){var r=[],i=void 0,o=!1;c(t);function s(u){l(),n(u,!0)}function c(u){r.push(u),u.cont=function(d,f){o||(Kr(r,u),u.cont=Pe,f?s(d):(u===t&&(i=d),r.length||(o=!0,n(i))))}}function l(){o||(o=!0,r.forEach(function(u){u.cont=Pe,u.cancel()}),r=[])}return{addTask:c,cancelAll:l,abort:s,getTasks:function(){return r},taskNames:function(){return r.map(function(d){return d.name})}}}function Km(e){var t=e.context,n=e.fn,r=e.args;if(M.iterator(n))return n;var i=void 0,o=void 0;try{i=n.apply(t,r)}catch(s){o=s}return M.iterator(i)?i:lo(o?function(){throw o}:(function(){var s=void 0,c={done:!1,value:i},l=function(d){return{done:!0,value:d}};return function(u){return s?l(u):(s=!0,c)}})())}var Ym=function(t){return{fn:t}};function Yo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return Pe},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Pe,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"anonymous",l=arguments[8];Ee(e,M.iterator,jm);var u=ao(Re),d=o.sagaMonitor,f=o.logger,h=o.onError,y=f||rc,p=function(x){var k=x.sagaStack;!k&&x.stack&&(k=x.stack.split(`
`)[0].indexOf(x.message)!==-1?x.stack:"Error: "+x.message+`
`+x.stack),y("error","uncaught at "+c,k||x.message||x)},m=af(t),T=Object.create(i);O.cancel=Pe;var _=fe(s,c,e,l),S={name:c,cancel:A,isRunning:!0},I=qm(c,S,L);function A(){S.isRunning&&!S.isCancelled&&(S.isCancelled=!0,O(hn))}function C(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,I.cancelAll(),L(hn))}return l&&(l.cancel=C),e._isRunning=!0,O(),_;function O(N,x){if(!S.isRunning)throw new Error("Trying to resume an already finished generator");try{var k=void 0;x?k=e.throw(N):N===hn?(S.isCancelled=!0,O.cancel(),k=M.func(e.return)?e.return(hn):{done:!0,value:hn}):N===Ti?k=M.func(e.return)?e.return():{done:!0}:k=e.next(N),k.done?(S.isMainRunning=!1,S.cont&&S.cont(k.value)):U(k.value,s,"",O)}catch(X){S.isCancelled&&p(X),S.isMainRunning=!1,S.cont(X,!0)}}function L(N,x){e._isRunning=!1,m.close(),x?(N instanceof Error&&Object.defineProperty(N,"sagaStack",{value:"at "+c+` 
 `+(N.sagaStack||N.stack),configurable:!0}),_.cont||(N instanceof Error&&h?h(N):p(N)),e._error=N,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(N)):(e._result=N,e._deferredEnd&&e._deferredEnd.resolve(N)),_.cont&&_.cont(N,x),_.joiners.forEach(function(k){return k.cb(N,x)}),_.joiners=null}function U(N,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",X=arguments[3],ee=nc();d&&d.effectTriggered({effectId:ee,parentEffectId:x,label:k,effect:N});var Z=void 0;function B(Oe,De){Z||(Z=!0,X.cancel=Pe,d&&(De?d.effectRejected(ee,Oe):d.effectResolved(ee,Oe)),X(Oe,De))}B.cancel=Pe,X.cancel=function(){if(!Z){Z=!0;try{B.cancel()}catch(Oe){p(Oe)}B.cancel=Pe,d&&d.effectCancelled(ee)}};var j=void 0;return M.promise(N)?R(N,B):M.helper(N)?de(Ym(N),ee,B):M.iterator(N)?K(N,ee,c,B):M.array(N)?u(N,ee,B):(j=$e.take(N))?G(j,B):(j=$e.put(N))?ue(j,B):(j=$e.all(N))?Re(j,ee,B):(j=$e.race(N))?rt(j,ee,B):(j=$e.call(N))?w(j,ee,B):(j=$e.cps(N))?J(j,B):(j=$e.fork(N))?de(j,ee,B):(j=$e.join(N))?he(j,B):(j=$e.cancel(N))?Ce(j,B):(j=$e.select(N))?Le(j,B):(j=$e.actionChannel(N))?W(j,B):(j=$e.flush(N))?ie(j,B):(j=$e.cancelled(N))?Y(j,B):(j=$e.getContext(N))?Ie(j,B):(j=$e.setContext(N))?oe(j,B):B(N)}function R(N,x){var k=N[Js];M.func(k)?x.cancel=k:M.func(N.abort)&&(x.cancel=function(){return N.abort()}),N.then(x,function(X){return x(X,!0)})}function K(N,x,k,X){Yo(N,t,n,r,T,o,x,k,X)}function G(N,x){var k=N.channel,X=N.pattern,ee=N.maybe;k=k||m;var Z=function(j){return j instanceof Error?x(j,!0):Zr(j)&&!ee?x(Ti):x(j)};try{k.take(Z,Ko(X))}catch(B){return x(B,!0)}x.cancel=Z.cancel}function ue(N,x){var k=N.channel,X=N.action,ee=N.resolve;Ac(function(){var Z=void 0;try{Z=(k?k.put:n)(X)}catch(B){if(k||ee)return x(B,!0);p(B)}if(ee&&M.promise(Z))R(Z,x);else return x(Z)})}function w(N,x,k){var X=N.context,ee=N.fn,Z=N.args,B=void 0;try{B=ee.apply(X,Z)}catch(j){return k(j,!0)}return M.promise(B)?R(B,k):M.iterator(B)?K(B,x,ee.name,k):k(B)}function J(N,x){var k=N.context,X=N.fn,ee=N.args;try{var Z=function(j,Oe){return M.undef(j)?x(Oe):x(j,!0)};X.apply(k,ee.concat(Z)),Z.cancel&&(x.cancel=function(){return Z.cancel()})}catch(B){return x(B,!0)}}function de(N,x,k){var X=N.context,ee=N.fn,Z=N.args,B=N.detached,j=Km({context:X,fn:ee,args:Z});try{po();var Oe=Yo(j,t,n,r,T,o,x,ee.name,B?null:Pe);B?k(Oe):j._isRunning?(I.addTask(Oe),k(Oe)):j._error?I.abort(j._error):k(Oe)}finally{bc()}}function he(N,x){if(N.isRunning()){var k={task:_,cb:x};x.cancel=function(){return Kr(N.joiners,k)},N.joiners.push(k)}else N.isAborted()?x(N.error(),!0):x(N.result())}function Ce(N,x){N===Zs&&(N=_),N.isRunning()&&N.cancel(),x()}function Re(N,x,k){var X=Object.keys(N);if(!X.length)return k(M.array(N)?[]:{});var ee=0,Z=void 0,B={},j={};function Oe(){ee===X.length&&(Z=!0,k(M.array(N)?$d.from(Jl({},B,{length:X.length})):B))}X.forEach(function(De){var Nn=function(Rt,$i){Z||($i||Zr(Rt)||Rt===Ti||Rt===hn?(k.cancel(),k(Rt,$i)):(B[De]=Rt,ee++,Oe()))};Nn.cancel=Pe,j[De]=Nn}),k.cancel=function(){Z||(Z=!0,X.forEach(function(De){return j[De].cancel()}))},X.forEach(function(De){return U(N[De],x,De,j[De])})}function rt(N,x,k){var X=void 0,ee=Object.keys(N),Z={};ee.forEach(function(B){var j=function(De,Nn){if(!X){if(Nn)k.cancel(),k(De,!0);else if(!Zr(De)&&De!==Ti&&De!==hn){var sr;k.cancel(),X=!0;var Rt=(sr={},sr[B]=De,sr);k(M.array(N)?[].slice.call(Jl({},Rt,{length:ee.length})):Rt)}}};j.cancel=Pe,Z[B]=j}),k.cancel=function(){X||(X=!0,ee.forEach(function(B){return Z[B].cancel()}))},ee.forEach(function(B){X||U(N[B],x,B,Z[B])})}function Le(N,x){var k=N.selector,X=N.args;try{var ee=k.apply(void 0,[r()].concat(X));x(ee)}catch(Z){x(Z,!0)}}function W(N,x){var k=N.pattern,X=N.buffer,ee=Ko(k);ee.pattern=k,x(ar(t,X||Fn.fixed(),ee))}function Y(N,x){x(!!S.isCancelled)}function ie(N,x){N.flush(x)}function Ie(N,x){x(T[N])}function oe(N,x){so.assign(T,N),x()}function fe(N,x,k,X){var ee,Z,B;return k._deferredEnd=null,Z={},Z[zs]=!0,Z.id=N,Z.name=x,ee="done",B={},B[ee]=B[ee]||{},B[ee].get=function(){if(k._deferredEnd)return k._deferredEnd.promise;var j=Bd();return k._deferredEnd=j,k._isRunning||(k._error?j.reject(k._error):j.resolve(k._result)),j.promise},Z.cont=X,Z.joiners=[],Z.cancel=C,Z.isRunning=function(){return k._isRunning},Z.isCancelled=function(){return k._isCancelled},Z.isAborted=function(){return k._isAborted},Z.result=function(){return k._result},Z.error=function(){return k._error},Z.setContext=function(Oe){Ee(Oe,M.object,oc("task",Oe)),so.assign(T,Oe)},Gm(Z,B),Z}}var zm="runSaga(storeInterface, saga, ...args)",Ql=zm+": saga argument must be a Generator function!";function Xm(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=void 0;M.iterator(e)?(o=e,e=t):(Ee(t,M.func,Ql),o=t.apply(void 0,r),Ee(o,M.iterator,Ql));var s=e,c=s.subscribe,l=s.dispatch,u=s.getState,d=s.context,f=s.sagaMonitor,h=s.logger,y=s.onError,p=nc();f&&(f.effectTriggered=f.effectTriggered||Pe,f.effectResolved=f.effectResolved||Pe,f.effectRejected=f.effectRejected||Pe,f.effectCancelled=f.effectCancelled||Pe,f.actionDispatched=f.actionDispatched||Pe,f.effectTriggered({effectId:p,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:r}}));var m=Yo(o,c,jd(l),u,d,{sagaMonitor:f,logger:h,onError:y},p,t.name);return f&&f.effectResolved(p,m),m}function Jm(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Qm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.context,n=t===void 0?{}:t,r=Jm(e,["context"]),i=r.sagaMonitor,o=r.logger,s=r.onError;if(M.func(r))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(o&&!M.func(o))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(s&&!M.func(s))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(r.emitter&&!M.func(r.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function c(l){var u=l.getState,d=l.dispatch,f=sf();return f.emit=(r.emitter||tc)(f.emit),c.run=Xm.bind(null,{context:n,subscribe:f.subscribe,dispatch:d,getState:u,sagaMonitor:i,logger:o,onError:s}),function(h){return function(y){i&&i.actionDispatched&&i.actionDispatched(y);var p=h(y);return f.emit(y),p}}}return c.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},c.setContext=function(l){Ee(l,M.object,oc("sagaMiddleware",l)),so.assign(n,l)},c}function D(e){return(t,{error:n,payload:r})=>n?t:e(t,r)}const Zm={[St.SET_SESSION]:D((e,t)=>({...e,session:{...e.session,...t}})),[St.START_SESSION]:D(e=>({...e,session:{}}))};function eE({getState:e}){return t=>n=>{try{n.error&&xt(e())(n.payload,{extra:n.payload.extra||{}})}catch{}finally{t(n)}}}const tE=e=>(t,n)=>Object.prototype.hasOwnProperty.call(e,n.type)?e[n.type](t,n):t;function Ze(e,t){return{...e,currentContent:{...e.currentContent,...t}}}function Tt(e,t){return Ze(e,{state:{...e.currentContent.state,...t}})}function Ht(e,t,n){const r=vt(e);return Tt(e,{children:{...r,[t]:{...r[t],...n}}})}function nE(e,t){const n=vt(e);return Tt(e,{children:{...n,[t]:{}}})}const rE={[$.START_INITIALIZE]:D((e,t)=>({...e,settings:{...e.settings,...t.settings},reporter:t.reporter})),[$.PREPARE_CONTENT]:D(e=>e.currentContent&&e.currentContent.status===Q.PENDING?Ze(e,{status:Q.STARTED}):e),[$.START_FLOW]:D((e,{flowId:t,url:n,eventChannel:r})=>Ze(e,{flowId:t,shownUrl:n,eventChannel:r})),[$.START_STEP]:D((e,{step:t,url:n})=>Ze(e,{stepId:t.id,shownUrl:n})),[$.START_EVENT]:D((e,{flowId:t,event:n})=>{if(t){const r=e.pendingEvents||{};return{...e,pendingEvents:{...r,[t]:[...r[t]||[],n]}}}return e}),[$.FINISHED_EVENT]:D((e,{flowId:t,event:n})=>{if(t&&e.pendingEvents&&e.pendingEvents[t]){const r=e.pendingEvents[t],i=r.indexOf(n);if(i!==-1)return{...e,pendingEvents:{...e.pendingEvents,[t]:[...r.slice(0,i),...r.slice(i+1,r.length)]}}}return e}),[$.START_FORM_SUBMISSION]:D((e,{formId:t,fields:n})=>{const{state:r}=e.currentContent,{currentStepChildId:i,forms:o={}}=r;return Tt(e,{forms:{...o,[i]:{formId:t,fields:n}}})}),[gi.SET_COLLISION_MODE]:D((e,t)=>({...e,collisionMode:t.collisionMode,collisionCoordinates:t?.collisionCoordinates??{x:0,y:0}})),[Je.SAVE_ON_HOLD_LAUNCHPADS]:D((e,t)=>({...e,onHold:{launchpads:t}}))};function*iE(e){try{yield rn(e)}catch(t){const n=yield v(xt);try{n(t)}catch{}}}function*oE(e,...t){const n=yield It(e,...t);return yield It(iE,n),n}function ft(e,...t){return E(oE,e,...t)}function*sE(e,t){try{yield rn(t)}finally{yield g(Nm(e,t.id))}}function Zl(e,t){return`${e}-step:${t}`}function*ea(e,t,n,...r){for(;;){const i=yield V(e),o=yield ft(t,...r,i);if(n){const s=typeof n=="function"?yield E(n):n;yield g(bm(s,o)),yield It(sE,s,o)}}}function*te(e,t,...n){yield*ea(e,t,!1,...n)}function*cE(e,t,n,...r){let i;for(;;){const o=yield V(e);i&&(yield it(i)),i=yield ft(t,...r,o)}}function*et(e,t,...n){yield*cE(e,t,!1,...n)}function*lE(e){yield Ge(e)}function zt(e,t,n){let r=n;return ne.defined(r)||(r=Date.now()),{name:e,attributes:t,timestamp:r}}function Ve(e){const t={...e},{id:n,timestamp:r}=t;return delete t.timestamp,delete t.id,delete t.actionId,delete t.name,zt(`appcues:${n}`,t,r)}const pt=(e,t,n)=>{const r=e.context&&Object.keys(e.context)&&e.context.locale_name,i=e.context&&Object.keys(e.context)&&e.context.locale_id,{workflow_id:o,workflow_task_id:s}=e;return{flowId:e.id,flowName:e.name,flowType:e.type,flowVersion:e.version_id,...o?{workflowId:o}:{},...s?{workflowTaskId:s}:{},timestamp:Date.now(),sessionId:t,localeName:r,localeId:i,...n}},aE=e=>({timestamp:Date.now(),sessionId:e.id});function Ar(e,t,n){return{checklistId:e.id,checklistName:e.internal_name,timestamp:Date.now(),sessionId:t,...n}}function ta(e,t,n,r){return{checklistId:e.id,checklistName:e.internal_name,checklistVersion:e.version_id,itemId:t.id,itemIndex:t.index,itemLabel:t.label,timestamp:Date.now(),sessionId:n,...r}}function mn(e,t,n,r){const i=pt(e,n);return Object.assign(i,{stepId:t.id,stepType:t.type,stepNumber:Bn(e,t.id)},r)}function vr(e,t,n,r,i){const o=sn(t,n);return mn(e,t,r,{stepChildId:n,stepChildNumber:o,...i})}function zo(e,t,n,r,i,o){return vr(e,t,n,o,{interactionType:r,interaction:i})}function uE(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function dE(e,t="_"){return e.split(t).map(n=>n.toLowerCase().charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Se(e,t,n){const r=n||dE(e);return{id:e,name:r,...t}}function fE(e,t){return Se("flow_attempted",pt(e,t))}function na(e,t){return Se("flow_started",pt(e,t))}function pE(e,t){return Se("nps_survey_started",pt(e,t),"NPS Survey Started")}function hE(e,t){return Se("flow_completed",pt(e,t))}function mE(e,t,n){return Se("flow_skipped",pt(e,n,{stepId:t,stepNumber:Bn(e,t)}))}function EE(e,t){return Se("flow_aborted",pt(e,t))}function gE(e,t,n){return Se("step_attempted",mn(e,t,n))}function ra(e,t,n){return Se("step_started",mn(e,t,n))}function yE(e,t,n){return Se("step_completed",mn(e,t,n))}function SE(e,t,n,r){return Se("step_skipped",mn(e,t,r,{stepChildId:n,stepChildNumber:sn(t,n)}))}function TE(e,t,n){return Se("step_aborted",mn(e,t,n))}function CE(e,t,n,r){return Se("step_child_activated",vr(e,t,n,r))}function _E(e,t,n,r,i){return Se("step_child_deactivated",vr(e,t,n,i,{timeSpent:r}))}function ia(e,t,n,r,i,o){return Se("step_interacted",zo(e,t,n,r,i,o))}function IE(e,t,n,r){return Se("flow_error",pt(e,r,{error:t,details:n}))}function AE(e,t,n,r,i){return Se("step_error",mn(e,t,i,{error:n,details:r}))}function vE(e,t,n,r,i){return Se("step_child_error",vr(e,t,n,i,{error:r}))}function bE(e,t,n,r){return Se("step_child_recovered",vr(e,t,n,r))}function wE(e,t,n,r,i){return Se("form_submitted",zo(e,t,n,"submit",r,i))}function NE(e,t,n,r,i){return Se("form_field_submitted",zo(e,t,n,"submit",r,i))}function OE(e,t){return Se("checklist_shown",Ar(e,t))}function kE(e,t){return Se("checklist_completed",Ar(e,t))}function RE(e,t){return Se("checklist_skipped",Ar(e,t))}function LE(e,t){return Se("checklist_dismissed",Ar(e,t))}function xE(e,t){return Se("checklist_shown_manually",Ar(e,t))}function PE(e,t,n){return Se("checklist_item_started",ta(e,t,n))}function DE(e,t,n){return Se("checklist_item_completed",ta(e,t,n))}function FE(e){return Se("session_started",aE(e))}function HE(e){return Se("experiment_entered",{experimentId:e.experiment_id,group:e.group})}const tt={EXPERIENCES:"experiences",FLOWS:"flows"};function*oa(e,t){return(yield v(jf))[t]?.[e]}function*sa(e,t){return(yield E(oa,e,t))?.group==="control"}function*UE({payload:{id:e,type:t}}){const n=yield E(oa,e,t);if(!n)return;const r=HE(n);yield g(Ue(n.flow_id,r)),yield g(we({},[Ve(r)],!1))}function*ME(){yield[F(te,H.EXPERIMENT_STARTED,UE)]}function $E(e,t){const n={callback:e};return t&&(n.context=t),n}function BE(e,t,n){let r=e;for(let i=0;i<r.length;r++)if(t.call(n,r[i],i,r))return i;return-1}function ca(e,t){return e.callback===t.callback&&e.context===t.context}function la(e,t){let n={};return n=t.type===z.ACTION?{status:Q.RUNNING,stepId:t.id}:{status:Q.ERROR,error:"Tried to run a non-action step."},Ze(e,n)}const WE={[H.INITIALIZE]:D((e,t)=>({...e,transport:{...e.transport,...t.transport,initialized:!0}})),[H.IDENTIFY]:D((e,t)=>e.user.userId===t?e:t==null?{...e,user:{}}:ne.defined(e.user.userId)?{...e,user:{userId:t}}:{...e,user:{...e.user,userId:t}}),[H.CONFIGURE_TRANSPORT]:D((e,t)=>({...e,transport:{...e.transport,details:{...e.transport.details,...t}}})),[H.UPDATE_USER]:D((e,t)=>{const n=be(e);let r;return r=t.merge?{...n,...t.profile}:t.profile,n.userId&&(r={...r,userId:n.userId}),{...e,user:r}}),[H.RESET]:D(e=>({...e,content:{},checklists:[],orderedContent:[],currentContent:null,user:{},requestId:null,debugger:null,lastCheckedForInitialContent:{},experiments:{[tt.FLOWS]:{},[tt.EXPERIENCES]:{}}})),[H.UPDATE_CONTENT]:D((e,{content:t,orderedContent:n})=>{let r=t;return r&&(r=Object.keys(r).reduce((i,o)=>{let s=r[o];if(Hn(s))for(let c=0;c<kc(s);c++){const l=Lt(s,c),u=on(l);if(Lc(l,u.length-1)){const d=Lt(s,c+1);if(dr(d)&&!ne.defined(d.attributes.params.initiated_by_user)){const f=s.attributes.steps[d.id];s={...s,...s.attributes&&{attributes:{...s.attributes,steps:{...s.attributes.steps,[d.id]:{...f,step:{...f.step,attributes:{...f.step.attributes,params:{...f.step.attributes.params,initiated_by_user:!0}}}}}}}}}}}return{...i,[o]:s}},{})),{...e,content:{...e.content,...r},orderedContent:n}}),[H.UPDATE_STYLES]:D((e,t)=>({...e,styles:{...e.styles,...t}})),[H.WILL_SHOW_CONTENT]:(e,t)=>{const n=se(e);if(t.error){let{orderedContent:r}=e;r&&(r=r.filter(o=>o!==cn(e)));const i={...e,currentContent:{...e.currentContent,status:Q.ERROR,error:t.payload.message},orderedContent:r};return delete i.currentContent.shownUrl,i}return n&&t.payload===n?Ze(e,{status:Q.WILL_SHOW}):e},[H.SHOW_CONTENT]:D(e=>Ze(e,{status:Q.SHOWING})),[H.WILL_CLOSE_CONTENT]:D(e=>Be(e)===Q.SHOWING?Ze(e,{status:Q.WILL_CLOSE}):e),[H.FETCHING_CONTENT]:(e,t)=>{const{contentId:n,url:r}=t.payload||{};return n?Ze(e,{status:Q.FETCHING,flowId:n,shownUrl:r}):e},[H.REGISTER_RENDERER]:D((e,t)=>({...e,views:{...e.views,renderers:{...e.views.renderers,...t}}})),[H.REGISTER_CALLBACKS]:D((e,t)=>({...e,views:{...e.views,callbacks:{...e.views.callbacks,...t}}})),[H.ADD_EVENT_LISTENER]:D((e,t)=>{const n={...e.eventListeners},{name:r}=t,i=$E(t.callback,t.context),o=n[r];if(o){if(o.some(s=>ca(s,i)))return e;n[r]=[...o,i]}else n[r]=[i];return{...e,eventListeners:n}}),[H.REMOVE_EVENT_LISTENER]:D((e,t)=>{const{name:n}=t,r=(e.eventListeners||{})[n]||[];if(t.callback){const i=BE(r,o=>ca(o,{callback:t.callback,context:t.context}));return i>-1?{...e,eventListeners:{...e.eventListeners,[n]:[...r.slice(0,i),...r.slice(i+1)]}}:e}return{...e,eventListeners:{...e.eventListeners,[n]:[]}}}),[H.COMPLETED_IDENTIFY]:D(e=>({...e,userIdentified:!0})),[H.STORE_TASK]:D((e,t)=>({...e,tasks:{...e.tasks,[t.key]:[...ei(e,t.key)||[],t.task]}})),[H.CLEAR_TASKS]:D((e,t)=>ei(e,t)?{...e,tasks:{...e.tasks,[t]:null}}:e),[H.CLEAR_TASK]:D((e,t)=>{const{key:n,id:r}=t,i=ei(e,n);return i?{...e,tasks:{...e.tasks,[n]:i.filter(o=>o.id!==r)}}:e}),[H.CLEAR_CURRENT_CONTENT]:D(e=>({...e,currentContent:null})),[H.RUN_ACTION]:D((e,t)=>la(e,t)),[H.RESUME_ACTION]:D((e,t)=>la(e,t.action)),[H.CHECKED_FOR_INITIAL_CONTENT]:D((e,t)=>({...e,lastCheckedForInitialContent:t})),[H.SAVE_OPEN_BUILDER_INSTANCE]:D((e,t)=>({...e,Appcues:t,initializingOpenBuilder:!1})),[H.INITIALIZE_OPEN_BUILDER]:D(e=>({...e,initializingOpenBuilder:!0})),[H.SAVE_EXPERIMENTS]:D((e,t)=>{const n=t.reduce((r,i)=>(i.flow_id&&(r[tt.FLOWS][i.flow_id]=i),i.experience_id&&(r[tt.EXPERIENCES][i.experience_id]=i),r),{[tt.FLOWS]:{...e.experiments?.[tt.FLOWS]},[tt.EXPERIENCES]:{...e.experiments?.[tt.EXPERIENCES]}});return{...e,experiments:n}}),[H.SAVE_GROUP_PROPS]:D((e,t)=>({...e,...t}))},VE={[ae.INVALIDATE_FORM]:D((e,t)=>{if(Array.isArray(t)){const n=t.reduce((r,i)=>(r[i.fieldId]=i.messages,r),{});return Tt(e,{formErrors:n})}return e}),[ae.LOADED_CSS]:D((e,t)=>{switch(Vn(e)){case z.MODAL:case z.SATISFACTION_SURVEY:{const n=se(e);if(t===n)return Tt(e,{cssLoaded:!0});break}case z.HOTSPOTS:{if(vt(e)[t])return Ht(e,t,{cssLoaded:!0});break}}return e}),[ae.RESIZE_CONTENT]:D((e,t)=>{if(e.currentContent){const{currentContent:n}=e,r=n.state,i=Math.ceil(t.height)+2,o=Math.ceil(t.width)+2;let s={};if(r&&r.children&&(s=r.children[t.id]||{}),s.height!==i||s.width!==o)return Ht(e,t.id,{height:i,width:o,lastResizeTs:t.ts})}return e}),[ae.ACTIVATED_STEP_CHILD]:D((e,t)=>e.currentContent&&ct(e)===t.stepChildId?Ht(e,t.stepChildId,{activatedAt:t.timestamp}):e),[ae.DEACTIVATED_STEP_CHILD]:D((e,t)=>To(e,t)?Ht(e,t,{activatedAt:null}):e),[ae.SET_CURRENT_STEP_CHILD]:D((e,t)=>se(e)?Tt(e,{currentStepChildId:t,formErrors:null}):e),[ae.CLEAR_CURRENT_STEP_CHILD]:D(e=>se(e)?Tt(e,{currentStepChildId:null}):e),[ae.SET_CURRENT_STEP]:D((e,t)=>Ze(e,{stepId:t,status:Q.PENDING})),[ae.CLOSE_STEP]:D((e,t)=>cn(e)===t.flowId&&se(e)===t.stepId?Ze(e,{stepId:null,status:null,state:{}}):e),[ae.CLOSE_FLOW]:D((e,t)=>t.flowId===cn(e)?t.type===_t.CLEAR?{...e,currentContent:null}:{...e,orderedContent:e.orderedContent.slice(1),currentContent:null}:e),[ae.SET_PREVIOUS_ACTIVE_ELEMENT]:D((e,t)=>({...e,previousActiveElement:t.element})),[ae.SET_FORCE_FOCUS]:D((e,t)=>({...e,forceFocus:t.forceFocus})),[ae.CLEAR_CONTENT_STATE_CHILD]:D((e,t)=>nE(e,t.stepChildId))},GE={[Ei.PREPARE_MODAL]:D(e=>ye(e).type===z.MODAL?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0].id},status:Q.READY}}:e),[Ei.RESIZE_MODAL_CONTENT]:D((e,t)=>{const n=pr(e);return e.currentContent?{...e,currentContent:{...e.currentContent,state:{...n,height:Math.ceil(t.height),width:Math.ceil(t.width)}}}:e})},jE={[Ae.PREPARE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0]&&Xe(e)[0].id,surveyCollapsed:!1,askMeLaterSelected:!1,toastVisible:!1},status:Q.READY}}:e),[Ae.COLLAPSE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!0,toastVisible:!1}}}:e),[Ae.EXPAND_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!1,toastVisible:!1}}}:e),[Ae.ASK_ME_LATER_SELECTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,askMeLaterSelected:!0,toastVisible:!1}}}:e),[Ae.SHOW_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!0}}}:e),[Ae.HIDE_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!1}}}:e),[Ae.QUANTITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"quantitative",toastVisible:!1}}}:e),[Ae.QUALITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"qualitative",toastVisible:!1}}}:e),[Ae.FEEDBACK_TEXT_CHANGED]:D((e,t)=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,feedbackText:t.feedback,toastVisible:!1}}}:e)};function br(){return Date.now()}function Xo(e,t,n){if(t.length>0){let r=ni(e);return t.forEach(i=>{r={...r,[i]:{...r[i],...n(i)}}}),{...e,reportedErrors:{...e.reportedErrors,child:r}}}return e}const qE={[me.ADD_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return Tt(e,{activeAnnotations:[...n,...t]})}return e}),[me.CONFIRM_SCROLLING]:D((e,t)=>Tt(e,{isScrollingToAnnotation:t})),[me.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE]:D((e,t)=>{let n=e;return t.forEach(r=>{n=Ht(n,r,{willClose:!0})}),n}),[me.REMOVE_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return Tt(e,{activeAnnotations:n.filter(r=>!t.includes(r))})}return e}),[me.SET_ANNOTATIONS_POSITIONS]:D((e,t)=>{const n={},r=vt(e);return Object.keys(t).forEach(i=>{const o={...r[i],lastRepositionedTs:br()};delete o.error,delete o.errorMessage,n[i]=Object.assign(o,t[i])}),Tt(e,{children:n})}),[me.SET_ANNOTATIONS_READY]:D(e=>e.currentContent.state?Ze(e,{status:Q.READY,state:{...e.currentContent.state,retries:0}}):e),[me.SAVE_POSITION_DETAILS]:D((e,t)=>{let n=e;return Object.keys(t).forEach(r=>{n=Ht(n,r,{_prevPosition:t[r]})}),n}),[me.REPORTED_ANNOTATIONS_ERRORS]:D((e,t)=>Xo(e,t,()=>({errorReported:!0}))),[me.REPORTED_ANNOTATIONS_RECOVERY]:D((e,t)=>Xo(e,t,()=>({recoveryReported:!0}))),[me.SET_EXISTING_ANNOTATIONS_ERRORS]:D((e,t)=>Xo(e,Object.keys(t||{}),n=>({existingError:t[n]}))),[me.SET_TOOLTIP_SETTLED]:D((e,t)=>Ht(e,t.id,{isTooltipSettled:t.isTooltipSettled}))},KE={[Yt.EXPAND_HOTSPOT]:D((e,t)=>se(e)?Ht(e,t,{expanded:!0}):e),[Yt.PREPARE_HOTSPOTS]:D(e=>{const t=ye(e);if(t.type===z.HOTSPOTS){const n=Xe(e);let r=[];return n&&n.length>0?(r=n.map(i=>i.id),Mn(t)&&(r=[]),Ze(e,{state:{...e.currentContent.state,activeAnnotations:r},status:Q.CALCULATING_POSITIONS})):Ze(e,{status:Q.ERROR,error:"Empty list of hotspots.",state:{...e.currentContent.state,activeAnnotations:r}})}return e}),[Yt.SET_BEACON_SETTLED]:D((e,t)=>Ht(e,t.id,{isBeaconSettled:t.isBeaconSettled}))};function wr(e,t,n){return{...e,debugger:{...e.debugger,[t]:n}}}function aa(e,t,n){return wr(e,"viewState",{...P(r=>r.debugger.viewState,{})(e),[t]:n})}function YE(e,t,n){return aa(e,"rowState",{...P(r=>r.debugger.viewState.rowState,{})(e),[t]:n})}const zE={[qe.TOGGLE_ROW_DETAILS]:D((e,t)=>{const n=P(r=>r.debugger.viewState.rowState[t],!1)(e);return YE(e,t,!n)}),[qe.TOGGLE_COLLAPSED]:D(e=>aa(e,"isCollapsed",e.debugger.viewState?!e.debugger.viewState.isCollapsed:!0)),[qe.SET_CURRENT_PAGE]:D((e,t)=>wr(e,"currentPage",t)),[qe.TRACK_PAGE]:D((e,t)=>wr(e,"lastTrackedPage",t)),[qe.ADD_CONTENT_ERROR]:D((e,t)=>wr(e,"contentErrors",[...xf(e),t])),[qe.ADD_CHILD_ERROR]:D((e,t)=>{const n=Pf(e);return wr(e,"childErrors",{...n,[t.contentId]:{...n[t.contentId],[t.childId]:{errorMessage:t.errorMessage}}})}),[qe.CLOSE_DEBUGGER]:D(e=>({...e,debugger:null}))};function ua(e,t){return ot(t,n=>n.id===e)}function Ut(e,t,n){const i={...ua(t,e.checklists),...n};return{...e,checklists:(e.checklists||[]).map(o=>o.id===t?i:o)}}const XE={[re.UPDATE_CHECKLISTS]:D((e,t)=>{const n=e.checklists||[];return t?{...e,checklists:t.map(r=>({...ua(r.id,n),id:r.id,internal_name:r.internal_name,attributes:r,status:r.status}))}:e}),[re.SET_CHECKLIST_STATUS]:D((e,t)=>{const n=e.checklists||[];return{...e,checklists:n.map(r=>r.id===t.id?{...r,status:t.status}:r)}}),[re.ANIMATE_IN_CHECKLIST]:D((e,t)=>Ut(e,t.id,{viewState:jt.FIRSTVIEW})),[re.EXPAND_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:jt.EXPANDED})),[re.SET_EXPAND_CHECKLIST_LATER]:D((e,t)=>Ut(e,t.checklistId,{shouldTryExpandChecklist:t.shouldTryExpandChecklist})),[re.COLLAPSE_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:jt.COLLAPSED})),[re.SHOW_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!0})),[re.CANCEL_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!1})),[re.CONFIRM_DISMISS_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{status:Q.DISMISSED,shouldShowConfirmDismiss:!1})),[re.SET_CHECKLIST_HEIGHT]:D((e,t)=>Ut(e,t.checklistId,{frameHeight:Math.ceil(t.height)})),[re.SET_CHECKLIST_WIDTH]:D((e,t)=>Ut(e,t.checklistId,{beaconWidth:Math.ceil(t.width)}))},JE={[tr.LOADED_TEST_MODE_CSS]:D(e=>({...e,test:{cssLoaded:!0}}))},QE={[wt.LOADED_LAUNCHPAD]:D((e,{selector:t,position:n,header:r,footer:i,icon:o})=>({...e,widget:{selector:t,position:n,header:r,footer:i,icon:o,expanded:!1}})),[wt.UPDATED_WIDGET_HISTORY]:D((e,{history:t})=>({...e,widget:{...e.widget,history:t}})),[wt.UPDATED_WIDGET_FLOWS]:D((e,{flows:t})=>({...e,widget:{...e.widget,flows:t}})),[wt.TOGGLED_WIDGET]:D((e,{expanded:t})=>({...e,widget:{...e.widget,expanded:t}}))};function ZE(e,t){const n=tE({...rE,...WE,...VE,...GE,...qE,...KE,...jE,...XE,...zE,...JE,...QE,...Zm}),r=Qm(),o=Wm(...[eE,r])($m)(n,e);return t.forEach(s=>{r.run(s)}),r.setContext({dispatch:o.dispatch}),o}const da=({width:e,height:t})=>a.svg("svg",{"attrs-viewBox":"0 0 38 45","attrs-width":e,"attrs-height":t},a.svg("g",{"attrs-fill":"#bebebe"},a.svg("polygon",{"attrs-points":"15.939 25.197 28.904 45.567 35.71 45.567 35.71 0 15.939 25.197"}),a.svg("polygon",{"attrs-points":"0 45.567 12.516 45.567 12.516 29.466 0 45.567"}))),eg="http://www.appcues.com/powered-by?utm_medium=embed-script&utm_campaign=powered-by-appcues",tg="https://www.appcues.com/nps-survey-software?utm_medium=branding&utm_campaign=powered-by";function Jo({accountId:e,isNPS:t}){const n=`${t?tg:eg}&utm_source=${e}`;return a.html("div",{classNames:"appcues-powered-by-text"},a.html("a",{href:n,target:"_blank",rel:"noreferrer"},a.html(da,{width:"10px",height:"10px"}),a.html("span",null,"Powered by Appcues")))}function Qo({text:e,success:t,hidden:n,onClick:r,attrs:i,style:o}){let s="appcues-button";t&&(s=`${s} appcues-button-success`);let c=o||{};n&&(c={...o,display:"none"});const l=d=>{(d.key===" "||d.key==="Enter")&&r(d)},u={};return r&&(u.click=r,u.keyup=l),a.html("a",{classNames:s,attrs:i,style:c,on:u},e)}var Zo,fa;function ng(){return fa||(fa=1,Zo=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),Zo}var Ci={},pa;function rg(){if(pa)return Ci;pa=1;var e=Object.prototype.hasOwnProperty,t;function n(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function r(s){try{return encodeURIComponent(s)}catch{return null}}function i(s){for(var c=/([^=?#&]+)=?([^&]*)/g,l={},u;u=c.exec(s);){var d=n(u[1]),f=n(u[2]);d===null||f===null||d in l||(l[d]=f)}return l}function o(s,c){c=c||"";var l=[],u,d;typeof c!="string"&&(c="?");for(d in s)if(e.call(s,d)){if(u=s[d],!u&&(u===null||u===t||isNaN(u))&&(u=""),d=r(d),u=r(u),d===null||u===null)continue;l.push(d+"="+u)}return l.length?c+l.join("&"):""}return Ci.stringify=o,Ci.parse=i,Ci}var es,ha;function ig(){if(ha)return es;ha=1;var e=ng(),t=rg(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function l(S){return(S||"").toString().replace(n,"")}var u=[["#","hash"],["?","query"],function(I,A){return h(A.protocol)?I.replace(/\\/g,"/"):I},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(S){var I;typeof window<"u"?I=window:typeof rl<"u"?I=rl:typeof self<"u"?I=self:I={};var A=I.location||{};S=S||A;var C={},O=typeof S,L;if(S.protocol==="blob:")C=new m(unescape(S.pathname),{});else if(O==="string"){C=new m(S,{});for(L in d)delete C[L]}else if(O==="object"){for(L in S)L in d||(C[L]=S[L]);C.slashes===void 0&&(C.slashes=i.test(S.href))}return C}function h(S){return S==="file:"||S==="ftp:"||S==="http:"||S==="https:"||S==="ws:"||S==="wss:"}function y(S,I){S=l(S),S=S.replace(r,""),I=I||{};var A=s.exec(S),C=A[1]?A[1].toLowerCase():"",O=!!A[2],L=!!A[3],U=0,R;return O?L?(R=A[2]+A[3]+A[4],U=A[2].length+A[3].length):(R=A[2]+A[4],U=A[2].length):L?(R=A[3]+A[4],U=A[3].length):R=A[4],C==="file:"?U>=2&&(R=R.slice(2)):h(C)?R=A[4]:C?O&&(R=R.slice(2)):U>=2&&h(I.protocol)&&(R=A[4]),{protocol:C,slashes:O||h(C),slashesCount:U,rest:R}}function p(S,I){if(S==="")return I;for(var A=(I||"/").split("/").slice(0,-1).concat(S.split("/")),C=A.length,O=A[C-1],L=!1,U=0;C--;)A[C]==="."?A.splice(C,1):A[C]===".."?(A.splice(C,1),U++):U&&(C===0&&(L=!0),A.splice(C,1),U--);return L&&A.unshift(""),(O==="."||O==="..")&&A.push(""),A.join("/")}function m(S,I,A){if(S=l(S),S=S.replace(r,""),!(this instanceof m))return new m(S,I,A);var C,O,L,U,R,K,G=u.slice(),ue=typeof I,w=this,J=0;for(ue!=="object"&&ue!=="string"&&(A=I,I=null),A&&typeof A!="function"&&(A=t.parse),I=f(I),O=y(S||"",I),C=!O.protocol&&!O.slashes,w.slashes=O.slashes||C&&I.slashes,w.protocol=O.protocol||I.protocol||"",S=O.rest,(O.protocol==="file:"&&(O.slashesCount!==2||c.test(S))||!O.slashes&&(O.protocol||O.slashesCount<2||!h(w.protocol)))&&(G[3]=[/(.*)/,"pathname"]);J<G.length;J++){if(U=G[J],typeof U=="function"){S=U(S,w);continue}L=U[0],K=U[1],L!==L?w[K]=S:typeof L=="string"?(R=L==="@"?S.lastIndexOf(L):S.indexOf(L),~R&&(typeof U[2]=="number"?(w[K]=S.slice(0,R),S=S.slice(R+U[2])):(w[K]=S.slice(R),S=S.slice(0,R)))):(R=L.exec(S))&&(w[K]=R[1],S=S.slice(0,R.index)),w[K]=w[K]||C&&U[3]&&I[K]||"",U[4]&&(w[K]=w[K].toLowerCase())}A&&(w.query=A(w.query)),C&&I.slashes&&w.pathname.charAt(0)!=="/"&&(w.pathname!==""||I.pathname!=="")&&(w.pathname=p(w.pathname,I.pathname)),w.pathname.charAt(0)!=="/"&&h(w.protocol)&&(w.pathname="/"+w.pathname),e(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(R=w.auth.indexOf(":"),~R?(w.username=w.auth.slice(0,R),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(R+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin=w.protocol!=="file:"&&h(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}function T(S,I,A){var C=this;switch(S){case"query":typeof I=="string"&&I.length&&(I=(A||t.parse)(I)),C[S]=I;break;case"port":C[S]=I,e(I,C.protocol)?I&&(C.host=C.hostname+":"+I):(C.host=C.hostname,C[S]="");break;case"hostname":C[S]=I,C.port&&(I+=":"+C.port),C.host=I;break;case"host":C[S]=I,o.test(I)?(I=I.split(":"),C.port=I.pop(),C.hostname=I.join(":")):(C.hostname=I,C.port="");break;case"protocol":C.protocol=I.toLowerCase(),C.slashes=!A;break;case"pathname":case"hash":if(I){var O=S==="pathname"?"/":"#";C[S]=I.charAt(0)!==O?O+I:I}else C[S]=I;break;case"username":case"password":C[S]=encodeURIComponent(I);break;case"auth":var L=I.indexOf(":");~L?(C.username=I.slice(0,L),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=I.slice(L+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(I))}for(var U=0;U<u.length;U++){var R=u[U];R[4]&&(C[R[1]]=C[R[1]].toLowerCase())}return C.auth=C.password?C.username+":"+C.password:C.username,C.origin=C.protocol!=="file:"&&h(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString(),C}function _(S){(!S||typeof S!="function")&&(S=t.stringify);var I,A=this,C=A.host,O=A.protocol;O&&O.charAt(O.length-1)!==":"&&(O+=":");var L=O+(A.protocol&&A.slashes||h(A.protocol)?"//":"");return A.username?(L+=A.username,A.password&&(L+=":"+A.password),L+="@"):A.password?(L+=":"+A.password,L+="@"):A.protocol!=="file:"&&h(A.protocol)&&!C&&A.pathname!=="/"&&(L+="@"),(C[C.length-1]===":"||o.test(A.hostname)&&!A.port)&&(C+=":"),L+=C+A.pathname,I=typeof A.query=="object"?S(A.query):A.query,I&&(L+=I.charAt(0)!=="?"?"?"+I:I),A.hash&&(L+=A.hash),L}return m.prototype={set:T,toString:_},m.extractProtocol=y,m.location=f,m.trimLeft=l,m.qs=t,es=m,es}var og=ig();const sg=Oo(og);function ve(e){return new Promise(t=>{setTimeout(t,e)})}function Xt(e,t,n){return ve(10).then(()=>{n?e.open(t):e.location.href=t})}const cg=/[$()+.?[\\\]^{|}]/g,lg=/\*/g,ag=/\\{\\{.*?\\}\\}/g,ma=".+",ug=/(\/$|\/(\?|#))$/,dg=/(\/\*)$/,fg=/^(https?:)\/\//i;function pg(e){const{pathname:t,query:n,hash:r}=sg(e);return`${t}${n}${r}`}function Ea(e){return e?.replace(ug,"$2")}function hg(e="",t=""){return e.toLowerCase().trim()===t.toLowerCase().trim()}function mg(e="",t){const n=e.replace(cg,String.raw`\$&`).replace(lg,ma).replace(ag,ma);return fg.test(n)?new RegExp(`${n}$`,"i").test(t):new RegExp(`^/?${n}$`,"i").test(pg(t))}function Ct(e="/",t="/"){const[n,r]=dg.test(e)?[e,t]:[Ea(e),Ea(t)];return hg(n,r)||mg(n,r)}function Eg(){return window.location.href}function ga(e){Ne(e,"target")!=="_blank"&&ge(e,"target","_parent")}function ya(e,t){const n=Ne(e,"href");if(n){const r=i=>{if(i.type==="keyup"&&i.key!==" "&&i.key!=="Enter")return;t(i,n);const o=Ne(e,"target");o!=="_blank"?(i.preventDefault(),window.setTimeout(()=>{const s=(c=>{switch(c){case"_parent":{const l=!!window.parent.location;return typeof window.parent=="string"||!l?window:window.parent}case"_top":return window.top;default:return window}})(o);Xt(s,n)},200)):i.type==="keyup"&&o==="_blank"&&Xt(window,n,!0)};yt(e,"click",r),yt(e,"keyup",r)}else yt(e,"click",t),yt(e,"keyup",r=>{(r.key===" "||r.key==="Enter")&&t(r)})}const Sa="//twemoji.maxcdn.com/2/svg/",gg="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",Ta=new Set(["skip","skip-and-end-flow","end","prev","end-flow"]);function yg(e){return[...e.querySelectorAll("form.step-action-form .field[data-field-id]")]}function Sg(e){const t=e.querySelector("form.step-action-form");return t?t.getAttribute("data-form-id"):null}const Tg="pattern-title",Cg=e=>{setTimeout(()=>{const[t]=fi(e.elm);if(t){lt(t);return}lt(e.elm)},500)};function ts(e){Lo(e,"update",t=>{t.elm&&t.elm.focus()})}function _g(e){const{step:t,currentState:n,showBadge:r,accountId:i,isFirst:o,isLast:s,onComplete:c,onCompleteFlow:l,onNextStep:u,onPrevStep:d,onJumpStep:f,onLinkClick:h,onFormSubmission:y,onContentChange:p,onSkip:m,onHandleProfileUpdate:T,onHandleUserEvent:_,formatVersion:S,onSetNextContentIdCookie:I,showBackdrop:A}=e,C={LEFT:"LEFT",RIGHT:"RIGHT"},O={NEXT:"NEXT",BACK:"BACK"},L={NEXT:"Next",LAST:"OK, got it",BACK:"Back"},U=S===1;let R=t.step_buttons;(R==null||R.length===0)&&(R=[{text:Ft(t.next_text),type:O.NEXT,align:C.RIGHT},{text:Ft(t.prev_text),type:O.BACK,align:C.LEFT}]);let K=!1;const G=(W,Y,ie=s,Ie=!1,oe=!1)=>{if(!K){Y();return}const fe=W.ownerDocument.documentElement.querySelector("cue.active > section");y(Sg(fe),yg(fe),Y,ie,Ie,oe)},ue=W=>{const Y=s?()=>c(W):()=>u(W,t.id);G(W.target,Y)},w=(W,Y,ie,Ie)=>{G(Y,()=>f(W,ie,Ie))},J=({ignoreValidation:W})=>Y=>{G(Y.target,()=>l(Y),!1,W)},de=W=>{d(W,t.id)},he=W=>{switch(W){case O.BACK:return de;case O.NEXT:return ue;default:return null}},Ce=()=>{const Y=(n.forms||{})[n.currentStepChildId]||{},{fields:ie=[]}=Y;return ie},Re=Object.keys(n.formErrors||{}).reduce((W,Y)=>{const ie=Ce().findIndex(Ie=>Ie.fieldId===Y);return W<0?ie:Math.min(W,ie)},-1),rt=W=>{if(ul(W)){const Y=Ne(W,"data-step"),ie=Ne(W,"href"),Ie=Ne(W,"data-attrs-event"),oe=Ne(W,"data-attrs-profile-update"),fe=fn(W,"appcues-button"),N=Ne(W,"data-next-content-id"),x=[];if(N&&x.push(()=>I(N)),ie?(ga(W),x.push(k=>h(k,t.id,ie))):(ge(W,"role","button"),ge(W,"tabindex","0")),oe)try{const k=JSON.parse(oe);Object.keys(k).length>0&&x.push(X=>{G(X.currentTarget,()=>T(k),!1,Ta.has(Y),!0)})}catch{}if(Ie)try{const k=JSON.parse(Ie);Object.keys(k).length>0&&x.push(X=>{G(X.currentTarget,()=>_(k.event,k.properties),!1,Ta.has(Y),!0)})}catch{}if(/^\d+$/.test(Y))x.push(k=>{w(k,W.elm,t.id,Number.parseInt(Y,10))});else if(Y){const k={end:c,next:ue,prev:de,skip:m,"skip-and-end-flow":J({ignoreValidation:!0}),"end-flow":J({ignoreValidation:!1})}[Y];k&&x.push(k)}fe&&ge(W,"tabindex","0"),fl(W,k=>{x.push(X=>{G(X.currentTarget,k,!1)})}),x.length>0&&ya(W,(k,X)=>{x.forEach(ee=>{ee(k,X)})})}if(dl(W)){ge(W,"crossOrigin","anonymous"),Ne(W,"alt")||(ge(W,"alt",""),ge(W,"role","presentation"));const ie=Ne(W,"src");if(ie?.includes(Sa)){const Ie=ie.replace(Sa,gg);ge(W,"src",Ie)}yt(W,"load",Ie=>{if(p){const oe=Ie.target.ownerDocument;window.requestAnimationFrame(()=>{p(oe.documentElement.querySelector("modal-container"))})}})}if(Yp(W)&&yt(W,"keypress",Y=>{if(Y.key==="Enter"&&Y.target.tagName!=="TEXTAREA"&&Y.target.type!=="radio"&&Y.target.type!=="checkbox"&&!(Y.target.classList.contains("rating-options")||Y.target.classList.contains("rating-option"))){const{currentTarget:ie}=Y;G(ie,s?()=>c(Y):()=>u(Y,t.id)),Y.preventDefault?Y.preventDefault():Y.returnValue=!1}}),fn(W,"form-field")){const Y=Ce();let ie;W.children.forEach(Ie=>{Ie.children&&Ie.children.forEach(oe=>{fn(oe,"label-display")&&(ie=Ne(oe,"for"),ge(oe,"id",`label-${ie}`));const fe=Y.find(N=>N.fieldId===ie);if(fn(oe,"form-control")&&(ge(oe,"aria-invalid","false"),ie&&ge(oe,"id",ie),fe?.value&&ge(oe,"value",fe.value),ie===Y[Re]?.fieldId&&ts(oe),K||Lo(oe,"insert",N=>{N.elm&&N.elm.focus()})),fn(oe,"field-options")){const N=Ne(oe,"data-type-role"),x=Ne(W,"data-max-selection");if(ge(oe,"role",N??"radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),Y){const k=oe.children.filter(X=>X.children&&X.children.find(({sel:ee})=>ee==="input"));k.forEach(X=>{yt(X,"keypress",ee=>{if(ee.key==="Enter"){const Z=X.children.find(({sel:B})=>B==="input");Z&&Z.elm&&Z.elm.click()}})}),x&&Number.parseInt(x,10)>0&&k.forEach(X=>{yt(X,"change",()=>{const ee=k.filter(Z=>Z.children.find(({sel:j})=>j==="input").elm.checked);k.forEach(Z=>{const B=Z.children.find(({sel:j})=>j==="input");!B.elm.checked&&ee.length>=x?B.elm.setAttribute("disabled",!0):B.elm.checked||B.elm.removeAttribute("disabled")})})})}if(Y&&fe?.value){const k=oe.children.find(X=>X.children&&X.children.find(({sel:ee})=>ee==="input").data?.attrs?.value===fe.value);if(k){const X=k.children.find(({sel:ee})=>ee==="input");ge(X,"checked",!0)}}ie===Y[Re]?.fieldId&&ts(oe)}fn(oe,"rating-options")&&(ge(oe,"role","radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),oe.children.forEach(N=>{ge(N,"tabindex","0"),ge(N,"role","radio"),yt(N,"keydown",x=>{if((x.key===" "||x.key==="Enter")&&(x.stopPropagation(),N.children.forEach(k=>{Kp(k)&&k&&k.elm&&k.elm.click()})),x.key==="ArrowRight"||x.key==="ArrowDown"){x.preventDefault();const k=N.elm.nextElementSibling;k?k.focus():oe.children[0]?.elm.focus()}if(x.key==="ArrowLeft"||x.key==="ArrowUp"){x.preventDefault();const k=N.elm.previousElementSibling;k?k.focus():oe.children[oe.children.length-1]?.elm.focus()}})}),ie===Y[Re]?.fieldId&&ts(oe))})}),ie&&n.formErrors&&n.formErrors[ie]&&(qp(W,"appcues-error"),W.children=[...W.children,a.html(Ig,{vnodeFormField:W.children,messages:n.formErrors[ie],fieldId:ie})]),K=!0}},Le=Ft(t.html,{hooks:{create:rt}});return a.html("cue",{classNames:`active 
        ${t.actions_hidden?"appcues-actions-hidden":""}
        ${U?"":"full-buttons"}
      `},a.html("section",{"attrs-role":"dialog","attrs-aria-modal":A?"true":"false","attrs-aria-describedby":Tg,"hook-insert":Cg,"attrs-tabindex":"-1"},Le||""),U?a.html("div",{classNames:`appcues-actions ${t.actions_hidden?"hidden":""}`},!t.prev_button_hidden&&!t.is_button_centered?a.html("div",{classNames:`appcues-actions-left ${t.next_button_hidden?"appcues-actions-full-row":""} `},R.filter(W=>W.align===C.LEFT&&W.isVisible!==!1).map(W=>a.html(Qo,{style:W.style?JSON.parse(W.style):void 0,text:W.text||L.BACK,hidden:o,attrs:{"data-step":"prev",role:"button",tabindex:"0"},onClick:he(W.type)}))):a.html(le,null),t.next_button_hidden?a.html(le,null):a.html("div",{classNames:`appcues-actions-right ${t.prev_button_hidden||t.is_button_centered?"appcues-actions-full-row":""} ${t.is_button_centered?"appcues-actions-align-center":""}`},R.filter(W=>W.align===C.RIGHT&&W.isVisible!==!1).map(W=>a.html(Qo,{success:!0,style:W.style?JSON.parse(W.style):void 0,text:W.text||(s?L.LAST:L.NEXT),attrs:{"data-step":s?"end":"next",role:"button",tabindex:"0"},onClick:he(W.type)})))):a.html(le,null),r?a.html(Jo,{accountId:i}):a.html(le,null))}function Ig({messages:e,fieldId:t,vnodeFormField:n}){const r=n.find(o=>o.data?.class["field-controls"]);let i="";return e.forEach((o,s)=>{i+=`error-for-${t}-${s} `}),r&&(r.children[0].data.attrs["aria-invalid"]="true",r.children[0].data.attrs["aria-describedBy"]=i),a.html("ul",{classNames:"messages"},e.map((o,s)=>a.html("li",null,a.html("span",{id:`error-for-${t}-${s}`},o))))}function Ca({onLoad:e=()=>null,styling:t}){return a.html("style",{classNames:"appcues-global-styling","attrs-type":"text/css","on-load":e},t||"")}const ns=".appcues-content-outline-styling",rs=({key:e,target:t})=>{const n=t.ownerDocument||t,r=n.documentElement?.querySelector(ns)??n.querySelector(ns);e==="Tab"&&(r.innerHTML="",n.removeEventListener("keydown",rs))},Ag=e=>{setTimeout(()=>{e.elm.ownerDocument.addEventListener("keydown",rs)},200)},vg=e=>{e.elm.ownerDocument.removeEventListener("keydown",rs)},bg=`
  appcues cue > section *, .content * {
    outline: none;
  }
`;function _a(){return a.html("style",{selector:ns,"attrs-type":"text/css","hook-insert":Ag,"hook-destroy":vg},bg)}function Ia(e,t){const n=o=>{o.key==="Escape"&&t()};return{addEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;c&&c.addEventListener("keyup",n,!0),s.tagName==="IFRAME"&&setTimeout(()=>{const l=s.contentDocument;l&&l.addEventListener("keyup",n,!0)},100)},removeEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;if(c&&c.removeEventListener("keyup",n,!0),s.tagName==="IFRAME"){const l=s.contentDocument;l&&l.removeEventListener("keyup",n,!0)}}}}function is(e,t,n,r){if(e.defaultView!==null&&r){const i=()=>r(t,e.documentElement.querySelector(n));Eh(e.defaultView,i),window.setTimeout(i,200)}}const wg="/generic/main/7.17.2/modal.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",Ng="/generic/main/7.17.2/modal-step-legacy-render.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",Og="sha256-4/hpW9ONoiD80NHCgX4Nn/iogB1Wblm1nx1DUXqgDZk=",kg="sha256-Ea5gC5g6QacVSWApI6ApmuZheqr4EDl50hD7GyRsaz0=",Rg=Dt(Ng),_i=Dt(wg),Aa=new Set(["shorty","slideout"]);function va(e){if(!e)return;const{style:t}=e,n=t.transform;t.transform=n==="scale(1) translateZ(0)"?"scale(1)":"scale(1) translateZ(0)",e.offsetHeight}function ba(e){setTimeout(()=>{e.focus()},100)}const os=e=>{if(e.key==="Tab"){const t=document.documentElement.querySelector("appcues-container iframe").contentWindow.document,{activeElement:n}=t,r=fi(t.documentElement),i=r.length,o=r.indexOf(n);if(n===t.body){e.shiftKey&&(e.preventDefault(),ba(r[i-1]));return}(e.shiftKey&&o===0||!e.shiftKey&&o===i-1)&&(e.preventDefault(),ba(r[0]))}};function Lg(e){const t=ye(e),n=pr(e),r=Be(e),i=Xe(e),o=ct(e),s=Kt(e,o),c=i[s],l=t.attributes.pattern_type,u=t.attributes.is_progress_bar_hidden,{position:d}=t.attributes,{backdrop:f}=t.attributes,{skippable:h}=t.attributes,y=e.views.callbacks[z.MODAL],p=n.cssLoaded,m=Ef(e),T=Hc(e),_=jc(e),S=T||m,A=["modal","left","fullscreen"].includes(l),C=A||f,O=hi(e.settings),L=_===1,U=p&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r),R=r!==Q.SHOWING,K={},G={};C||(K.height=(n.height||0)>2?`${n.height}px`:"150px",K.width=(n.width||0)>2?`${n.width}px`:"400px"),U||(K.opacity="0",K.visibility="hidden"),Aa.has(l)&&(G.overflow="auto");const ue=Math.round((s+1)/i.length*1e3)/10,w={},J=[];for(const[fe,N]of i.entries()){w[`cue-step-${fe}`]=fe===s;const x=/<style.*?>((?:.|[\n\r])*?)<\/style>/g;let k;for(;(k=x.exec(N.html))!==null;)k.index===x.lastIndex&&(x.lastIndex+=1),J.push(k[1])}const de=fe=>{fe.target.tagName==="APPCUES"&&h&&l!=="fullscreen"&&y.onSkip()},he=(fe,N)=>{const x=fe.target.ownerDocument;N?di(x,_i,()=>{y.onCSSLoaded(t.id,_i,!0),A||is(x,t.id,"modal-container",y.onContentChange)}):y.onCSSLoaded(t.id,_i,!1)},Ce=fe=>{Object.keys(n.formErrors||{}).length>0&&Aa.has(l)||!A&&fe&&Math.abs(fe.getBoundingClientRect().height-Number.parseInt(n.height,10))>2&&y.onContentChange&&window.requestAnimationFrame(()=>y.onContentChange(t.id,fe))},{addEscapeEventListener:Re,removeEscapeEventListener:rt}=Ia(h,y.onSkip),Le=fe=>{window.requestAnimationFrame(y.onShow),C&&hh(document.documentElement.querySelector("body"),"appcues-noscroll"),window.requestAnimationFrame(()=>{lt(fe.elm),va(fe.elm)}),Re(fe)},W=fe=>{Il(Pc(e)),mh(document.documentElement.querySelector("body"),"appcues-noscroll"),rt(fe)},Y=a.html(Pg,{percentComplete:ue,isProgressBarHidden:u,numberOfSteps:i.length,currentStep:s+1}),ie=a.html(xg,{skippable:h,onClick:y.onSkip}),Ie=a.html(le,null),oe=a.html(_g,{step:c,key:`modal-step-${s}`,currentState:n,showBadge:O,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onComplete:y.onComplete,onCompleteFlow:y.onCompleteFlow,onNextStep:y.onNextStep,onPrevStep:y.onPrevStep,onJumpStep:y.onJumpStep,onLinkClick:y.onLinkClick,onStepChildActivated:y.onStepChildActivated,onStepChildDeactivated:y.onStepChildDeactivated,onFormSubmission:y.onFormSubmission,onSetNextContentIdCookie:y.onSetNextContentIdCookie,onContentChange:Ce,onSkip:y.onSkip,onHandleProfileUpdate:y.onHandleProfileUpdate,onHandleUserEvent:y.onHandleUserEvent,formatVersion:_,showBackdrop:C});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":d,"attrs-tabindex":"0","class-appcues-ontop":!0,"class-appcues-fullscreen":C,"class-apc-hidden":R,classNames:`appcues--theme-${yo(e)||S.id||"-default"}`,style:K,"on-keydown":os},a.html("iframe",{"style-border":"none","style-display":"block","style-height":"100%","style-width":"100%","style-color-scheme":"none",srcdoc:'<meta name="referrer" content="origin" />',src:"about:blank","hook-insert":Le,"hook-update":fe=>va(fe.elm),"hook-destroy":W,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0},a.html("meta",{name:"referrer",content:"origin"}),a.html("link",{"attrs-href":_i,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Og,"attrs-crossorigin":"anonymous","on-load":fe=>{he(fe,!0)},"on-error":fe=>{he(fe,!1)}}),L?a.html("link",{"attrs-href":Rg,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":kg,"attrs-crossorigin":"anonymous"}):a.html(le,null),a.html(_a,null),a.html(Ca,{styling:S.globalStyling}),a.html("style",{"attrs-type":"text/css",classNames:"extracted-step-styles"},J.join(`
`)),C?a.html(Dg,{patternType:l,hidden:R}):a.html(le,null),(()=>{let fe=a.html(le,null);return fe=A?a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"on-click":de,"on-keydown":os},Y,ie,Ie,oe):a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"attrs-data-position":d,"on-click":de,"on-keydown":os,style:G},a.html("modal-container",{"class-fullscreen":C,"hook-update":N=>{Ce(N.elm)}},Y,ie,oe)),fe})()))}function xg({skippable:e,onClick:t}){if(e){const n=r=>{(r.key===" "||r.key==="Enter")&&t()};return a.html("div",{classNames:"appcues-skip"},a.html("a",{"attrs-data-step":"skip","on-keyup":n,"on-click":t,"attrs-aria-label":"Close modal","attrs-role":"button","attrs-tabindex":"0"},String.fromCodePoint(215)))}return a.html(le,null)}function Pg({currentStep:e,numberOfSteps:t,percentComplete:n,isProgressBarHidden:r}){return r?a.html(le,null):a.html("div",{classNames:"appcues-progress"},a.html("div",{classNames:"appcues-progress-bar appcues-progress-bar-success","attrs-role":"progressbar","attrs-aria-label":"current step","attrs-aria-valuemin":1,"attrs-aria-valuemax":t,"attrs-aria-valuenow":e,"attrs-aria-valuetext":`You are on step ${e} of ${t}`,style:{width:`${n}%`}}))}function Dg({patternType:e,hidden:t}){return a.html("div",{"class-appcues-backdrop":!0,"class-apc-hidden":t,"attrs-data-pattern-type":e})}const Fg="/generic/main/7.17.2/tooltip.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",Hg="sha256-9y1o/fRpWDU82ZWAjihfIJSZnx+knnDTkr5DYPSqYhg=",Ii=Dt(Fg),wa="//twemoji.maxcdn.com/2/svg/",Ug="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",Nr="hs",Na="pattern-title",Oa="Hide these tips";function Mg(e,t){return{skippable:e.skippable,skipText:e.skipText,skippableDisplayType:e.skippableDisplayType||no.TEXT,onSkip:t.onSkip}}function ss(e){return!(!e||!e.skippable)}function ka(e,t){return e?e===t:!1}function Ra(e){return ss(e)?ka(e.skippableDisplayType,no.TEXT):!1}function $g(e){return ss(e)?ka(e.skippableDisplayType,no.EXIT_SYMBOL):!1}function La(e,t){if(!t)return{focusableElements:[],isBoundaryElement:()=>!1};const{activeElement:n,documentElement:r}=t,i=fi(r),o=i.indexOf(n);return{focusableElements:i,isBoundaryElement:()=>{const s=i.length;return e.shiftKey&&o===0||!e.shiftKey&&o===s-1}}}const xa=e=>{const t=yh(Na,!0),n=e.styling||{},r=e.width||0,i=e.height||0,o=Number.parseInt(e.zIndex,10),s={position:e.fixed?"fixed":"absolute",height:`${i}px`,width:`${r}px`,zIndex:Number.isNaN(o)?e.zIndex||"":o+1,border:"none"},c=e.callbacks||{},l=e.formatVersion===1,u=e.isTooltipSettled&&!e.willClose&&e.stepVisible&&e.isElementVisible,d=w=>{c.onNextButtonClick(w,e.id,e.isLast)},f=w=>{c.onPrevButtonClick(w,e.id)},h=w=>{c.onComplete(w,e.id)},y=w=>{c.onCompleteFlow(w,e.id)},p=(w,J)=>{const de=w.target.ownerDocument;J?di(de,Ii,()=>{c.onCSSLoaded&&c.onCSSLoaded(e.id,Ii,!0),is(de,e.id,".tooltip",c.onContentChange)}):c.onCSSLoaded&&c.onCSSLoaded(e.id,Ii,!1)},m=w=>{if(t(w),ul(w)){const J=Ne(w,"data-step"),de=Ne(w,"href"),he=fn(w,"appcues-button"),Ce=Ne(w,"data-attrs-event"),Re=Ne(w,"data-attrs-profile-update"),rt=Ne(w,"data-next-content-id"),Le=[];if(rt&&Le.push(()=>c.onSetNextContentIdCookie(rt)),de?(ga(w),Le.push((Y,ie)=>{c.onLinkClick(e.id,ie)})):(ge(w,"role","button"),ge(w,"tabindex","0")),Re)try{const Y=JSON.parse(Re);Object.keys(Y).length>0&&Le.push(()=>c.onHandleProfileUpdate(Y))}catch{}if(Ce)try{const Y=JSON.parse(Ce);Object.keys(Y).length>0&&Le.push(()=>c.onHandleUserEvent(Y.event,Y.properties))}catch{}const W=Y=>(ie,Ie)=>{window.setTimeout(()=>Y(ie,Ie),1)};if(/^\d+$/.test(J))Le.push(Y=>{c.onJumpStep(Y,e.id,Number.parseInt(J,10))});else if(J){const Y={end:h,next:d,prev:f,skip:c.onSkip,"skip-and-end-flow":y,"end-flow":y}[J];Y&&Le.push(W(Y))}he&&ge(w,"tabindex","0"),fl(w,Y=>{Le.push(Y)}),Le.length>0&&ya(w,(Y,ie)=>{Le.forEach(Ie=>{Ie(Y,ie)})})}if(dl(w)){ge(w,"crossOrigin","anonymous"),Ne(w,"alt")||(ge(w,"alt",""),ge(w,"role","presentation"));const de=Ne(w,"src");if(de?.includes(wa)){const he=de.replace(wa,Ug);ge(w,"src",he)}yt(w,"load",he=>{if(c.onContentChange){const Ce=he.target.ownerDocument;window.requestAnimationFrame(()=>{c.onContentChange(e.id,Ce.documentElement.querySelector(".tooltip"))})}})}},T=Ft(e.html,{hooks:{create:m}});let _=e.tooltipAlignment;if(!_){let w="bottom";e.yRegion>1&&(w="top");let J="";e.xRegion===0?J="-right":e.xRegion===3&&(J="-left"),_=`${w}${J}`}const S={[`align-${_}`]:!0},I={[`content-${_}`]:!0};(_==="top"||_==="bottom")&&(s.left=`${e.x+gt/2-r/2}px`),(_==="left"||_==="right")&&(s.top=`${e.y-(i-gt-Zi)/2}px`);const A=Ld+Zi+kd/2+Rd-gt/2;_.indexOf("left")>0?s.left=`${e.x-r+A+gt}px`:_.indexOf("right")>0?s.left=`${e.x-A}px`:_.indexOf("left")===0?s.left=`${e.x-r}px`:_.indexOf("right")===0&&(s.left=`${e.x+gt}px`),_.indexOf("top")>0?s.top=`${e.y-i+A+gt}px`:_.indexOf("bottom")>0?s.top=`${e.y-A+Zi}px`:_.indexOf("top")===0?s.top=`${e.y-i}px`:_.indexOf("bottom")===0&&(s.top=`${e.y+gt}px`);const C=w=>{if(c.onContentChange){const{target:J}=w;window.requestAnimationFrame(()=>{document.documentElement.contains(J)&&c.onContentChange(e.id,J.contentDocument.documentElement.querySelector(".tooltip"))})}},O=Mg(e,c),{addEscapeEventListener:L,removeEscapeEventListener:U}=Ia(ss(O),O.onSkip),R=w=>{if(w.key==="Tab"||[38,40,37,39].includes(w.keyCode)){w.stopPropagation();const de=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${Nr}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(de){const{contentDocument:he}=de,{focusableElements:Ce,isBoundaryElement:Re}=La(w,he);if(Re())if(c.onClickOut)c.onClickOut(e.isLast);else{if(e.backdropSolidEdge){w.preventDefault(),lt(e.element);return}Ce.some(Le=>Le.classList.contains("appcues-button"))||lt(e.element)}!Ce.includes(w.target)&&e.isElementVisible&&(w.preventDefault(),lt(Ce[0]))}}};let K;const G=w=>{L(w),window.requestAnimationFrame(()=>lt(w.elm)),K=J=>{const he=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${Nr}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(he){const{contentDocument:Ce}=he,{focusableElements:Re}=La(J,Ce);Re.length>0&&lt(Re[0])}},e.element?.addEventListener("blur",K)},ue=w=>{!c.onClickOut&&e.element!==document.activeElement&&Il(e.previousActiveElement),U(w),e.element?.removeEventListener("blur",K)};return a.html("iframe",{src:"about:blank",classNames:"appcues-tooltip-container",style:s,class:S,"attrs-seamless":!0,"class-appcues-tooltip-hidden":e.hidden,"class-apc-hidden":!u,"on-load":C,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0,"hook-insert":G,"hook-destroy":ue,"attrs-aria-hidden":!1,"style-color-scheme":"none"},a.html("link",{"attrs-href":Ii,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Hg,"attrs-crossorigin":"anonymous","on-load":w=>{p(w,!0)},"on-error":w=>{p(w,!1)}}),a.html(_a,null),a.html(Ca,{styling:n.globalStyling,onLoad:w=>{p(w,!0)}}),a.html("div",{"on-keydown":R,classNames:"tooltip","attrs-aria-label":cr.LABEL_TOOLTIP,"attrs-aria-modal":e.backdropSolidEdge,"attrs-aria-labelledby":Na,"attrs-role":"dialog","attrs-tabindex":"-1"},a.html("div",{classNames:"content",class:I},a.html("div",{classNames:"panel panel-default"},a.html("div",{classNames:"panel-content"},$g(O)?a.html(Vg,{skipText:O.skipText,onClick:O.onSkip}):"",T||""),l?a.html(Bg,{skipOptions:O,buttonText:e.buttonText,onButtonClick:d}):a.html(le,null),e.showPoweredBy?a.html(Jo,{accountId:e.accountId}):a.html(le,null)))))};function Bg({skipOptions:e,buttonText:t,onButtonClick:n}){return!Ra(e)&&!t?a.html(le,null):a.html("div",{classNames:"panel-content panel-content-actions"},Ra(e)?a.html("div",{classNames:"appcues-actions-left"},a.html(Wg,{skipText:e.skipText,onClick:e.onSkip})):a.html(le,null),a.html("div",{classNames:"appcues-actions-right"},t?a.html(Qo,{text:Ft(t),success:!0,onClick:n,attrs:{role:"button",tabindex:"0"}}):a.html(le,null)))}const Pa=(e,t)=>{(e.key===" "||e.key==="Enter")&&t()};function Wg({skipText:e,onClick:t}){return a.html("small",{"on-keyup":n=>{Pa(n,t)},"attrs-role":"button","attrs-tabindex":"0","on-click":t,classNames:"text-muted appcues-skip","attrs-aria-label":e||Oa},a.html("span",{"attrs-aria-hidden":"true"},String.fromCodePoint(8856)," "),e?Ft(e):Oa)}function Vg({onClick:e}){return a.html("div",{"attrs-role":"button","on-keyup":t=>{Pa(t,e)},"attrs-tabindex":"0",classNames:"exit-tooltip-container","on-click":e,"attrs-aria-label":"Close tooltip"},a.html("a",{classNames:"exit-tooltip","attrs-aria-hidden":"true"},""))}function Gg({color:e,zIndex:t}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${gt}px`,"attrs-height":`${gt}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:t}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd","attrs-transform":"translate(3, 3)"},a.svg("circle",{"attrs-fill":e,"attrs-cx":"9","attrs-cy":"9","attrs-r":"9"}),a.svg("path",{"attrs-d":"M9.8 9.7L9.8 10.7C9.8 11.1 9.5 11.5 9 11.5L9 11.5C8.6 11.5 8.2 11.1 8.2 10.7L8.2 9.1C8.2 8.7 8.5 8.3 8.9 8.3L9 8.2C10.7 7.9 11.4 7.4 11.4 6.6 11.4 5.8 10.3 5 9 5 7.7 5 6.7 5.7 6.6 6.5 6.6 7 6.2 7.3 5.7 7.3 5.3 7.2 4.9 6.8 5 6.4 5.1 4.7 6.9 3.4 9 3.4 11.2 3.4 13.1 4.8 13.1 6.6 13.1 8.2 12 9.2 9.8 9.7L9.8 9.7Z","attrs-fill":"#FFFFFF"}),a.svg("path",{"attrs-d":"M9.6 14.5C9.4 14.6 9.2 14.7 9 14.7 8.8 14.7 8.6 14.6 8.5 14.5 8.3 14.3 8.2 14.1 8.2 13.9 8.2 13.7 8.3 13.5 8.5 13.3 8.8 13 9.3 13 9.6 13.3 9.7 13.5 9.8 13.7 9.8 13.9 9.8 14.1 9.7 14.3 9.6 14.5L9.6 14.5Z","attrs-fill":"#FFFFFF"})))}function jg({color:e,outerBeaconClasses:t,zIndex:n,visibility:r}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${gt}px`,"attrs-height":`${gt}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:n,visibility:r}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd"},a.svg("circle",{"class-beacon-inner":!0,"attrs-fill":e,"attrs-cx":"12","attrs-cy":"12","attrs-r":"6"}),a.svg("circle",{"class-beacon-outer":!0,class:t,"attrs-stroke":e,"attrs-stroke-width":"2","attrs-cx":"12","attrs-cy":"12","attrs-r":"11"})))}function qg(e={}){if(e.iconType==="question")return Gg(e);const t=e.iconType==="hidden"?"hidden":"visible";return jg({visibility:t,...e})}function Kg(e){const t=e.styling||{},n=e.color||t.globalBeaconColor||"#FF765C",r=e[e.settledKey]&&!e.willClose&&e.stepVisible&&e.isElementVisible;let i=e.zIndexOverride||(!e.fixed&&(e.zIndex==="auto"||e.zIndex==="")?Pn-1:e.zIndex||"");i=e.backdrop?Pn-1:i;const o={position:e.fixed?"fixed":"absolute",left:`${e.x}px`,top:`${e.y}px`,zIndex:i},s=e.callbacks||{},c=()=>{!e.isActivated&&s.onFirstInsert&&window.requestAnimationFrame(()=>s.onFirstInsert(e.id,e.isFirst))},l=m=>{if(m.key==="Tab"){const _=document.documentElement.querySelector(`#${Nr}-${e.id}`).querySelector(".appcues-tooltip-container").contentDocument,{activeElement:S}=_,I=fi(_.documentElement);S===_.body&&I.length===0&&e.callbacks.onClickOut(e.isLast)}},u=m=>{if(s.onBeaconClick){const T=m.target.ownerDocument.documentElement.querySelector(`#${Nr}-${e.id} iframe`);let _=null;T&&T.contentDocument&&(_=T.contentDocument.documentElement.querySelector(".tooltip")),s.onBeaconClick(e.id,_,e.isLast,e.isLastUnexpanded),m.stopPropagation(),e.callbacks.onClickOut&&T.contentDocument.addEventListener("keydown",l)}},d={[t.hotspotClass||"hotspot"]:!0},f={[t.globalHotspotAnimation||"hotspot-animation-none"]:!0},h=e.beaconStyle||t.globalBeaconStyle||"hotspot",y=h==="hidden",p=m=>{(m.key===" "||m.key==="Enter")&&(m.preventDefault(),u(m))};return a.html("div",{class:d,"class-apc-hidden":!r,"class-apc-beacon-hidden":y,"attrs-id":`${Nr}-${e.id}`,"attrs-aria-haspopup":cr.HASPOPUP_TOOLTIP,role:cr.ROLE_TOOLTIP,"attrs-aria-label":"Hotspot (open by clicking or pressing space/enter)","hook-insert":c},a.html("div",{"attrs-tabindex":"0",classNames:"beacon-container",style:o,"on-keydown":p,"on-mouseup":u},a.html(qg,{iconType:h,color:n,outerBeaconClasses:f,zIndex:i})),a.html(xa,{...e,zIndex:i,hidden:!e.expanded||!e.cssLoaded}))}const Or=1500,Yg=e=>{const t="apc-spotlight",n=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight),r=Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),i=document&&document.body&&document.body.scrollTop?document.body.scrollTop:0,o=e.backdropSolidEdgeBorderRadius||0,s=e.backdropSolidEdgeXPadding||0,c=e.backdropSolidEdgeYPadding||0,l=e.elementBoundingRect||{height:0,width:0},u=(h,y,p,m)=>({top:`${h}px`,left:`${y}px`,width:`${p}px`,height:`${m}px`,background:`rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,position:"absolute",pointerEvents:"all"}),d=e.boundingRect||{top:0,left:0},f={container:{position:e.fixed?"fixed":"absolute",zIndex:Pn-1e3,top:"0",left:"0",pointerEvents:"none",height:`${n}px`,width:`${r}px`},elemContainer:{position:"absolute",top:`${d.top-c}px`,left:`${d.left-s}px`,width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,overflow:"hidden",pointerEvents:"none"},elemWrapper:{position:"relative",width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,boxShadow:`0px 0px 0px 2000px rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,borderRadius:`${o}px`,pointerEvents:"none"},backdropLeftPanel:u(0,0,d.left-s,n+i),backdropTopPanel:u(0,d.left-s,l.width+2*s,d.top-c),backdropRightPanel:u(0,d.right+s,r-(d.right+s),n+i),backdropBottomPanel:u(d.bottom+c,d.left-s,l.width+2*s,n+i-(d.bottom+c))};return a.html("div",{style:f.container,classNames:"apc-solid-edge apc-sequential-backdrop",key:e.id},a.html("div",{style:f.elemContainer},a.html("div",{style:f.elemWrapper,classNames:"apc-spotlight"})),a.html("div",{style:f.backdropLeftPanel,classNames:t}),a.html("div",{style:f.backdropRightPanel,classNames:t}),a.html("div",{style:f.backdropTopPanel,classNames:t}),a.html("div",{style:f.backdropBottomPanel,classNames:t}))},zg=({annotation:e,isScrollingToAnnotation:t})=>{const{backdrop:n,backdropSolidEdge:r,backdropSolidEdgeOpacity:i,cssLoaded:o,isActivated:s,isElementVisible:c}=e;if(!n)return a.html(le,null);if(t)return a.html("div",{className:"apc-full-backdrop apc-sequential-backdrop","data-testid":"full-backdrop",style:{top:"0",left:"0",width:"100vw",height:"100vh",background:`rgba(0,0,0,${i})`,position:"fixed",pointerEvents:r?"all":"none",zIndex:Pn}});const l=e.boundingRect||{top:0,left:0},u=e.elementBoundingRect||{height:0,width:0},d={position:e.fixed?"fixed":"absolute",pointerEvents:"none",top:"0px",left:"0px",overflow:"hidden",height:`${Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight)}px`,width:`${Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)}px`,zIndex:Pn-1e3},f=u.width?u.width+2*Or:0,h=u.height?u.height+2*Or:0,y={position:"relative",top:`${l.top-Or}px`,left:`${l.left-Or}px`,height:`${h}px`,width:`${f}px`,boxSizing:"border-box",border:`${Or}px solid transparent`,pointerEvents:"none",borderImage:`radial-gradient(transparent 2%, rgba(0, 0, 0, ${i}) 28%) 49% 49% 49% 49%`,boxShadow:`0 0 0 2500px rgba(0, 0, 0, ${i})`,zIndex:Pn-1e3};return o&&s&&c?r?Yg(e):a.html("div",{style:d},a.html("div",{style:y,classNames:"apc-animated-backdrop apc-spotlight apc-sequential-backdrop"})):a.html(le,null)};function Xg(e){return e.annotations.map(t=>{let n=t;return n={...n,...e.annotationsState[n.id],html:n.html,showPoweredBy:hi(e.settings),accountId:e.settings.accountId,styling:n.style||e.settings.styling},e.activeAnnotations.includes(n.id)&&!n.error?n.type==="hotspot"?a.html("div",{classNames:"apc-sequential-hotspot"},a.html(zg,{annotation:n,isScrollingToAnnotation:e.isScrollingToAnnotation}),a.html(Kg,{...n,key:n.id,callbacks:e.callbacks,previousActiveElement:e.previousActiveElement,shouldForceFocus:e.shouldForceFocus})):a.html(xa,{...n,key:n.id,callbacks:e.callbacks}):null}).filter(t=>t!==null)}const Da=".appcues-beacon-outline-styling",cs=({key:e})=>{const t=document.documentElement.querySelector(Da);e==="Tab"&&(t.innerHTML="",document.removeEventListener("keydown",cs))},Jg=()=>{document.addEventListener("keydown",cs)},Qg=()=>{document.removeEventListener("keydown",cs)},Zg=`
  .beacon-container:focus, .beacon:focus {
    outline: none;
  }
`;function ey(){return a.html("style",{selector:Da,"attrs-type":"text/css","hook-insert":Jg,"hook-destroy":Qg},Zg)}function Fa(e,t){const n=Gn(e);return n.length===1&&n.indexOf(t)===0}function ty(e){const t=Gn(e),n=vt(e);return t.filter(r=>n[r]&&!n[r].activatedAt)}function Ha(e,t,n){if(t){const r=i=>{const o=i.target.ownerDocument.documentElement.querySelector("appcues-layer .hotspots");o&&!o.contains(i.target)&&t(Fa(n,ct(n)))};e.data.onClickOut=r,document.addEventListener("click",r)}}function Ua(e){e.data.onClickOut&&document.removeEventListener("click",e.data.onClickOut)}function Ma(e,t,n){const r=ye(e),i=Be(e),o=e.settings||{},s=Hc(e)||o.styling||{},c=jc(e),l=Xe(e).map(f=>({id:f.id,type:"hotspot",beaconStyle:r.attributes.beacon_style,skippable:r.attributes.skippable,skippableDisplayType:r.attributes.skippable_display_type,backdrop:r.attributes.backdrop,backdropSolidEdge:r.attributes.backdrop_solid_edge,backdropSolidEdgeBorderRadius:f.backdrop_solid_edge_border_radius,backdropSolidEdgeXPadding:f.backdrop_solid_edge_x_padding,backdropSolidEdgeYPadding:f.backdrop_solid_edge_y_padding,backdropSolidEdgeOpacity:r.attributes.backdrop_solid_edge_opacity,stepVisible:i===Q.SHOWING,tooltipAlignment:f.tooltip_alignment,skipText:f.skip_text,html:f.html,style:s,isActivated:To(e,f.id),settledKey:r.attributes.sequential?"isTooltipSettled":"isBeaconSettled",zIndexOverride:f.z_index_override,formatVersion:c,...n(f)})),u=f=>{Ha(f,t.onClickOut,e),window.requestAnimationFrame(t.onShow)},d=(f,h)=>{Ua(f),Ha(h,t.onClickOut,e)};return a.html("appcues-layer",{classNames:`appcues--theme-${yo(e)||s.id||"-default"}`},a.html("style",{classNames:"appcues-global-hotspot-styling","attrs-type":"text/css"},s.globalHotspotStyling||""),a.html("style",null,`
          .apc-sequential-hotspot ~ .apc-sequential-hotspot .apc-sequential-backdrop {
            opacity: 0;
            visibility: hidden;
            display: none;
          }
          `),a.html(ey,null),a.html("div",{classNames:"hotspots appcues-hotspots","hook-insert":u,"hook-destroy":f=>{Ua(f)},"hook-update":d},a.html(Xg,{annotations:l,previousActiveElement:Pc(e),shouldForceFocus:mf(e),annotationsState:vt(e),activeAnnotations:Gn(e),callbacks:t,settings:o,isScrollingToAnnotation:Of(e)})))}function ny(e){const t=ty(e);return Ma(e,e.views.callbacks[z.HOTSPOTS],n=>({isLast:Fa(e,n.id),isLastUnexpanded:t.length===1&&t.indexOf(n.id)===0}))}function $a(e,t){return Kt(e,t)===Xe(e).length-1}function ry(e){return Ma(e,e.views.callbacks[z.SEQUENTIAL_HOTSPOTS],t=>{const n=t.next_text||($a(e,t.id)?"Close":"Next");return{stepsInGroup:Nf(e),buttonText:t.hide_next_button?null:n,isLast:$a(e,t.id),isFirst:Kt(e,t.id)===0}})}function iy(e){const t=ye(e);return Mn(t)?ry(e):ny(e)}const oy={click:e=>{e.stopPropagation(),e.preventDefault(),e.target.control.checked=!0,e.target.form.requestSubmit()}};function sy(e){const{optionNumber:t,ctaStyles:n}=e,r=`option-#${t}`;return a.html("div",{classNames:"nps-number-option"},a.html("input",{name:"nps-options",classNames:"nps-number-input",id:r,value:t,type:"radio"}),a.html("label",{classNames:"nps-number-link",style:n,test:"test",attrs:{for:r},on:oy},t))}const Ba={click:e=>{e.stopPropagation(),e.preventDefault()}};function cy(e){const{onNextStep:n,onStartCollapsing:r,onCollapse:i,onQuantitativeQuestionSubmitted:o,onAskMeLaterSelected:s,step:c,askMeLaterTextOverride:l,notLikelyTextOverride:u,veryLikelyTextOverride:d,doCollapseBeforeNextStep:f}=e,h=l||"Ask Me Later",y=u||"Not likely",p=d||"Very likely",m=A=>{f&&r(),o(A),n()},T=A=>{A.preventDefault();const O=new FormData(A.target).get("nps-options");O!==null&&m(Number.parseInt(O,10))},_={click:()=>{i(),s()},keydown:A=>{(A.key===" "||A.key==="Enter")&&(i(),s())}},S=[];for(let A=0;A<=10;A++)S.push(A);const I=c.question_text;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",id:"ask-me-later",on:_,"attrs-tabindex":"0"},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},h))),a.html("div",{classNames:"quantitative-question",id:"quantitative-question"},a.html("div",{classNames:"question-text",id:"quantitative-question-text"},I),a.html("form",{name:"NPS options","on-submit":T},a.html("fieldset",{classNames:"nps-options","attrs-aria-labelledby":"quantitative-question-text",role:"radiogroup",on:{change:A=>{A.type!=="submit"&&(A.preventDefault(),A.stopPropagation())}}},S.map(A=>a.html(sy,{...e,optionNumber:A})),a.html("input",{type:"submit",value:"Submit",hidden:!0}))),a.html("div",{classNames:"context-hints"},a.html("label",{classNames:"not-likely-hint",htmlFor:"option-#0",on:Ba},y),a.html("label",{classNames:"very-likely-hint",htmlFor:"option-#10",on:Ba},p))))}function ly(e){const{onPrevStep:t,onCollapse:n,onQualitativeQuestionSubmitted:r,onFeedbackTextChanged:i,onStartCollapsing:o,ctaStyles:s,step:c,updateTextOverride:l,cancelTextOverride:u,submitTextOverride:d,textAreaStyles:f,feedbackText:h,accountId:y,showBadge:p,isCollapsed:m}=e,T=l||"Update Your Score",_=u||"Close",S=d||"Submit",I={click:()=>{t()},keydown:G=>{(G.key===" "||G.key==="Enter")&&t()}},A={click:()=>{n()},keydown:G=>{(G.key===" "||G.key==="Enter")&&n()}},C={click:()=>{r(h),o()},keydown:G=>{G.repeat||(G.key===" "||G.key==="Enter")&&(r(h),o())}},O={change:G=>{i(G.target.value)},keyup:G=>{i(G.target.value)}},L=500,U=!h||h.trim().length<=0,R=h?h.length:0,K=R>L;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",tabIndex:m?"-1":"0",on:A},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},_)),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",classNames:"back-to-nps",id:"back-to-nps",on:I},T)),a.html("div",{classNames:"qualitative-question",id:"qualitative-question"},a.html("div",{classNames:"question-text",id:"qualitative-question-text"},c.question_text),a.html("div",null,a.html("textarea",{tabIndex:m?"-1":"0","attrs-aria-labelledby":"qualitative-question-text",id:"feedback-box",style:f,value:h,on:O})),a.html("div",{classNames:"buttons"},a.html("div",{classNames:"appcues-powdered-by-wrapper"},p?a.html(Jo,{isNPS:!0,accountId:y}):a.html(le,null)),a.html("div",null,a.html("div",{classNames:"character-count"},a.html("span",{classNames:`numerator-character-count ${K||U?"disabled":""}`},R)," ","/ ",L),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",on:C,classNames:`submit-button ${K?"disabled":""}`,style:s},S)))))}function ay(e){const{lastSubmitted:t,inlineStyles:n,toastMessage:r,show:i}=e,o="Thanks!",s={quantitative:" Thanks! Have any additional feedback?",qualitative:o},c=a.html("span",null," ",r||s[t]||o," ");return a.html("div",{classNames:"confirmation-toast",id:"confirmation-toast",style:i?{...n,opacity:"0",transition:"opacity 0.4s",delayed:{opacity:"1"}}:{...n,transition:"opacity 0.2s",delayed:{opacity:"0"}}},c)}function uy(e){const{accountId:t,step:n,onNextStep:r,onPrevStep:i,onStartCollapsing:o,onCollapse:s,onUpdate:c,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:h,onFeedbackTextChanged:y,onAskMeLaterSelected:p,currentState:m,showBadge:T}=e,_=n.background_color||"#FFFFFF",S=n.foreground_color||"#000000",I=Number.parseInt(_.replace("#",""),16),A=Number.parseInt(S.replace("#",""),16),C=I<A,O={backgroundColor:_,color:S},L={color:C?"#FFFFFF":"#000000"},U={backgroundColor:n.foreground_color||"#FFFFFF",color:n.background_color||"#000000"},G={onNextStep:()=>r(n.id),onPrevStep:()=>i(n.id),onStartCollapsing:o,onCollapse:s,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:h,onFeedbackTextChanged:y,onAskMeLaterSelected:p,collapsed:m.surveyCollapsed,step:n,accountId:t,doCollapseBeforeNextStep:n.collapse_before_next_step,updateTextOverride:n.update_text_override,cancelTextOverride:n.cancel_text_override,submitTextOverride:n.submit_text_override,askMeLaterTextOverride:n.ask_me_later_text_override,notLikelyTextOverride:n.not_likely_text_override,veryLikelyTextOverride:n.very_likely_text_override,inlineStyles:O,ctaStyles:U,textAreaStyles:L,showBadge:T};let ue=!1,w;switch(n.step_number){case 1:ue=!1,w=a.html(cy,{...G});break;case 2:ue=!0,w=a.html(ly,{...G,feedbackText:m.feedbackText,isCollapsed:m.surveyCollapsed});break;default:w=null}const J={click:l,keydown:de=>{(de.key===" "||de.key==="Enter")&&l()}};return a.html("cue",{classNames:"active"},a.html("div",null,a.html("section",null,a.html("div",{classNames:"appcues-nps","hook-update":c,style:m.surveyCollapsed?{...O,opacity:"0",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}:{...O,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}},a.html("div",{classNames:`nps-modal ${ue?"qualitative":""}`,id:"nps-modal"},w))),a.html("div",{classNames:`feedback-tab ${m.surveyCollapsed?"collapsed":""}`},m.lastSubmitted==="quantitative"?a.html("a",{"attrs-tabindex":"0","hook-insert":de=>{window.requestAnimationFrame(()=>lt(de.elm))},classNames:"feedback-link",on:J},a.html("div",{classNames:"satisfaction-feedback",id:"satisfaction-overlay",style:m.surveyCollapsed?{...O,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}:{...O,opacity:"1",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0.4s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}},"Feedback")):"",a.html(ay,{...G,show:m.toastVisible,lastSubmitted:m.lastSubmitted,toastMessage:n.completion_toast_copy}))))}const dy="/generic/main/7.17.2/satisfaction-survey.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",fy="sha256-sxJdJpfLXrOLqMGRB1bfYQKkawXgstmlKYOqA1Z9CPo=",ls=Dt(dy);let Wa,Ai;function py(e){const t=ye(e),n=pr(e),r=Be(e),i=Xe(e),o=ct(e),s=Kt(e,o),c=i[s],l=t.attributes.pattern_type,{position:u}=t.attributes,d=e.views.callbacks[z.SATISFACTION_SURVEY],f=n.cssLoaded,h=hi(e.settings),y=r!==Q.SHOWING;let p={};const m=f&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r);m||(p={display:"none"}),p={...p,position:"fixed",bottom:"0px",left:"0px",width:"100%"};let T="0px",_="100%",S="0px";const{askMeLaterSelected:I,surveyCollapsed:A,toastVisible:C,lastSubmitted:O}=n,L=!I&&A;L&&(T="40px",C||(_="125px",S="296px"),!C&&O==="qualitative"&&(T="0px",_="0px"));const U=J=>{Wa=J.elm,window.requestAnimationFrame(()=>{d.onShow(),lt(J.elm)})},R=J=>{if(J){const de=J.getBoundingClientRect().height,he=Number.parseInt(n.height,10);Math.abs(de-he)>2&&d.onContentChange&&window.requestAnimationFrame(()=>d.onContentChange(t.id,J))}},K=J=>{if(I||O==="qualitative"||L||!m)return;const de=J.elm.scrollHeight,he=window.innerHeight;if(de){Ai=Ai||de+15;const Ce=de>he?he:Ai;Wa.style.height=`${Ce}px`,J.elm.children[0].style.height=`${Ce}px`}},G=(J,de)=>{(J==="next"?d.onNextStep:d.onPrevStep)(de),Ai=null},ue=(J,de)=>{const he=J.target.ownerDocument;di(he,ls,()=>{d.onCSSLoaded(t.id,ls,!0),is(he,t.id,"survey-container",d.onContentChange)})},w=a.html(uy,{step:c,key:`survey-step-${s}`,currentState:n,showBadge:h,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onNextStep:J=>G("next",J),onPrevStep:J=>G("prev",J),onCollapse:d.onCollapse,onStartCollapsing:d.onStartCollapsing,onExpand:d.onExpand,onShowToast:d.onShowToast,onHideToast:d.onHideToast,onJumpStep:d.onJumpStep,onLinkClick:d.onLinkClick,onQuantitativeQuestionSubmitted:d.onQuantitativeQuestionSubmitted,onQualitativeQuestionSubmitted:d.onQualitativeQuestionSubmitted,onFeedbackTextChanged:d.onFeedbackTextChanged,onAskMeLaterSelected:d.onAskMeLaterSelected,onStepChildActivated:d.onStepChildActivated,onStepChildDeactivated:d.onStepChildDeactivated,onFormSubmission:d.onFormSubmission,onUpdate:K,onSkip:d.onSkip});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":u,"class-appcues-ontop":!0,"class-apc-hidden":y,style:p},a.html("iframe",{style:{position:"fixed",bottom:"0",border:"none",height:T,width:_,right:"0",marginRight:S},"hook-insert":U,"hook-destroy":()=>{},"attrs-aria-label":"NPS Survey","style-color-scheme":"none"},a.html("link",{"attrs-href":ls,"attrs-integrity":fy,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":J=>{ue(J)},"on-error":J=>{ue(J)}}),a.html("appcues",{"class-active":!0,"class-apc-hidden":y,"attrs-data-pattern-type":l,"attrs-data-position":u},a.html("survey-container",{"hook-update":J=>{R(J.elm)}},w))))}const hy=b(ae.INVALIDATE_FORM),my=b(ae.LOADED_CSS),Ey=b(ae.RESIZE_CONTENT,(e,t,n)=>({id:e,height:t.height,width:t.width,ts:n})),gy=b(ae.ACTIVATED_STEP_CHILD,(e,t)=>({stepChildId:e,timestamp:t})),yy=b(ae.DEACTIVATED_STEP_CHILD),En=b(ae.SET_CURRENT_STEP_CHILD),Sy=b(ae.CLEAR_CURRENT_STEP_CHILD),Ty=b(ae.SET_CURRENT_STEP),Va=b(ae.ADVANCE_STEP_CHILD,(e,t,n,r,i=!1)=>({contentType:e,step:t,childId:n,nextChildId:r,shouldEndFlow:i})),Cy=b(ae.RUN_PREV_STEP_CHILD,(e,t)=>({step:e,stepChildId:t})),_y=b(ae.CLOSE_STEP,(e,t)=>({flowId:e,stepId:t})),Jt=b(ae.CLOSE_FLOW,(e,t)=>({flowId:e,type:t})),Iy=b(ae.CANCEL_STEP,(e,t)=>({flowId:e,stepId:t})),Ga=b(ae.SET_PREVIOUS_ACTIVE_ELEMENT,e=>({element:e})),Ay=b(ae.SET_FORCE_FOCUS,e=>({forceFocus:e})),ja=b(ae.SET_NEXT_CONTENT_ID_COOKIE,e=>({nextContentId:e})),as=b(ae.CLEAR_CONTENT_STATE_CHILD),vy=b(Ei.PREPARE_MODAL),by=b(Ei.RESIZE_MODAL_CONTENT,(e,t)=>({id:e,height:t.height,width:t.width}));function Te(e,t,n){return{type:e,params:{stepId:t,...n}}}function ht(e,t,n,r){return Te(e,t,{stepChildId:n,...r})}function Qt(e,t,n,r,i={}){return ht(q.STEP_INTERACTED,e,t,{interactionType:"click",interaction:{category:n,destination:r,...i}})}const wy=(e,t)=>n=>{e(ce(ht(q.CHILD_DEACTIVATED,se(t()),n,{ts:Date.now()})))};function qa(e,t,n,r={}){return Qt(se(e),t,"internal",n,r)}function vi(e,t){const n=wy(e,t);return{onContentChange(r,i){Po(i)&&e(Ey(r,i.getBoundingClientRect(),br()))},onShow(){const r=t();e(rr(se(r))),e(ce(Te(q.STEP_SHOWN,se(r))))},onCSSLoaded(r,i,o=!0){if(o){const s=t();e(my(r)),e(ce(Te(q.CSS_LOADED,se(s))))}else if(se(t())===r){const s=new Error("Failed to load CSS.");s.extra={url:i},e(rr(s)),e(ce(Te(q.STEP_ERRORED,r,{error:s,details:JSON.stringify({url:i})})))}},onStepChildActivated(r){e(ce(ht(q.CHILD_ACTIVATED,se(t()),r,{ts:Date.now()})))},onStepChildDeactivated:n,onComplete(r){const i=t(),o=ct(i),s={text:bt(r)};e(ce(qa(i,o,"end",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t())))),e(ce(Te(q.STEP_END,se(i))))},onCompleteFlow(r){const i=t(),o=ct(i),s={text:bt(r)};e(ce(qa(i,o,"end-flow",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t()),{shouldEndFlow:!0}))),e(ce(Te(q.STEP_END,se(i),{shouldEndFlow:!0})))},onSkip(){const r=t();e(ce(ht(q.STEP_SKIPPED,se(r),ct(r))))},onLinkClick(r,i,o){e(ce(Qt(se(t()),r,"link",i,o)))},onHandleUserEvent(r,i={}){e(we({},[zt(r,i)],!0))},onHandleProfileUpdate(r){const i=r;i.userId&&delete i.userId;const o=be(t()).userId||null;ne.defined(o)&&e(nr(o,i))},onSetNextContentIdCookie(r){e(ja(r))}}}function Ny(e){return e===""||!ne.defined(e)}function Oy(e,{value:t,minSelection:n,maxSelection:r,required:i}){switch(e){case"number":return/^\d+$/.test(t)||"This field should be a number.";case"date":return/^\d{4}(?:-\d{1,2}){2}$/.test(t)||"Please enter a valid date.";case"email":return/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/.test(t)||"This field should be an email address.";case"tel":return/^(?!\b(0)\1+\b)(\+?\d{1,3}[ .-]?)?\(?\d{3}\)?([ .-]?)\d{3}\3\d{4}$/.test(t)||"This field should be a phone number.";case"url":return/^(?:https?:\/\/)?[\d.a-z-]+\.[.a-z]{2,6}(?:[\w ./-]*)*\/?(?:\?[\w&/=-]*)?(?:#[\w/-]*)?$/.test(t)||"This field should be a URL.";case"checkbox":{if(t){const o=t.split(`
`),s=Number.parseInt(n,10),c=Number.parseInt(r,10);if(!i&&o.length>c)return`Select a maximum of ${c} items`;if(s>o.length&&s>0||o.length>c)return`Select between ${s} and ${c} items`}return!0}default:return!0}}function Ka(e){const t=[];return e.forEach(n=>{const r=[],i=Ny(n.value);n.required&&i&&r.push("This field is required.");const o=n.validation,s=Oy(o,n);s!==!0&&(o!=="date"&&(!i||i&&n.required)||o==="date"&&i&&!n.required)&&r.push(s),r.length>0&&t.push({fieldId:n.fieldId,messages:r})}),t.length>0?{result:!1,errors:t}:{result:!0}}function us(e,t,n,r={}){return Qt(se(e),t,"internal",n,r)}function ky(e){const t=e.querySelectorAll("input, textarea, select"),n=[];for(const r of t)r.type.search(/^(?:checkbox|radio)$/)>-1?r.checked&&n.push(r):n.push(r);return n}const Ry=e=>e.length>1?e.map(t=>t.value).join(`
`):e[0]?.value||null;function Ly(e,t){const n=vi(e,t);function r(i,o){const s=t(),c={text:bt(i)};e(ce(us(s,o,"next",c))),n.onStepChildDeactivated(o);const l=Uc(s,o);l&&(e(En(l)),n.onStepChildActivated(l))}return{onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onCSSLoaded:n.onCSSLoaded,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onCompleteFlow:n.onCompleteFlow,onComplete:n.onComplete,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onNextStep:r,onShow(){n.onShow(),n.onStepChildActivated(ct(t()))},onFormSubmission(i,o,s,c,l=!1,u=!1){const d=o.map((h,y)=>{const p=ky(h)||{},m=h.querySelector(".form-field");let T=null,_=!1,S=null;m&&(T=m.getAttribute("data-appcues-validation"),_=m.getAttribute("data-appcues-required")==="true",S=m.getAttribute("data-custom-reporting-label"),(!S||S==="undefined")&&(S=null));const I=h.querySelector(".field-label label"),A=m.getAttribute("data-min-selection"),C=m.getAttribute("data-max-selection");let O=p[0]?.name??null,L=null;const U=I?.textContent?.trim()==="*"?null:I?.textContent;if((h.getAttribute("data-form-field")||!O)&&(O=h.getAttribute("data-field-id")),I&&U)L=U,O=O||I.getAttribute("for");else{const[,R]=(m.getAttribute("class")||"").split(" ");L=R.replace("form-field-",""),R.includes("radio")&&m.querySelector(".rating-options")&&(L=L.replace("radio","rating")),L+=`-${h.getAttribute("data-field-id")}`}return{required:_,validation:T,fieldId:O,label:L,value:Ry(p),formFieldIndex:y,customReportingLabel:S,minSelection:A,maxSelection:C}}),f=()=>{if(c)n.onComplete();else if(s)s();else{const h=ct(t());r(null,h)}};if(u){(Ka(d).result||l)&&s();return}e(fm(i,d,f,l))},onPrevStep(i,o){const s=t(),c={text:bt(i)};e(ce(us(s,o,"previous",c))),n.onStepChildDeactivated(o);const l=So(s,o);l&&(e(En(l)),n.onStepChildActivated(l))},onJumpStep(i,o,s){const c=t(),l={text:bt(i)};e(ce(us(c,o,`step_${s}`,l))),n.onStepChildDeactivated(o);const u=ti(c,s);u&&(e(En(u)),n.onStepChildActivated(u))},onLinkClick(i,o,s){const c={text:bt(i)};n.onLinkClick(o,s,c)},onContentChange(i,o){e(by(i,o.getBoundingClientRect()))}}}const xy=b(Yt.EXPAND_HOTSPOT),Py=b(Yt.PREPARE_HOTSPOTS),Dy=b(Yt.SET_BEACON_SETTLED,(e,t)=>({id:e,isBeaconSettled:t})),bi=b(Yt.CLOSE_LAST_HOTSPOT,(e,t,n={})=>({stepId:e,childId:t,params:n})),Fy=b(me.ADD_ACTIVE_ANNOTATIONS),Hy=b(me.REMOVE_ACTIVE_ANNOTATIONS),ds=b(me.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS),Uy=b(me.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE),My=b(me.START_CALCULATE_POSITIONS),Ya=b(me.START_HANDLE_POSITION_UPDATES),$y=b(me.SET_ANNOTATIONS_POSITIONS),By=b(me.SET_ANNOTATIONS_READY),za=b(me.SET_IS_SCROLLING_TO_ANNOTATION,(e,t)=>({annotationId:e,isScrolling:t})),Wy=b(me.SAVE_POSITION_DETAILS),Vy=b(me.REPORTED_ANNOTATIONS_ERRORS),Gy=b(me.REPORTED_ANNOTATIONS_RECOVERY),jy=b(me.SET_EXISTING_ANNOTATIONS_ERRORS),qy=b(me.SET_TOOLTIP_SETTLED,(e,t)=>({id:e,isTooltipSettled:t})),Ky=b(me.GO_TO_STEP,(e,t,n)=>({stepId:e,currentStepChildId:t,nextStepChildIndex:n}));function Xa(e,t){const n=vi(e,t);function r(){const s=t(),c=ct(s);return c&&To(s,c)?c:null}function i(s){s&&(e(ds([s])),e(Sy()),n.onStepChildDeactivated(s))}const o=(s={})=>()=>{const c=r(),l=se(t());e(ce(Te(q.STEP_COMPLETED,l,s))),i(c),ne.defined(c)&&e(bi(l,c,s))};return{onSkip:n.onSkip,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded,onContentChange:n.onContentChange,onShow:n.onShow,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onActivate(s){e(xy(s)),n.onStepChildActivated(s),e(za(s,!1))},onBeaconClick(s,c,l,u){const d=r(),f=d!==s,h=se(t());f&&e(ce(Qt(h,s,"beacon",s))),i(d),f?(e(En(s)),this.onActivate(s),setTimeout(()=>{n.onContentChange(s,c)},50),u&&e(ce(Te(q.STEP_COMPLETED,se(t()))))):l&&e(bi(h,d))},onClickOut(s){const c=r();i(c),s&&ne.defined(c)&&e(bi(se(t()),c))},onComplete:o({shouldEndFlow:!1}),onCompleteFlow:o({shouldEndFlow:!0})}}function Yy(e,t){const n=Xa(e,t),r=vi(e,t),i=(o,s={})=>(c,l)=>{const u=t(),d=se(u),f=ze(u),h=d?st(f,d):null,y={text:bt(c)};e(ce(Qt(d,l,"internal",o,y))),e(Va(z.SEQUENTIAL_HOTSPOTS,h,l,null,s.shouldEndFlow))};return{onSkip:r.onSkip,onLinkClick:r.onLinkClick,onCSSLoaded:r.onCSSLoaded,onContentChange:r.onContentChange,onHandleUserEvent:r.onHandleUserEvent,onHandleProfileUpdate:r.onHandleProfileUpdate,onSetNextContentIdCookie:r.onSetNextContentIdCookie,onShow:()=>{},onNextButtonClick(o,s,c){const l=t(),u=se(l),d={text:bt(o)};e(ce(Qt(u,s,"internal",c?"end":"next",d))),e(ce(ht(q.CHILD_NEXT,u,s)))},onComplete:i("end",{shouldEndFlow:!1}),onCompleteFlow:i("end-flow",{shouldEndFlow:!0}),onFirstInsert(o,s){s&&r.onShow(),n.onActivate(o)},onPrevButtonClick(o,s){const c=t(),l=se(c),u={text:bt(o)};e(ce(Qt(l,s,"internal","previous",u))),e(Cy(l,s))},onJumpStep:(o,s,c)=>{const l=t(),u=se(l),d={text:bt(o)};e(ce(Qt(u,s,"internal",`step_${c}`,d))),e(Ky(u,s,c))},onHandleBlur(o,s){e(Ay(o.target===s))}}}const zy=b(Ae.PREPARE_SATISFACTION_SURVEY),Xy=b(Ae.START_COLLAPSING_SATISFACTION_SURVEY),Ja=b(Ae.COLLAPSE_SATISFACTION_SURVEY),Jy=b(Ae.EXPAND_SATISFACTION_SURVEY),Qa=b(Ae.SHOW_SATISFACTION_SURVEY_TOAST),Za=b(Ae.HIDE_SATISFACTION_SURVEY_TOAST),Qy=b(Ae.QUANTITATIVE_QUESTION_SUBMITTED,e=>({score:e})),Zy=b(Ae.CLICKED_UPDATE_NPS_SCORE),eS=b(Ae.QUALITATIVE_QUESTION_SUBMITTED,e=>({feedback:e})),tS=b(Ae.FEEDBACK_TEXT_CHANGED,e=>({feedback:e})),nS=b(Ae.ASK_ME_LATER_SELECTED);function rS(e,t){const n=vi(e,t);function r(m){const T=t(),_=Uc(T,m);_&&e(En(_))}function i(m){e(Qy(m))}function o(m){e(eS(m))}function s(m){e(tS(m))}function c(){e(nS())}function l(){e(Ja())}function u(){e(Xy())}function d(){e(Jy())}function f(){e(Qa())}function h(){e(Za())}function y(m){const T=t(),_=So(T,m);_&&(Rc(ye(T),_).step_type==="quantitative-question"&&e(Zy()),e(En(_)))}function p(){n.onShow(),n.onStepChildActivated(ct(t()))}return{onShow:p,onNextStep:r,onPrevStep:y,onStartCollapsing:u,onCollapse:l,onExpand:d,onShowToast:f,onHideToast:h,onQuantitativeQuestionSubmitted:i,onQualitativeQuestionSubmitted:o,onFeedbackTextChanged:s,onAskMeLaterSelected:c,onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded}}const eu=b(re.START_CHECKLIST),gn=b(re.SET_CHECKLIST_STATUS,(e,t)=>({id:e,status:t})),tu=b(re.UPDATE_CHECKLISTS),wi=b(re.HIDE_CHECKLISTS),kr=b(re.UNHIDE_CHECKLISTS),nu=b(re.ANIMATE_IN_CHECKLIST),Rr=b(re.EXPAND_CHECKLIST,e=>({checklistId:e})),yn=b(re.COLLAPSE_CHECKLIST,e=>({checklistId:e})),ru=b(re.SET_EXPAND_CHECKLIST_LATER,(e,t)=>({checklistId:e,shouldTryExpandChecklist:t})),iS=b(re.SHOW_DISMISS_CONFIRMATION,e=>({checklistId:e})),oS=b(re.CANCEL_DISMISS_CONFIRMATION,e=>({checklistId:e})),sS=b(re.CONFIRM_DISMISS_CHECKLIST,(e,t,n)=>({checklistId:e,checklistName:t,didCompleteChecklist:n})),cS=b(re.LOADED_CHECKLIST_CSS,e=>({checklistId:e})),iu=b(re.SEND_CHECKLIST_ERROR),ou=b(re.START_CHECKLIST_ITEM,(e,t,n=0,r={})=>({checklistId:e,itemId:t,actionIndex:n,checklist:r})),lS=b(re.START_CHECKLIST_ACTION,(e,t,n,r)=>({action:e,checklistId:t,itemId:n,actionIndex:r})),fs=b(re.COMPLETED_CHECKLIST_ACTION,(e,t,n)=>({checklistId:e,itemId:t,actionIndex:n})),aS=b(re.SET_CHECKLIST_HEIGHT,(e,t)=>({checklistId:e,height:t})),uS=b(re.SET_CHECKLIST_WIDTH,(e,t)=>({checklistId:e,width:t})),dS=b(re.CLEAR_FORCE_SHOWN_CHECKLIST),su=b(re.SEND_CHECKLIST_SHOWN_EVENT,e=>({checklist:e}));function fS(e,t){let n=!1;return{onBeaconClicked(r){const i=t(),o=an(i,r);o.viewState===jt.EXPANDED?e(yn(r)):(e(Rr(r)),o.attributes.open_behavior==="closed"&&!n&&(n=!0,e(su(o))))},onOutsideClicked(r){const i=t();an(i,r).viewState===jt.EXPANDED&&e(yn(r))},onItemClicked(r,i){e(ou(r,i))},onDismissClicked(r){e(iS(r))},onDismissCanceled(r){e(oS(r))},onDismissConfirmed(r,i,o=!1){e(sS(r,i,o))},onMinimizedClicked(r){e(yn(r))},onCSSLoaded(r,i,o=!0){if(o)e(cS(r));else{const s=new Error(`Failed to load CSS for checklist ${r}`);s.extra={url:i},e(iu(s))}},onExpandChecklistResize(r,i){e(aS(r,i))},onCollapseBeaconResize(r,i){e(uS(r,i))}}}function pS(e){return{onCancelClicked(){e({type:tr.CANCEL_TEST})},onResetClicked(){e({type:tr.RESET_TEST})},onCssLoaded(){e({type:tr.LOADED_TEST_MODE_CSS})}}}const hS=b(wt.LOADED_LAUNCHPAD,({selector:e,position:t,header:n,footer:r,icon:i})=>({selector:e,position:t,header:n,footer:r,icon:i})),mS=b(wt.UPDATED_WIDGET_HISTORY,e=>({history:e})),ES=b(wt.UPDATED_WIDGET_FLOWS,e=>({flows:e})),ps=b(wt.TOGGLED_WIDGET,e=>({expanded:e}));function gS(e,t){function n(){if(_o(t())){e(ps(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}}function r(){if(_o(t())){e(ps(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}else{e(ps(!0));const i={id:"widget_opened",timestamp:Date.now()};e(Ue("widget_opened",i)),e(we({},[Ve(i)],!1))}}return{onClose:n,onToggled:r,onItemClicked(i,o,s){r(),i.preventDefault(),i.stopPropagation();try{window.Appcues.show(o);const c={id:"widget_item_clicked",flowId:o,hasBeenSeen:s,timestamp:Date.now()};e(Ue("widget_item_clicked",c)),e(we({},[Ve(c)],!1))}catch(c){xt(t())(c,{extra:c.extra})}}}}function yS({settings:e,sagas:t,onStateChange:n}){const r=Ph(),i=Zh(),o=ZE({orderedContent:[],content:{},currentContent:null,session:{},settings:e,transport:{initialized:!1},user:{},views:{callbacks:{},renderers:{}},reporter:null,styles:{},tasks:{},test:{},widget:{}},t);if(o.dispatch($l({[z.MODAL]:Ly(o.dispatch,o.getState),[z.HOTSPOTS]:Xa(o.dispatch,o.getState),[z.SEQUENTIAL_HOTSPOTS]:Yy(o.dispatch,o.getState),[z.SATISFACTION_SURVEY]:rS(o.dispatch,o.getState),[z.CHECKLIST]:fS(o.dispatch,o.getState),[z.TEST_MODE]:pS(o.dispatch,o.getState),[z.WIDGET]:gS(o.dispatch,o.getState)})),o.dispatch(Im({[z.MODAL]:Lg,[z.HOTSPOTS]:iy,[z.SATISFACTION_SURVEY]:py})),o.subscribe(()=>{const s=o.getState();switch(Be(s)){case Q.PENDING:o.dispatch(cm());break;case Q.ERROR:o.dispatch(Vl()),o.dispatch(Fl(window.location.href,!1,null));break}r(s),i(s),n&&n(s)}),Er(document))o.dispatch(ql());else{const s=()=>{Er(document)&&(o.dispatch(ql()),document.removeEventListener("readystatechange",s))};document.addEventListener("readystatechange",s)}return o}var Lr=e=>typeof e=="function"?e:function(){return e},SS=typeof self<"u"?self:null,xr=typeof window<"u"?window:null,Sn=SS||xr||Sn,TS="2.0.0",Nt={connecting:0,open:1,closing:2,closed:3},CS=1e4,_S=1e3,at={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Mt={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},hs={longpoll:"longpoll",websocket:"websocket"},IS={complete:4},Ni=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},cu=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},AS=class{constructor(e,t,n){this.state=at.closed,this.topic=e,this.params=Lr(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Ni(this,Mt.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new cu(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=at.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=at.closed,this.socket.remove(this)}),this.onError(r=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,r),this.isJoining()&&this.joinPush.reset(),this.state=at.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Ni(this,Mt.leave,Lr({}),this.timeout).send(),this.state=at.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Mt.reply,(r,i)=>{this.trigger(this.replyEventName(i),r)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(Mt.close,e)}onError(e){return this.on(Mt.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(typeof t>"u"||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new Ni(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=at.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Mt.close,"leave")},n=new Ni(this,Mt.leave,Lr({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic!==e?!1:r&&r!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let o=this.bindings.filter(s=>s.event===e);for(let s=0;s<o.length;s++)o[s].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===at.closed}isErrored(){return this.state===at.errored}isJoined(){return this.state===at.joined}isJoining(){return this.state===at.joining}isLeaving(){return this.state===at.leaving}},Oi=class{static request(e,t,n,r,i,o,s){if(Sn.XDomainRequest){let c=new Sn.XDomainRequest;return this.xdomainRequest(c,e,t,r,i,o,s)}else{let c=new Sn.XMLHttpRequest;return this.xhrRequest(c,e,t,n,r,i,o,s)}}static xdomainRequest(e,t,n,r,i,o,s){return e.timeout=i,e.open(t,n),e.onload=()=>{let c=this.parseJSON(e.responseText);s&&s(c)},o&&(e.ontimeout=o),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,o,s,c){return e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=()=>c&&c(null),e.onreadystatechange=()=>{if(e.readyState===IS.complete&&c){let l=this.parseJSON(e.responseText);c(l)}},s&&(e.ontimeout=s),e.send(i),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,o=e[r];typeof o=="object"?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},vS=e=>{let t="",n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)},Pr=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=Nt.connecting,setTimeout(()=>this.poll(),0)}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+hs.websocket),"$1/"+hs.longpoll)}endpointURL(){return Oi.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=Nt.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===Nt.open||this.readyState===Nt.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(i=>{setTimeout(()=>this.onmessage({data:i}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=Nt.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){typeof e!="string"&&(e=vS(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,n){for(let i of this.reqs)i.abort();this.readyState=Nt.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r,i){let o,s=()=>{this.reqs.delete(o),r()};o=Oi.request(e,this.endpointURL(),t,n,this.timeout,s,c=>{this.reqs.delete(o),this.isActive()&&i(c)}),this.reqs.add(o)}},ki={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,o,s]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:o,payload:s})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:o}=e,s=this.META_LENGTH+t.length+n.length+i.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(c),u=0;l.setUint8(u++,this.KINDS.push),l.setUint8(u++,t.length),l.setUint8(u++,n.length),l.setUint8(u++,i.length),l.setUint8(u++,r.length),Array.from(t,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(n,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(i,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>l.setUint8(u++,f.charCodeAt(0)));var d=new Uint8Array(c.byteLength+o.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(o),c.byteLength),d.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,c=n.decode(e.slice(s,s+r));s=s+r;let l=n.decode(e.slice(s,s+i));s=s+i;let u=n.decode(e.slice(s,s+o));s=s+o;let d=e.slice(s,e.byteLength);return{join_ref:c,ref:null,topic:l,event:u,payload:d}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(c,c+r));c=c+r;let u=n.decode(e.slice(c,c+i));c=c+i;let d=n.decode(e.slice(c,c+o));c=c+o;let f=n.decode(e.slice(c,c+s));c=c+s;let h=e.slice(c,e.byteLength),y={status:f,response:h};return{join_ref:l,ref:u,topic:d,event:Mt.reply,payload:y}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,s=n.decode(e.slice(o,o+r));o=o+r;let c=n.decode(e.slice(o,o+i));o=o+i;let l=e.slice(o,e.byteLength);return{join_ref:null,ref:null,topic:s,event:c,payload:l}}},bS=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||CS,this.transport=t.transport||Sn.WebSocket||Pr,this.primaryPassedHealthCheck=!1,this.longPollFallbackMs=t.longPollFallbackMs,this.fallbackTimer=null,this.sessionStore=t.sessionStorage||Sn&&Sn.sessionStorage,this.establishedConnections=0,this.defaultEncoder=ki.encode.bind(ki),this.defaultDecoder=ki.decode.bind(ki),this.closeWasClean=!1,this.disconnecting=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Pr?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;xr&&xr.addEventListener&&(xr.addEventListener("pagehide",r=>{this.conn&&(this.disconnect(),n=this.connectClock)}),xr.addEventListener("pageshow",r=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=r=>t.rejoinAfterMs?t.rejoinAfterMs(r):[1e3,2e3,5e3][r-1]||1e4,this.reconnectAfterMs=r=>t.reconnectAfterMs?t.reconnectAfterMs(r):[10,50,100,150,200,250,500,1e3,2e3][r-1]||5e3,this.logger=t.logger||null,!this.logger&&t.debug&&(this.logger=(r,i,o)=>{}),this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=Lr(t.params||{}),this.endPoint=`${e}/${hs.websocket}`,this.vsn=t.vsn||TS,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new cu(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return Pr}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Oi.appendParams(Oi.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.disconnecting=!0,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.teardown(()=>{this.disconnecting=!1,e&&e()},t,n)}connect(e){e&&(this.params=Lr(e)),!(this.conn&&!this.disconnecting)&&(this.longPollFallbackMs&&this.transport!==Pr?this.connectWithFallback(Pr,this.longPollFallbackMs):this.transportConnect())}log(e,t,n){this.logger&&this.logger(e,t,n)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}transportConnect(){this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e)}getSession(e){return this.sessionStore&&this.sessionStore.getItem(e)}storeSession(e,t){this.sessionStore&&this.sessionStore.setItem(e,t)}connectWithFallback(e,t=2500){clearTimeout(this.fallbackTimer);let n=!1,r=!0,i,o,s=c=>{this.log("transport",`falling back to ${e.name}...`,c),this.off([i,o]),r=!1,this.replaceTransport(e),this.transportConnect()};if(this.getSession(`phx:fallback:${e.name}`))return s("memorized");this.fallbackTimer=setTimeout(s,t),o=this.onError(c=>{this.log("transport","error",c),r&&!n&&(clearTimeout(this.fallbackTimer),s(c))}),this.onOpen(()=>{if(n=!0,!r)return this.primaryPassedHealthCheck||this.storeSession(`phx:fallback:${e.name}`,"true"),this.log("transport",`established ${e.name} fallback`);clearTimeout(this.fallbackTimer),this.fallbackTimer=setTimeout(s,t),this.ping(c=>{this.log("transport","connected to primary after",c),this.primaryPassedHealthCheck=!0,clearTimeout(this.fallbackTimer)})}),this.transportConnect()}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`${this.transport.name} connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.disconnecting=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),_S,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();let r=this.connectClock;this.waitForBufferDone(()=>{r===this.connectClock&&(this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{r===this.connectClock&&(this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e())}))})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===Nt.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,n])=>n(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(Mt.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case Nt.connecting:return"connecting";case Nt.open:return"open";case Nt.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t!==e)}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([n])=>e.indexOf(n)===-1)}channel(e,t={}){let n=new AS(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:o}=e;this.log("push",`${t} ${n} (${o}, ${i})`,r)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef,join_ref:""}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:o,join_ref:s}=t;o&&o===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i);for(let c=0;c<this.channels.length;c++){const l=this.channels[c];l.isMember(n,r,i,s)&&l.trigger(r,i,o,s)}for(let c=0;c<this.stateChangeCallbacks.message.length;c++){let[,l]=this.stateChangeCallbacks.message[c];l(t)}})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};function Ri(){let e=Date.now();return typeof Date.now()!="number"&&(e=new Date().getTime()),window.performance&&ne.function(window.performance.now)&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.trunc((e+Math.random()*16)%16);return e=Math.floor(e/16),(n==="x"?r:r&3|8).toString(16)})}function wS(e,t,n={}){return new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("readystatechange",({currentTarget:s})=>{const c=s||o;if(c.readyState===4)switch(c.status){case 200:try{r(JSON.parse(c.responseText))}catch(l){i(l)}break;case 404:r(null);break;default:{const l=new Error(`${c.status} ${c.statusText}`);l.extra={url:t,response:c.responseText},i(l)}}}),o.open(e,t),n.headers&&Object.entries(n.headers).forEach(([s,c])=>o.setRequestHeader(s,c)),o.send()})}function Tn(e,t){return wS("GET",e,t)}const ms=e=>t=>{const n=Array.isArray(t)?[]:{};let r,i,o;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=e[i],o=typeof r,n[i]=o==="function"?r(t[i]):r&&o==="object"?ms(r)(t[i]):t[i]);return n},NS=e=>t=>t.map(e),OS=(e,t,n)=>n?t.reduce((r,i)=>r[i]||e,n):e,ir=e=>e.split("?")[0],kS=ms({attributes:{url:ir,_identity:{_lastPageUrl:ir,_currentPageUrl:ir}},context:{url:ir}}),RS=ms({profile_update:{_lastPageUrl:ir,_currentPageUrl:ir},events:NS(kS)}),LS=(e,t)=>OS(!1,["account","stripQueryParams"],e)?RS(t):t,Dr=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`https://${window.AppcuesBundleSettings.API_HOSTNAME}/v1`,"https://api.appcues.net/v1"),xS=P(()=>window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN&&`${window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN}/v1`,"https://fast.appcues.com/v1"),Fr=()=>{const e=window[Gi]||{};let t={};return e.userIdSignature&&(t={Authorization:`Bearer ${e.userIdSignature}`}),t},Hr={UserActivity:"USER_ACTIVITY"};function PS(e,t,n,r){return new Promise((i,o)=>{try{n.create(e,t,r,(s,c)=>{c?o(c):i(s)})}catch(s){o(s)}})}function lu(e){return e.transport.module.isConfigured(e)}function DS(e){return new Promise((t,n)=>{e.transport.module.configure(e,(r,i)=>{i?n(i):t(r)})})}function au(e,t,n,r="event"){return new Promise((i,o)=>{try{e.transport.module.send(e,t,n,(s,c)=>{c?o(c):i(s)},r)}catch(s){o(s)}})}const FS=(e,t,n)=>au(e,Hr.UserActivity,n,t);function HS(e,t,n,r,i=null,o=null,s=null,c={}){const l=r?Ri():null;return au(e,Hr.UserActivity,LS(window.AppcuesBundleSettings,{source:"web",request_id:l,user_id:e.user.userId,group_id:i,session_id:o,account_id:e.settings.accountId,profile_update:t,group_update:s,events:n,context:c})).then(()=>l)}function uu(e,t){return e.transport.module.sendMetrics(e,Hr.UserActivity,t)}function du(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return Tn(`${Dr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/content/${encodeURIComponent(t)}`,{headers:Fr()})}function US(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return Tn(`${Dr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/experience_content/${encodeURIComponent(t)}`,{headers:Fr()})}function MS(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return Tn(`${Dr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/checklist/${encodeURIComponent(t)}`,{headers:Fr()})}function $S(e,t){if(window.AppcuesBundleSettings?.ASSETS_PATH){const n=Al(window.AppcuesBundleSettings.ASSETS_PATH);return Tn(`${n}/themes/${encodeURIComponent(t)}.json`)}return Tn(`${xS()}/accounts/${encodeURIComponent(e.settings.accountId)}/styles/${encodeURIComponent(t)}`)}function BS(e){const{userId:t,_localId:n}=be(e);return Tn(`${Dr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/history`,{headers:Fr()})}function WS(e){const{userId:t,_localId:n}=be(e);return Tn(`${Dr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/widget?url=${encodeURIComponent(window.location.href)}`,{headers:Fr()})}const VS="access forbidden",GS="unauthorized",jS=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`wss://${window.AppcuesBundleSettings.API_HOSTNAME}/v1/socket`,"wss://api.appcues.net/v1/socket"),Es=[{endpoint:Hr.UserActivity,name:e=>`sdk:${e.settings.accountId}:${e.user.userId}`}];function Li(e,t){let n;for(const r of Es)if(r.endpoint===t){n=r;break}try{return e.transport.details.channels[n.name(e)]}catch{return null}}function qS(e,t){let n=null;return e&&e.channels&&e.channels.forEach(r=>{r.topic===t&&(n=r)}),n}function fu(e){window.APPCUES_TEST_IDENTITY_VERIFICATION&&window.console.log(`Appcues Identity Verification Test: ${e}`)}function KS(e,t,n,r){function i(){const o=window[Gi]||{},s={response_format:r};return window.APPCUES_TEST_IDENTITY_VERIFICATION||o.userIdSignature!==void 0&&o.userIdSignature!==null?{...s,token:o.userIdSignature||""}:s}return new Promise((o,s)=>{let c=qS(t,n);function l(u,d){u.receive("ok",()=>{u.channel.state!=="errored"?(fu("Succeeded - sent update to API using User ID Signature"),o({topic:n,channel:u.channel})):s(new Error("Channel is in an errored state."))}).receive("error",f=>{if(f===VS||f===GS){const{token:h}=i();fu(`Failed - ${h?`invalid User ID Signature ${h}`:"no User ID Signature present"}`),!u.channel.isLeaving()&&!u.channel.isClosed()&&u.channel.leave(),d&&d()}else s(new Error(f))})}c&&c.canPush()?o({topic:n,channel:c}):c&&!c.canPush()?l(c.joinPush,()=>{l(t.channel(n,i).join())}):(c=t.channel(n,i),l(c.join()))})}const YS={create:(e,t,n,r)=>{const i=new bS(jS(),{reportError:n});i.onOpen(()=>{r({type:"WS",details:{socket:i,onMessage:e,onTimeout:t}})}),i.onError(()=>{r(null,new Error("Error connecting to WebSocket."))}),i.connect()},send:(e,t,n,r,i="event")=>{const o=Li(e,t);if(o&&o.canPush())o.push(i,n).receive("ok",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,...s})).receive("timeout",()=>e.transport.details.onTimeout(n.request_id)).receive("error",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,status:"error",...s})),r(n);else{const s=new Error("Channel was not configured.");s.extra={endpoint:t,message:n},r(null,s)}},subscribeToError:(e,t,n)=>{Li(t,n).onError(e)},sendMetrics:(e,t,n)=>{const r=Li(e,t);r&&r.canPush()&&r.push("sdk_metrics",n)},isConfigured:e=>Es.every(t=>{const n=Li(e,t.endpoint);return n?n.canPush():!1}),configure:(e,t)=>{const n=Rf(e);n.isConnected()||n.connect();const r=Cf(e)?"v2":"v1";return Promise.all(Es.map(i=>KS(e.transport,n,i.name(e),r))).then(i=>{const o={};i.forEach(s=>{o[s.topic]=s.channel}),t({channels:o})},i=>{t(null,i)})}},Ke={init:()=>"apc_init",request:e=>`apc_req_start_${e}`,attempt:e=>`apc_attempted_${e}`,response:e=>`apc_resp_end_${e}`,render:e=>`apc_rendered_${e}`,css:e=>`apc_css_loaded_${e}`,shown:e=>`apc_shown_${e}`},pu="apc_flow_performance";function Cn(e){try{document.visibilityState==="visible"&&window.performance.mark(e)}catch{}}function _n(e,t){try{return window.performance.measure(pu,{start:e,end:t,detail:`${e} to ${t}`}).duration}catch{return Number.NaN}}const zS=()=>Cn(Ke.init()),XS=e=>Cn(Ke.request(e)),JS=e=>Cn(Ke.response(e)),QS=e=>Cn(Ke.attempt(e)),ZS=e=>Cn(Ke.render(e)),eT=e=>Cn(Ke.css(e)),tT=e=>Cn(Ke.shown(e));function nT(e){return!(e.css_load_time<0||["api_response_duration","time_to_attempt","time_to_render","css_load_time","time_to_reveal","time_to_show"].some(n=>Number.isNaN(e[n])))}function rT(e){try{Object.values(Ke).forEach(t=>{window.performance.clearMarks(t(e))}),window.performance.clearMeasures(pu)}catch{}}function iT(e,t){try{const n=Ke.request(e),r=Ke.response(e),i=Ke.attempt(e),o=Ke.render(e),s=Ke.css(e),c=Ke.shown(e);let l=Number.NaN;try{l=_n(0,Ke.init())}catch{}const u={...Number.isNaN(l)?{}:{init_time:l},api_response_duration:_n(n,r),time_to_attempt:_n(r,i),time_to_render:_n(i,o),css_load_time:_n(o,s),time_to_reveal:_n(s,c),time_to_show:_n(n,c),step_type:t,request_id:e};return rT(e),nT(u)?u:null}catch{return null}}function oT(e){return{onMessage(t){t.request_id&&JS(t.request_id),e.dispatch(tm(t))},onTimeout(t){e.dispatch(nm(t))}}}function sT(e,t){return()=>{}}const cT=b(qe.TOGGLE_ROW_DETAILS),lT=b(qe.TOGGLE_COLLAPSED),aT=b(qe.SET_CURRENT_PAGE),hu=b(qe.TRACK_PAGE),uT=b(qe.ADD_CONTENT_ERROR,(e,t)=>({contentId:e,errorMessage:t})),dT=b(qe.ADD_CHILD_ERROR,(e,t,n)=>({contentId:e,childId:t,errorMessage:n})),mu=b(qe.CLOSE_DEBUGGER),fT=b(Je.PAUSE_EXPERIENCE),pT=b(Je.RESUME_EXPERIENCE),gs=b(Je.SHOW_EXPERIENCES),Ur=b(Je.SAVE_ON_HOLD_LAUNCHPADS),Mr=b(Je.UNHIDE_LAUNCHPADS),Eu=b(Je.HIDE_LAUNCHPADS),gu="EVENTS_TRIGGERED",hT=b(gu),ys=b(St.SET_SESSION),Ss=b(St.START_SESSION),mT=b(St.SESSION_STARTED);function*yu(){let e=null;try{const t=yield v(dt);e=yield E(BS,t)}catch(t){const n=yield v(xt);yield E(n,t,{extra:t.extra})}e&&(yield g(mS(e.journeys)))}function*Su(){let e=null;try{const t=yield v(dt);e=yield E(WS,t)}catch(t){const n=yield v(xt);yield E(n,t,{extra:t.extra})}e&&(yield g(ES(e.contents)))}function*ET(){yield F(te,wt.LOADED_LAUNCHPAD,yu),yield F(te,wt.LOADED_LAUNCHPAD,Su)}function Me(e,t,n){try{window[e].setItem(t,n)}catch{}}function ke(e,t){try{return window[e].getItem(t)}catch{return null}}function He(e,t){try{window[e].removeItem(t)}catch{}}function gT(e,t){try{Object.keys(window[e]).forEach(r=>{r.startsWith(t)&&window[e].removeItem(r)})}catch{}}function yT(e){return z.ANNOTATION.includes(e)}function*xi(){const e=yield E(ke,Fe,Gr);try{return JSON.parse(e)}catch{return null}}function ST(e,t,n,r){let i=e;return(i/=r/2)<1?n/2*i*i+t:-n/2*(--i*(i-2)-1)+t}function*TT(e,t){if(window.document?.documentMode){const n=e,r=n.scrollTop;if(r!==t){const i=yield E(ih,t,r);let o=0;for(;o<i;)o+=js,n.scrollTop=ST(Math.min(o,i),r,t-r,i),yield E(ve,js)}return!0}return e.scroll({top:t,behavior:"smooth"}),!0}function*CT(e,t,n,r){for(;;){const i=Tl(e,t,n);if(i.some((s,c)=>s.scrollTop!==r[c].scrollTop))return i;yield E(ve,200)}}function*_T(e,t,n,r){const i=[];if(r.every(s=>s.visibleInContainer))return{doneScrolling:r.map(()=>!0)};for(const{el:s,scrollTop:c}of r)i.push(E(TT,s,c));return yield Ge({doneScrolling:i,scrollTargetsChanged:E(CT,e,t,n,r)})}function*IT({payload:e}){yield g(Uy(e)),yield E(ve,eo),yield g(Hy(e))}function*AT(e){const t=yield*xi();yield E(Me,Fe,Gr,JSON.stringify({...t,...e}))}function*Tu(e,t,n){if(Object.keys(e).length>0){const r=yield v(ni),i=Object.keys(e).filter(o=>!r[o]||!r[o].errorReported);if(i.length>0){const o={};i.forEach(s=>{o[s]=e[s]}),yield g(ce(Te(q.CHILDREN_ERRORED,t,{errors:o}),n)),yield g(Vy(i)),yield E(AT,i.reduce((s,c)=>({...s,[c]:{ts:Date.now()}}),{}))}}}function*vT(e){const t=yield*xi();t&&Object.keys(t).length>0&&(e.forEach(n=>{delete t[n]}),yield E(Me,Fe,Gr,JSON.stringify(t)))}function*bT(e){const t=yield v(ni),r=Object.keys(t).filter(i=>t[i].errorReported||t[i].existingError).filter(i=>e[i]&&!e[i].error&&t[i]&&!t[i].recoveryReported);if(r.length>0){const i=yield v(se);yield g(ce(Te(q.CHILDREN_RECOVERED,i,{children:r}))),yield g(Gy(r)),yield E(vT,r)}}function*wT(){let e,t=br();for(;(e=yield v(Be))&&e!==Q.ERROR;){const n=yield v(Xe),r=yield v(vt),o=(yield n.map(c=>E(yl,(r[c.id]||{}).element||null,mo(c)))).reduce((c,l,u)=>(c[n[u].id]=l,c),{});let s=!1;if(Object.keys(o).forEach(c=>{const l=o[c],{_prevPosition:u}=r[c]||{};lh(l,u||{})||(s=!0)}),s){yield g(Ya(o)),yield g(Wy(o)),t=br();const c=Object.keys(o).filter(u=>o[u].error).reduce((u,d)=>Object.assign(u,{[d]:o[d].errorMessage}),{}),l=yield v(se);yield E(Tu,c,l),yield E(bT,o)}else{const c=br();c-t>1e3&&(yield g(Ya(o)),t=c);for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=r[l];if(u.isBeaconSettled||c-u.lastRepositionedTs>tn&&(yield g(Dy(l,!0))),u.expanded&&!u.isTooltipSettled){const d=c-u.lastResizeTs>tn,f=c-u.lastExpandedTs>xd;(d||f)&&(yield g(qy(l,!0)))}}}yield E(ve,tn)}}function*NT(){const e=yield v(Be);ne.inArray([Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],e)||(yield g(By()))}function*OT(){const e=yield*xi();if(e){const t=Date.now(),n=Object.keys(e).reduce((r,i)=>(e[i].ts+vd>t&&(r[i]=e[i]),r),{});yield E(Me,Fe,Gr,JSON.stringify(n))}}function*kT(e){let t=yield v(vt);const n=yield v(Xe);let r=t[e]||{};const i=ot(n,y=>y.id===e);let{element:o,error:s}=r;const{offset_y_percentage:c}=i,l=1-Number.parseFloat(c);for(;!o||s;)yield V(me.SET_ANNOTATIONS_POSITIONS),t=yield v(vt),r=t[e]||{},o=r.element,s=r.error;const u=yield E(ch,o);if(ai(o)){if(window.document?.documentMode)return;setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"center"})},0);return}let f=yield E(Tl,o,l,u),h={};for(;!h.doneScrolling;)h=yield E(_T,o,l,u,f),f=h.scrollTargetsChanged}function*RT({payload:e}){yT(e.type)&&(yield g(pm(Zl(qs.CALCULATE,e.id))))}function*LT(){const e=(yield E(xi))||{};Object.keys(e).length>0&&(yield g(jy(e)))}function*xT({payload:e}){let t=yield v(Gn);const{annotationId:n,isScrolling:r}=e;if(r)yield g({type:me.CONFIRM_SCROLLING,payload:r});else{for(;t.length>1&&t[0]!==n;)yield E(ve,200),t=yield v(Gn);yield E(ve,eo),yield g({type:me.CONFIRM_SCROLLING,payload:!1})}}function*PT(){yield[F(te,$.CLEANUP_STEP,RT),F(ea,me.START_CALCULATE_POSITIONS,wT,function*(){const e=yield v(se);return Zl(qs.CALCULATE,e)}),F(te,me.SET_IS_SCROLLING_TO_ANNOTATION,xT),F(te,me.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS,IT),F(OT),F(LT)]}function Cu(e){const t={};if(e){const n=e.replace(/^\?/,"").split("&");for(let r=0,i=n.length;r<i;r++){const o=n[r].split("=");try{t[o[0]]=decodeURIComponent(o[1])}catch{const[,s]=o;t[o[0]]=s}}}return t}function _u(e){return Cu(e.location.search).appcuesTestContentId||null}function $r(e,t="appcue"){return Cu(e.location.search)[t]||null}function In(e,t="appcue"){if(!e)return e;const n=new RegExp(`(\\?)?(&)?((?:${t})=[^&#]+)(&)?`);return e.replace(n,(r,i,o,s,c)=>i&&c?"?":o&&c?"&":"")}const DT=e=>["Enter"," "].includes(e.key);function*Iu(e){const t=yield e.map(r=>E(yl,null,r)),n=t.filter(r=>r.error);return n.length===t.length?{result:!1,failures:n.map(r=>r.errorMessage)}:{result:!0}}function*FT(e){for(;!(yield E(Iu,e)).result;)yield E(ve,tn);return{result:!0}}function*HT(e,t,n=null){const{promise:r,listener:i}=yield E(gh,e,t,n);let o,s;try{o=yield E(()=>r),s=!0}finally{return!s&&i&&(yield zr())&&(yield E([e,e.removeEventListener],t,i)),o}}function Pi(e,t=null,n=null){return{result:e,task:t,failures:n}}function*UT(e){const{result:t,failures:n}=yield E(Iu,e);if(t)return Pi(!0);const r=yield It(FT,e);return Pi(!1,r,n)}function*Au(e,t,n){let r,i;for(;;)try{const o=yield E(xo,t);if(o.error)yield E(ve,tn);else{if((r!==o||!i)&&(i&&(yield it(i)),r=o,i=yield F(HT,r,e,n)),i&&i.result())return{result:!0};const{eventOccurred:s}=yield Ge({timeout:E(ve,tn),eventOccurred:rn(i)});if(s)return{result:!0}}}catch{yield E(ve,tn)}}function*MT(e){return(yield Ge([E(Au,e.params.event,e.params.selector),E(Au,"keydown",e.params.selector,DT)])).find(n=>n&&n.result)}function*vu(e){switch(e?e.type:null){case Dn.WAIT_FOR_ONE_ELEMENT:return yield E(UT,e.params.selectors);case Dn.WAIT_FOR_MOUSE_EVENT:{const n=yield It(MT,e);return Pi(!1,n)}default:return Pi(!0)}}function*$T(e,t,...n){const{result:r,task:i}=yield E(vu,e);let o=r;if(!r&&i)try{o=(yield rn(i)).result}finally{i.isRunning()&&(yield zr())&&(yield it(i))}o&&(yield It(t,...n))}function BT(e,t,n){return{type:e,params:t,context:n}}function Ts(e,t){return BT(Dn.WAIT_FOR_ONE_ELEMENT,{selectors:e},t)}function WT(e){let t="unknown",n={};switch(e.type){case Dn.WAIT_FOR_MOUSE_EVENT:t=e.params.event,n={category:"element",element:e.params.selector};break;case Dn.WAIT_FOR_ONE_ELEMENT:t="ui_modified",n={category:"insertion",elements:e.params.selectors};break}return{interactionType:t,interaction:n}}function*mt(e,t){for(const n of t)yield g(Ue(e,n));yield g(we({},t.map(n=>Ve(n))))}function*bu(e,t,n){const r=yield*$t();yield*Ot({...r,flowId:e.id,stepId:t.id,status:n})}function*VT(...e){for(const t of e)yield g(ce(t))}function*GT(e,t,n){(yield V(({type:i,payload:o})=>i===ae.ACTIVATED_STEP_CHILD&&o.stepChildId===n.id||i===ae.CLOSE_FLOW&&o.flowId===e.id)).type===ae.ACTIVATED_STEP_CHILD&&(yield Ge({wait:E($T,n.ui_conditions.next,VT,ht(q.STEP_INTERACTED,t.id,n.id,WT(n.ui_conditions.next)),ht(q.CHILD_NEXT,t.id,n.id)),cancel:V(({type:i,payload:o})=>i===ae.CLOSE_FLOW&&o.flowId===e.id)}))}function wu(e,t){return t?{...e,_sdkMetrics:t}:e}function*jT(e,t,n){const r=yield v(At);for(;;){const i=yield V(t),o=i.params||{},s=o.stepId?st(e,o.stepId):null;let c,l;const u=s?(c=Lt(e,0))&&c.id===s.id:!1,f=(s?(l=Lt(e,kc(e)-1))&&l.id===s.id:!1)||o.shouldEndFlow;switch(i.type){case q.STEP_ATTEMPTED:if(s&&$n(s)){if(qt(s)){const y=[];u&&y.push(na(e,r)),y.push(ra(e,s,r)),yield*mt(e.id,y);const{page_check_limit:p}=s.attributes.params,m=yield*$t(),{remainingPagesToCheck:T}=m||{};yield*Ot({...m,remainingPagesToCheck:typeof T=="number"?T:typeof p=="number"?p:Ji})}const h=[];u&&h.push(fE(e,r)),h.push(gE(e,s,r)),yield*mt(e.id,h),yield*bu(e,s,q.STEP_ATTEMPTED)}break;case q.STEP_SHOWN:if(s){if($n(s)){const h=yield*$t(),y=u||!h?Ri():h.submissionId,p=u||!h?yield E($r,window,"appcue"):h.fromPermalink;yield*Ot({...h,submissionId:y,status:q.STEP_SHOWN,fromPermalink:!!p})}u&&!pf(s)&&n&&(yield E(ZS,n))}break;case q.STEP_COMPLETED:if(s){const h=[yE(e,s,r)];if(f&&h.push(hE(e,r)),yield*mt(e.id,h),qt(s)){const y=yield*$t(),{remainingPagesToCheck:p,navByADTT:m,...T}=y||{};yield*Ot({...T,flowId:e.id,stepId:s.id,status:q.STEP_COMPLETED})}else yield*bu(e,s,q.STEP_COMPLETED)}break;case q.STEP_SKIPPED:s&&(yield*mt(e.id,[SE(e,s,o.stepChildId,r),mE(e,o.stepId,r)]),yield*Bt(e,s),yield g(Jt(e.id,_t.SKIPPED)),yield g(kr()),yield g(Mr()));break;case q.STEP_END:if(s){const h=yield v(se);if(h===s.id&&(yield*Bt(e,s)),f)yield g(Jt(e.id,_t.COMPLETED));else{const y=Lt(e,Bn(e,s.id)+1);y.type===z.HOTSPOTS&&(yield g(kr()),yield g(Mr())),h===s.id&&(yield g(t,Te(q.STEP_ATTEMPTED,y.id)),yield g(Hl(y,document.location.href)))}}break;case q.STEP_INTERACTED:if(s){const h=[],y=o.interaction||{};if(o.interactionType==="submit"&&y.category==="form"){const p={category:y.category,formId:y.formId};h.push(ia(e,s,o.stepChildId,"submit",{...p,response:y.fields},r),wE(e,s,o.stepChildId,{...p,submissionId:y.submissionId,response:y.fields},r),...y.fields.map(m=>NE(e,s,o.stepChildId,{...p,submissionId:y.submissionId,...m},r)))}else h.push(ia(e,s,o.stepChildId,o.interactionType,y,r));yield*mt(e.id,h)}break;case q.STEP_ERRORED:if(s){const h=[AE(e,s,o.error,o.details,r),TE(e,s,r),EE(e,r)];u&&h.splice(1,0,IE(e,o.error,o.details,r)),yield*mt(e.id,h)}break;case q.CHILD_ACTIVATED:yield g(gy(o.stepChildId,o.ts)),s&&$n(s)&&(yield*mt(e.id,[CE(e,s,o.stepChildId,r)]));break;case q.CHILD_DEACTIVATED:{const{stepChildId:h}=o,y=yield v(Mc,h);yield g(yy(h)),s&&$n(s)&&(yield*mt(e.id,[_E(e,s,h,o.ts-y,r)]));break}case q.CHILDREN_ERRORED:{const h=Object.keys(o.errors||{});h.length>0&&(yield*mt(e.id,h.map(y=>vE(e,s,y,o.errors[y],r))));break}case q.CHILDREN_RECOVERED:{const h=o.children||[];h.length>0&&(yield*mt(e.id,h.map(y=>bE(e,s,y,r))));break}case q.CHILD_NEXT:if(s){const h=sn(s,o.stepChildId);let y=null;h>-1&&(y=(ho(s,h+1)||{}).id||null);let p=s.type;p===z.HOTSPOTS&&Mn(s)&&(p=z.SEQUENTIAL_HOTSPOTS,yield g(za(y,!0))),yield g(Va(p,s,o.stepChildId,y))}break;case q.CHILD_RUN:{const h=ho(s,sn(s,o.stepChildId));yield g(En(o.stepChildId)),h&&h.ui_conditions&&h.ui_conditions.next&&(yield It(GT,e,s,h));break}case q.CSS_LOADED:{u&&n&&eT(n);break}case q.STEP_REVEALED:{if(s){let h=null;u&&n&&(yield E(tT,n),h=yield E(iT,n,s.type));const y=[];$n(s)?(u&&y.push(wu(na(e,r),h)),y.push(ra(e,s,r)),yield*mt(e.id,y)):u&&(y.push(wu(pE(e,r),h)),yield*mt(e.id,y))}break}}}}function Cs(e){He("localStorage",e),He("localStorage",`${e}_timeout`)}function Nu(e){if(!e)return!1;const t=ke("localStorage",e),n=JSON.parse(ke("localStorage",`${e}_timeout`))??0;return Date.now()>n||!t?(Cs(e),!1):!0}function qT(e){return!e||!Nu(e)?null:ke("localStorage",e)}function Ou(e,t,n){Me("localStorage",e,t),Me("localStorage",`${e}_timeout`,Date.now()+n)}function*KT(e,t){yield V(n=>n.type===ae.CANCEL_STEP&&n.payload.flowId===e),yield it(t)}function*ku(e,t){const n=yield E(Fn.expanding,5),r=yield E(Nc,n),i=yield It(jT,e,r,t);return yield It(KT,e.id,i),r}function YT(e){if(e.uiConditions&&e.uiConditions.start)return e.uiConditions;let t;switch(e.type){case z.HOTSPOTS:{const n=on(e);if(Mn(e)){const[r]=n;if(r){const i=[r.id],o=[mo(r)];t=Ts(o,{stepChildIds:i})}else t=Ts([],{stepChildIds:[]})}else{const r=n.reduce((i,o)=>[...i,mo(o)],[]);t=Ts(r,{stepChildIds:n.map(i=>i.id)})}break}case z.MODAL:default:t=null}return{...e.uiConditions,start:t}}function*zT(e,t,n,r,i){let o=!1;try{o=(yield rn(e)).result,o&&(yield g(Si(n,tt.FLOWS)),yield g(jo(n,r,i,t)))}finally{(yield zr())&&(yield it(e)),o||(yield g(t,lr))}}function*Di(e){for(;(yield v(If,e)).length>0;)yield V($.FINISHED_EVENT)}function*Ru(e,t,n,r,i=!0){const o=yield E(ku,e,r),s=t?st(e,t):Lt(e,0);$n(s)&&s.attributes.action_type!==Et.WAIT_FOR_PAGE&&(yield g(o,Te(q.STEP_ATTEMPTED,s.id)));const l=YT(s).start,{result:u,task:d,failures:f}=yield E(vu,l);if(u)return yield g(Rm(e.id)),yield g(Si(e.id,tt.FLOWS)),yield g(jo(e.id,s.id,n,o)),!0;const h=(l.context||{}).stepChildIds||[];if(f&&f.length>0&&h.length===f.length){const p=f.reduce((m,T,_)=>T?Object.assign(m,{[l.context.stepChildIds[_]]:T}):m,{});yield E(Tu,p,s.id,o)}const y=[$.START_FLOW];return i!==!1&&y.push($.CANCEL_ATTEMPTS),yield It(lE,{wait:E(zT,d,o,e.id,s.id,n),cancel:V(y)}),!1}function*Lu(e,t,n,r){const i=yield E(ku,e,null);yield g(jo(e.id,t,n,i,r))}function*XT(e){const{flowId:t,stepId:n,url:r,eventChannel:i,status:o}=e.payload,s=yield v(go,t),c=st(s,n);c&&(c.type===z.HOTSPOTS&&(yield g(kr()),yield g(Mr())),yield g(Hl(c,r,o)));const{payload:l}=yield V(u=>u.type===ae.CLOSE_FLOW&&u.payload.flowId===t);yield E(He,_e,Gt),yield g(hm(i)),yield Ge({wait:E(Di,t),cancel:E(ve,to)}),!s.redirect_url&&!s.next_content_id&&(yield g(kr()),yield g(Mr())),l.type===_t.COMPLETED&&(s.redirect_url?(s.next_content_id&&(yield E(Ou,Rn,s.next_content_id,Ks)),yield E(Xt,window,s.redirect_url,s.redirect_new_tab)):s.next_content_id&&(yield g(Tr(s.next_content_id))))}function*$t(){try{return JSON.parse(yield E(ke,_e,Gt))}catch{return{}}}function*Ot(e){yield E(Me,_e,Gt,JSON.stringify(e))}function*_s(e,t){const n=yield v(se);yield g(rr(e)),yield g(ce(Te(q.STEP_ERRORED,n,{error:e.message,details:t})))}function*JT(e){const{step:t,status:n}=e.payload;switch(t.type){case z.MODAL:case z.HOTSPOTS:case z.SATISFACTION_SURVEY:yield g(n?ce(Te(q.STEP_END,t.id)):Ty(t.id));break;case z.ACTION:if(n)yield g(Gl(t,n));else if(t.attributes.action_type===Et.WAIT_FOR_PAGE){const r=yield*$t(),i=n||r&&r.status||q.STEP_ATTEMPTED;yield g(Gl(t,i))}else yield g(Om(t));break;default:yield E(_s,new Error("Unknown step type."),JSON.stringify({type:t.type}))}}function*Bt(e,t){if(!t)return;(yield v(Be))===Q.SHOWING&&(yield g(Cm()),yield E(ve,Pd)),yield g(lm(t)),yield g(_y(e.id,t.id))}function*QT({payload:e}){const t=e.eventChannel||(yield v(wf));t&&(yield g(t,e.event))}function*ZT({payload:e}){yield E([e,e.close])}function*eC(){yield[F(et,$.START_FLOW,XT),F(et,$.START_STEP,JT),F(te,$.SEND_LIFECYCLE_EVENT,QT),F(te,$.CLOSE_CHANNEL,ZT)]}function tC(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return null}}function nC(e,t,n={}){let r=n;r=r===null?{}:r;const i=e.location.href;let o=r._sessionPageviews||0;(r._currentPageUrl!==i||t)&&(o+=1);const s=_u(e),c=e.navigator,l=c.languages?c.languages[0]:c.language||c.userLanguage;let{referrer:u}=e.document,d=Math.floor(Math.random()*100);t?u||(u=r._currentPageUrl):(u=r._currentPageUrl===i?r._lastPageUrl:r._currentPageUrl,r._sessionRandomizer&&(d=r._sessionRandomizer));const f={_hostname:e.location.hostname,_lastBrowserLanguage:l,_lastPageTitle:r._currentPageTitle||"",_lastPageUrl:u||"",_updatedAt:Date.now(),_lastSeenAt:Date.now(),_userAgent:e.navigator.userAgent,_currentPageTitle:e.document.title,_currentPageUrl:i,_sessionRandomizer:d,_sessionPageviews:o,_timezoneCode:tC(),_timezoneOffset:new Date().getTimezoneOffset(),_appId:e.AppcuesBundleSettings?.defaultAppId||null};return s?(f._testContentId=s,f._testContentUrl=i,Me(_e,zi,!0)):r._testContentId&&r._testContentUrl&&(f._testContentId=r._testContentId,f._testContentUrl=r._testContentUrl),ke(_e,zi)||(f._testContentId=null,f._testContentUrl=null),f}function xu(){return{_lastSeenAt:Date.now()}}function rC(e){return Object.keys(e).reduce((t,n)=>(_d.includes(n)&&(t[n]=e[n]),t),{})}function iC(e){if(!e||!e.traits||!Array.isArray(e.traits))return null;const t=e.traits.find(n=>n&&n.type==="@appcues/inline");return!t||!t.config||!t.config.target?null:t.config.target}function oC(e,t){if(!e)return"no-selector";if(!t||typeof t!="object")return JSON.stringify({selector:e});const n={};return typeof t.order=="number"&&(n.order=t.order),typeof t.text=="string"&&t.text.trim()!==""&&(n.text=t.text.trim()),Object.keys(n).length===0?JSON.stringify({selector:e}):JSON.stringify({selector:e,filters:n})}function sC(e){if(!e||!Array.isArray(e))return[];if(e.length===0)return[];const t=new Map;return e.forEach(n=>{const r=iC(n);if(!r)return;const i=oC(r.selector,r.filters);t.has(i)||t.set(i,n)}),[...t.values()]}const nt={OVERLAY:"overlay",BACKGROUND:"background",FLOATING:"floating",CONTAINER:"container"};function cC(e){const{type:t,attributes:n}=e;return n&&n.steps||t==="nps"||t==="flow"?nt.OVERLAY:t==="banner"||t==="persistent"?nt.BACKGROUND:t==="launchpad"?nt.FLOATING:t==="embed"?nt.CONTAINER:nt.OVERLAY}function lC(e){return e.reduce((t,n)=>{const r=cC(n);return t[r]||(t[r]=[]),t[r].push(n),t},{[nt.OVERLAY]:[],[nt.BACKGROUND]:[],[nt.FLOATING]:[],[nt.CONTAINER]:[]})}function Is(e){const t=lC(e);return Object.keys(t).reduce((n,r)=>{const i=t[r]||[];if(i.length===0)return n;switch(r){case nt.OVERLAY:{const{attributes:o}=i[0];o&&o.steps?n.contents=i.filter(s=>s.attributes&&s.attributes.steps):n.experiences=[...n.experiences,i[0]];break}case nt.BACKGROUND:n.experiences=[...n.experiences,...i];break;case nt.FLOATING:n.experiences=[...n.experiences,...i];break;case nt.CONTAINER:{const o=sC(i);n.experiences=[...n.experiences,...o];break}}return n},{contents:[],experiences:[]})}const aC=Kn([Jn,Xn,Yn,zn,Qn],si.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy})),uC=e=>{if(zp(e)){if(!Ne(e,"autoplay"))return;const{autoplay:n,...r}=e.data.attrs;e.data.attrs=r}};function*Pu(e){const t=[];let n,r;const i=new Error("Invalid HTML.");i.extra={};const o="";for(const[s,c]of e.entries()){r=c;try{aC(document.createElement("div"),Ft(`<div>${r.html}</div>`,{hooks:{create:uC}}))}catch(l){n||(n=yield v(se)),t.push({childNumber:s,stepChildId:r.id,error:l})}}return t.length===0?!0:(yield E(_s,Object.assign(i,{extra:{stepId:n,errors:t}}),o),!1)}function*dC({payload:{nextContentId:e}}){yield E(Ou,Rn,e,Ks)}const fC=()=>{const{sessionDuration:e=Fd}=window.AppcuesSettings||{};return{id:Ri(),timestamp:Date.now(),duration:e*6e4}};function*pC(){try{const e=yield E(ke,Fe,qr),t=JSON.parse(e);if(!t.id||!t.timestamp)throw yield E(He,Fe,qr),new Error("Invalid session");return t}catch{return{}}}function*hC(){const e=fC();yield g(ys(e)),yield g(mT())}function*mC(){const e=yield v(be);(!e||!e.userId)&&(yield V(H.IDENTIFY));const t=yield E(pC);if(!t.id||t?.id?.includes("NaN")){yield g(Ss());return}yield g(ys(t))}function*EC(){const e=yield v(Wn);yield E(Me,Fe,qr,JSON.stringify(e))}function*Du(){const e=yield v(Wn);return!e.id||Date.now()-e.duration>e.lastEventTimestamp}function*gC(){if(yield E(Du)){yield g(Ss()),yield V(({type:n})=>n===St.SESSION_STARTED);const e=yield v(Wn);return Ve(FE(e))}return null}function*yC({payload:e}){(yield v(Dc))||(yield V(H.COMPLETED_IDENTIFY)),(yield v(Wn)).id||(yield V(St.SET_SESSION));const{userId:r}=e;if(!r)return;const i=yield v(be),s=(i&&i.userId&&i.userId.toString())!==r.toString(),c=yield E(Du);(s||c)&&(yield g(Ss()))}function*SC(){return yield[F(et,H.INITIALIZE,mC),F(et,St.SET_SESSION,EC),F(et,St.START_SESSION,hC),F(te,$.START_IDENTIFY,yC)]}function*Fi(){return yield v($c)}function*As(e=!1){if(yield v(Fc))return null;let n=yield E(ke,_e,Zt);try{n=JSON.parse(n)}catch{n=null}const r=yield E(nC,window,e,n);if(yield E(Me,_e,Zt,JSON.stringify(r)),(yield E(_u,window))&&window.history&&window.location){const l=yield E(In,window.location.href,"appcuesTestContentId");yield E([window.history,window.history.replaceState],window.history.state,"",l),window.location.reload()}let o=yield E(ke,Fe,qi);o||(o=yield E(Ri),yield E(Me,Fe,qi,o));const s=yield v(gf),c=rC({_localId:o,_appcuesId:s,...r});return yield g(_r(c,!0)),c}function*Fu(){yield g(ym()),yield E(He,_e,Zt),yield E(He,Fe,qi),yield E(He,Fe,ji),yield E(He,Fe,Vr),yield E(Cs,Rn),yield E(He,_e,Gt),yield E(He,Fe,qr),yield E(gT,_e,Yi),yield E(As,!0)}function*Hu(e){const{properties:t,events:n}=e.payload,{_isAnonymous:r}=t,{userId:i}=e.payload,o=yield v(be),s=o&&o.userId&&o.userId.toString(),c=s!==i?.toString();s&&c&&!r&&(yield E(Fu)),yield g(gm(i)),ne.defined(i)&&(yield E(Me,Fe,ji,i)),yield g(_r({_doNotTrack:`${window.navigator&&window.navigator.doNotTrack}`[0]==="1",...t},!0));const l=yield v(be);yield g(we(l,n,!0))}function*Uu(){const e=yield v(dt);try{const t=yield E(DS,e);yield g(Ml(t))}catch(t){yield g(Ml(t))}}const Mu=e=>e.type===$.START_IDENTIFY&&ne.defined(e.payload.userId);function*TC(){const e=yield V(Mu);yield F(te,Mu,Hu),yield E(Hu,e),yield g(vm())}function*$u(){yield F(Uu);let e=yield V(H.CONFIGURE_TRANSPORT),t=0;for(;e.error&&t<5;)yield E(ve,100),yield F(Uu),e=yield V(({type:n})=>n===H.CONFIGURE_TRANSPORT),t+=1}function*CC(e){const t=e.filter(n=>n?.attributes?._builderButtonEvent);yield ut(t.map(n=>g(Ue(n.id,n))))}function*vs({properties:e,events:t,trigger:n,groupId:r=null,groupProperties:i=null}){let o=yield v(dt);(yield E(lu,o))||(yield E($u),o=yield v(dt));const c=yield v(be),{id:l}=yield v(Wn),u={url:window.location.href,sdk_version:window.AppcuesBundleSettings&&window.AppcuesBundleSettings.VERSION},d=t.map(h=>({...h,context:u,attributes:{...h.attributes,sessionId:l,_identity:c}})),f=t.find(h=>h.name===en.PAGE_VIEW);try{const h=yield E(HS,o,e,d,n,r,l,i,u);h&&(yield g(Ul(h,f)),XS(h)),yield g(ys({lastEventTimestamp:t[t.length-1].timestamp})),yield g(km())}catch(h){yield g(Ul(h))}}function bs(e){for(const t of e)if(t.name===en.PAGE_VIEW)try{if(ne.string(t.attributes.url)&&t.attributes.url.length>0)return t}catch{}return null}function Bu(e){return qt(e)&&Ct(e.attributes.params.url,window.location.href)}function*Wu(e){let t=e,n=null,r=null,i=null,o=null,s=null;const c=yield v(ze);if(t&&(!c||c.id!==t&&(!c.migrated_from_step_id||c.migrated_from_step_id!==t))){if(r=window.location.href,yield g(Cr()),c&&ne.defined(c.id)){const u=yield v(se),d=st(c,u);d&&(yield*Bt(c,d)),yield g(Jt(c.id,_t.SHOWING_OTHER_CONTENT))}const l=yield v(fr);if(l&&l[t])n=l[t];else{yield g(_m(t,r));const u=yield v(dt),d=yield v(xt);try{n=yield E(du,u,t)}catch(f){yield E(d,f,{extra:f.extra}),n=null}if(!n)try{i=yield E(MS,u,t),o=i?i.checklist:null}catch(f){yield E(d,f,{extra:f.extra}),i=null}if(!n&&!o)try{s=yield E(US,u,t)}catch(f){yield E(d,f,{extra:f.extra}),s=null}}n&&(t=n.id),yield g(qo([t],{[t]:n})),!n&&!o&&!s?yield g(rr(new Error("No content returned."))):n&&(n=yield v(go,t))}return{shownUrl:r,content:n,checklistContent:o,experience:s}}function _C(e){return dr(e)&&Ct(e.attributes.params.url,window.location.href)}function IC(e,t){return!dr(e)&&t===q.STEP_COMPLETED}function*AC(){const e=JSON.parse(yield E(ke,_e,Gt));if(e){let t=e;const n=yield v(ze),r=n&&n.id===e.flowId,i=st(n,e.stepId);let o=window.location.href;if(qt(i)){if(yield E(Bu,i))return yield ft(Lu,n,i.id,o,null),!0;const u=e.remainingPagesToCheck;return u===1?(yield g(Cr()),yield E(Bt,n,i),yield g(Jt(n.id,_t.CLEAR)),!1):(yield E(Ot,{...e,remainingPagesToCheck:u-1}),!0)}e.fromPermalink||(yield E(He,_e,Gt));let c;if(r)c=n,o=window.location.href;else{const l=yield E(Wu,e.flowId);c=l.content,o=l.shownUrl,c&&(yield g(Vl()))}if(c){const l=st(c,e.stepId),u=e.status,d=_C(l),f=qt(l),h=e.navByADTT;if(d||h||f){let y=l,p=u;if(IC(l,u)&&(y=Lt(c,Bn(c,e.stepId)+1),p=q.STEP_ATTEMPTED),dr(y)||qt(y)){if(p===q.STEP_COMPLETED&&(y=Lt(c,Bn(c,y.id)+1),p=null),qt(y)){const{flowId:_,remainingPagesToCheck:S}=t,{page_check_limit:I}=y.attributes.params,A=typeof S=="number"?S:typeof I=="number"?I:Ji;if(A<=1)return yield g(Cr()),yield E(Bt,c,y),yield g(Jt(c.id,_t.CLEAR)),t.fromPermalink||(yield E(He,_e,Gt)),!1;t={...t,flowId:_,stepId:y.id,status:q.STEP_ATTEMPTED,remainingPagesToCheck:A-1},yield E(Ot,t)}r&&(yield g(Iy(c.id,l.id)),yield E(Bt,c,l));const{flowId:m,submissionId:T}=t;return yield E(Ot,{...t,flowId:m,submissionId:T}),yield ft(Lu,c,y.id,o,p),!0}}}}return!1}function*Vu(){yield g(jl(window.location.href,!1));const e=yield v(ze);if(e){const r=JSON.parse(yield E(ke,_e,Gt)),i=r?st(e,r.stepId):null;i&&Bu(i)&&(yield E(Ot,{...r,status:q.STEP_SHOWN}))}const t=yield E(AC);let n=t;if(!t){let r;if(yield E($r,window,"showappcue")){if(r=yield E($r,window,"showappcue"),window.history){const i=yield E(In,window.location.href,"showappcue");yield E([window.history,window.history.replaceState],window.history.state,"",i)}}else(yield E($r,window,"appcue"))&&(r=yield E($r,window,"appcue"));(yield E(Nu,Rn))&&(r||(r=yield E(qT,Rn)),yield E(Cs,Rn)),r&&(yield g(Tr(r)),n=!0)}return yield g(jl(window.location.href,!0)),n}function*vC(e){const t=yield v(ze),n=yield v(se),r=st(t,n),i=bs(e);if(i&&i.attributes.url&&t!==null){const o=yield v(bf);In(i.attributes.url)!==In(o)&&(r&&(yield*Bt(t,r)),yield g(Jt(t.id,_t.CLEAR)))}}function*bC({properties:e,events:t,groupProperties:n,groupId:r}){let i=e,o=n;if(bs(t)){const s=yield E(As);i={...i,...s},r!=null&&(o={...o,...xu()});const c=yield v(Eo);if(!Ct(c.url,window.location.href)){(yield v(Be))===Q.WILL_CLOSE&&(yield V(ae.CLOSE_STEP)),yield g(Cr());const d=yield v(Io);d&&d.stopAll(),(yield E(Vu))||(yield E(vC,t)),(yield v(Gc))&&(yield ut([E(yu),E(Su)]))}}return[i,o]}function*wC({properties:e,events:t,trigger:n,groupId:r,groupProperties:i}){(yield E(Fi))||(yield V(H.INITIALIZE),yield V(St.SET_SESSION),yield V(H.CHECKED_FOR_INITIAL_CONTENT));const s=yield E(ke,Fe,Vr),[c,l]=yield*bC({properties:e,events:t,groupProperties:i,groupId:r??s});let u=t;const d=yield E(gC);if(d){const f=t[0];f&&(d.timestamp=f.timestamp),u=[d,...t]}yield E(vs,{properties:c,events:u,trigger:n,groupId:r??s,groupProperties:l})}function*NC(){const e=yield E(Fn.expanding,10),t=yield zd([$.START_ACTIVITY,$.START_GROUP_ACTIVITY],e),n=yield v(be);(!n||!n.userId)&&(yield V(H.IDENTIFY));let r=[];yield F(function*(){for(;;){const{payload:s}=yield V($.START_IDENTIFY),c=yield v(be);s.userId!==c?.userId&&r.length>0&&(yield it(...r),r=[])}});let i;for(;;){i=yield V(t),yield E(ve,Dd);const o=yield Xd(t);let s=i.payload.properties||{},c=i.payload.events||[],l=i.payload.trigger||!1,u=i.payload.groupId||null,d=i.payload.groupProperties||null;o.forEach(y=>{const{payload:p}=y;s={...s,...p.properties},p.events&&(c=[...c,...p.events]),p.trigger&&(l=!0),p.groupId!=null&&(u=p.groupId),p.groupProperties&&(d={...d,...p.groupProperties})});let f=!1,h=!1;if(c=c.filter(y=>bs([y])?In(y.attributes.url)!==In(window.location.href)||f?!1:(f=!0,!0):(h=l,!0)),l=f||h,Object.keys(s).length>0||c.length>0||Object.keys(d??{}).length>0||u!=null){const y=yield F(wC,{properties:s,events:c,trigger:l,groupId:u,groupProperties:d}),p=yield F(CC,c);r.push(y,p)}}}function*Gu(e,t){const n=yield v(yf,e);if(n&&n.length>0)for(const r of n){let i=[t];e==="all"&&(i=[t.id,...i]),yield E([r.context||window,r.callback],...i)}}function*OC({payload:e}){const{flowId:t,event:n}=e,r=yield ft(Gu,n.id,n),i=yield ft(Gu,"all",n);yield rn(r,i),yield g(im(t,n))}function*kC({payload:e}){const t=yield E(Ka,e.fields);if(t.result||e.ignoreValidation){if(!e.fields.some(c=>c.value)){yield E(e.onSuccess);return}const r=yield v(se),i=yield v(ct),{submissionId:o}=yield*$t();yield g(ce(ht(q.STEP_INTERACTED,r,i,{interactionType:"submit",interaction:{category:"form",formId:e.formId,submissionId:o,fields:e.fields.map(c=>({fieldId:c.fieldId,fieldType:c.validation,fieldRequired:c.required,label:c.label,value:c.value,formFieldIndex:c.formFieldIndex,customReportingLabel:c.customReportingLabel}))}}))),yield E(e.onSuccess);const s=e.fields.reduce((c,l)=>{if(l.label){const u=Ad+uE(l.label);return Object.assign(c,{[u]:l.value})}return c},{});Object.keys(s).length>0&&(yield g(we(s,[],!1)))}else yield g(hy(t.errors))}function*RC({payload:e}){const{shownUrl:t,content:n,checklistContent:r,experience:i}=yield E(Wu,e);if(i&&(yield g(gs([i]))),n&&(yield E(Ru,n,null,t,null,!1)),r&&!(yield v(Co,Q.SHOWING)).map(c=>c.id).includes(r.id)){const{userId:c}=yield v(be);yield E(He,_e,`${Yi}${r.id}`),yield g(nr(c,{_showChecklist:r.id}))}}function*LC(){const e=yield v(Be);if(ne.inArray([Q.READY,Q.WILL_SHOW],e)){if(e!==Q.WILL_SHOW&&(yield V(H.WILL_SHOW_CONTENT)).error)return;yield E(ve,eo),yield g(Tm());const t=yield v(se);yield g(ce(Te(q.STEP_REVEALED,t)))}}function*xC(){const e=yield Ge({cancel:V($.CANCEL_ATTEMPTS),result:E(LC)}),t=yield v(Be);if(e.cancel&&t===Q.WILL_SHOW){const n=yield v(ze);if(n&&ne.defined(n.id)){const r=yield v(se),i=st(n,r);i&&(yield*Bt(n,i)),yield g(Jt(n.id,_t.SHOWING_OTHER_CONTENT))}}}function*PC(){if(yield v(cn)){(yield v(ye)).type===z.HOTSPOTS||(yield g(wi()),yield g(Eu()));const r=yield v(yo),i=yield v(vf);if(r&&!i[r]){let o;try{const s=yield v(dt);o=yield E($S,s,r)}catch(s){const c=yield v(xt);yield E(c,s.message,{extra:s.extra})}o&&(yield g(Sm({[r]:o})))}yield g(am())}}function*DC(){let e=yield v(be);const{_localId:t}=e;t||(yield V(({type:r,payload:i})=>r===H.UPDATE_USER&&ne.defined(i.profile._localId)),e=yield v(be));const{_localId:n}=e;yield g(nr(`anon:${n}`,{_isAnonymous:!0},[zt(en.PAGE_VIEW,{url:window.location.href})]))}function*FC({payload:e}){const t=yield v(Dc),n=yield v(Fc);t||(yield V(H.COMPLETED_IDENTIFY));let r=yield v(be),{_appcuesId:i}=r;for(;!i&&!n;)yield V(H.UPDATE_USER),r=yield v(be),{_appcuesId:i}=r;try{r=JSON.parse(JSON.stringify(r))}catch{}yield E(e,r)}function*HC({payload:e}){const t=yield v(ei,e);t&&t.length>0&&(yield g(wm(e)),yield t.map(n=>it(n)))}function UC(e){return e===null||e===Q.ERROR}function MC(e,t){return!!(e&&t)}function*$C(){const e=yield v(ze),t=yield v(se),n=st(e,t);yield g(Cr()),yield E(Bt,e,n),yield g(Jt(e.id,_t.CLEAR))}function*BC(e){const{currentUrl:t,shouldOverrideCurrentFlow:n,requestId:r}=e.payload,i=yield v(Af),o=yield v(Be),s=yield v(cn);if(!(!i||i.length===0)&&(UC(o)||MC(o,n))){let c=!0;const l=yield v(fr);for(const u of i){const d=l[u];if(s===d.id)return;const f=yield E(sa,d.id,tt.FLOWS);if(f&&(yield g(Si(d.id,tt.FLOWS))),o&&n&&(yield E($C)),!f){if(yield E(Ru,d,null,t,r)){c&&(yield E(QS,r));return}c=!1}}}}function*ju(e,t,n,r){const i=yield v(dt),o=e.getEntriesByType("resource").filter(s=>s.name.match(/fast\.appcues\./)).map(s=>s.toJSON());yield E(uu,i,{api_request_start:Math.round(n-t),api_response_duration:Math.round(r-n),timing:o,sdk_version:window.AppcuesBundleSettings.VERSION})}function*WC(){try{yield V(St.SET_SESSION);const e=window.performance,n=(yield v(Wn)).timestamp%100===0;if(e.getEntriesByName){const r=e.getEntriesByName("apc-init","mark")[0].startTime,{payload:{requestId:i}}=yield V(u=>u.type===H.SENT_REQUEST&&u.payload),o=e.now(),{payload:s}=yield V(u=>u.type===$.START_HANDLE_MESSAGE&&u.payload.request_id===i),c=e.now();(s.contents&&s.contents.length>0||s.content&&s.content.length>0&&Is(s.content).contents.length>0)&&document.visibilityState==="visible"&&(yield V($.START_CHECK),yield ft(function*(){const d=yield Ge({imm:V(H.STARTED_FLOW_IMM),show:V(H.SHOW_CONTENT),start:V($.START_FLOW),check:V($.START_CHECK)});if(!d.imm)return;const f=yield v(go,d.imm.payload),h=Lt(f,0);if(qt(h)||dr(h)||(yield V(H.WILL_SHOW_CONTENT)).error)return;const m=e.now();yield V(ae.LOADED_CSS);const T=e.now();yield V(H.SHOW_CONTENT);const _=yield v(Vn),S=yield v(dt);yield E(uu,S,{render_time:Math.round(m-c),css_load_time:Math.round(T-m),time_to_show:Math.round(e.now()-r),content_type:_,sdk_version:window.AppcuesBundleSettings.VERSION}),n||(yield*ju(e,r,o,c))})),n&&(yield*ju(e,r,o,c))}}catch{}}function*VC(){const e=JSON.parse(yield E(ke,_e,jr));if(e){const{checklistId:t,itemId:n,actionIndex:r,checklist:i}=e;yield E(He,_e,jr),yield g(ou(t,n,r+1,i))}return!1}function*GC(){const e=yield V($.START_INITIALIZE);if(!(yield E(Fi))){const n=yield E(ke,Fe,ji);n!==null&&(yield g(nr(n,{},[zt(en.PAGE_VIEW,{url:window.location.href})])));const r=yield E(PS,e.payload.dispatchMessage.onMessage,e.payload.dispatchMessage.onTimeout,e.payload.transportModule);yield E(As,!0),yield g(Em({type:r.type,module:e.payload.transportModule,details:r.details})),yield E(Vu),yield E(VC)}}function*jC({payload:{groupId:e,groupProperties:t}}){const n={...t,...xu()};yield g(om(e,n)),yield E(Me,Fe,Vr,e),yield g(Fm({groupId:e,groupProps:n}))}function*qC({payload:e}){const t=yield v(fr);if(Object.prototype.hasOwnProperty.call(t,e))return;const n=yield v(dt),r=yield E(du,n,e);yield g(qo([e],{[e]:r}))}function*KC(){yield[ft(GC),ft(TC),ft(WC),F(te,$.START_EVENT,OC),F(NC),F(te,$.START_ANONYMOUS,DC),F(te,$.START_FORM_SUBMISSION,kC),F(et,$.START_SHOW,RC),F(et,ae.LOADED_CSS,xC),F(te,$.PREPARE_CONTENT,PC),F(te,$.START_RESET,Fu),F(te,H.WAIT_IDENTIFY,FC),F(te,$.STOP_TASKS,HC),F(et,$.START_CHECK,BC),F(te,ae.SET_NEXT_CONTENT_ID_COOKIE,dC),F(te,$.START_IDENTIFY_GROUP,jC),F(te,H.PREFETCH_FLOWS,qC)]}function qu(e,t){return e.innerText==null?!1:t?e.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===t.toLowerCase().trim():!0}function Ku(e,t){if(Object.prototype.hasOwnProperty.call(t,"order_filter")){const n=xo(t);return e===n}return!0}function YC(e,t){try{return!e.includes("|shadow-root|")&&!e.includes("|iframe|")&&(t.matches?t.matches(e):t.msMatchesSelector(e))?t:ot(ci(e),n=>n.contains(t))}catch{return null}}function ws({events:e,$element:t,eventType:n}){return e.map(r=>{const{targets:i}=r;for(const{event:o,selector:s}of i)if(o===n){const{selector:c,text_filter:l}=s,u=YC(c,t);if(u&&qu(u,l)&&Ku(u,s))return[r,u]}return null}).filter(r=>r)}function Ns({events:e,matchSelector:t}){try{return e.flatMap(n=>n.targets).filter(({selector:n})=>t(n.selector)).flatMap(({selector:n})=>{const{selector:r,text_filter:i}=n;return ci(r).filter(o=>qu(o,i)&&Ku(o,n))})}catch{return[]}}function Hi(e){return e.composedPath?e.composedPath():[e.target]}function zC({events:e,onEventsTriggered:t,stopPropagation:n}){const r=e.filter(({targets:s})=>s.some(({event:c})=>c==="click")),i=s=>{const[c]=Hi(s),l=ws({events:r,$element:c,eventType:"click"}).map(([u])=>u);n&&l.length>0&&(s.preventDefault(),s.stopImmediatePropagation()),t(l)},o=s=>{(s.key===" "||s.key==="Enter")&&i(s)};try{const s=Ns({events:r,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("click",i,!0),c.addEventListener("keyup",o,!0)}),document.addEventListener("click",i,!0),document.addEventListener("keyup",o,!0),()=>{s.forEach(c=>{c.removeEventListener("click",i,!0),c.removeEventListener("keyup",o,!0)}),document.removeEventListener("click",i,!0),document.removeEventListener("keyup",o,!0)}}catch{return null}}const XC=(e,t)=>e.includes(t);function JC({events:e,onEventsTriggered:t}){const n=e.filter(({targets:s})=>s.some(({event:c})=>c==="input"));let r=[];const i=s=>{const[c]=Hi(s),u=ws({events:n,$element:c,eventType:"input"}).map(([d])=>d).filter(d=>!XC(r,d));r=[...r,...u],t(u)},o=()=>{r=[]};try{const s=Ns({events:n,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("input",i),c.addEventListener("blur",o,!0)}),document.addEventListener("input",i),document.addEventListener("blur",o,!0),()=>{s.forEach(c=>{c.removeEventListener("input",i),c.removeEventListener("blur",o,!0)}),document.removeEventListener("input",i),document.removeEventListener("blur",o,!0)}}catch{return null}}function Yu(e,t){let n;const r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,i=>i.shadowRoot&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER"&&i.nodeName!=="APPCUES-BUILDER"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT);for(;(n=r.nextNode())!==null;)t(n.shadowRoot)}function QC({events:e,onEventsTriggered:t}){const n=e.filter(({targets:o})=>o.some(({event:s})=>s==="hover")),r=new Set,i=o=>{const[s]=Hi(o),c=ws({events:n,$element:s,eventType:"hover"});c.length>0&&c.reduce((u,[d,f])=>(u.has(f)?u.set(f,[...u.get(f),d]):u.set(f,[d]),u),new Map).forEach((u,d)=>{if(r.has(d))return;r.add(d);const f=window.setTimeout(()=>{t(u)},500),h=y=>{const[p]=Hi(y);p===d&&(window.clearTimeout(f),r.delete(d),d.removeEventListener("mouseleave",h))};d.addEventListener("mouseleave",h)})};if(n.length>0)try{document.addEventListener("mouseover",i);const o=Ns({events:n,matchSelector:s=>s.includes("|iframe|")});return o.forEach(s=>{s.addEventListener("mouseover",i)}),Yu(document.body,s=>s.addEventListener("mouseover",i)),()=>{document.removeEventListener("mouseover",i),o.forEach(s=>{s.removeEventListener("mouseover",i)}),Yu(document.body,s=>s.removeEventListener("mouseover",i))}}catch{return null}return()=>{}}const zu="appcues/click-to-track";function ZC({name:e,timestamp:t,attributes:{url:n,interaction:r,selector:i}}){return{source:zu,id:e,name:e,timestamp:t,url:n,interaction:r,...Object.keys(i).reduce((o,s)=>({...o,[`selector.${s}`]:i[s]}),{})}}const Xu=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function*e_(e=[],t=!1){const n=Eg(),r=e.filter(({urls:o})=>o.some(s=>s==="*"||Ct(s,n))),i=ar(o=>{const s=zC({events:r,onEventsTriggered:o,stopPropagation:t}),c=JC({events:r,onEventsTriggered:o}),l=QC({events:r,onEventsTriggered:o});return()=>{s(),c(),l()}},Fn.expanding(5));try{for(;;){const o=yield V(i);o.length>0&&(yield g(hT(o.map(({name:s,targets:[{event:c,selector:l}]})=>zt(s,{url:n,interaction:c,selector:{css:l.selector,...Xu(l,"text_filter")?{textFilter:l.text_filter}:{},...Xu(l,"order_filter")?{orderFilter:l.order_filter}:{}}})))))}}finally{(yield zr())&&i.close()}}function*t_(e=[]){const[t,n]=yield[F(function*(){try{if(!e||e.length===0)return;for(;;){const i=yield F(e_,e);yield V(({type:o,payload:s})=>o===$.START_ACTIVITY&&s.events.some(c=>c.name===en.PAGE_VIEW)),yield it(i)}}catch{}}),F(ur,gu,function*({payload:i}){try{(yield E(Fi))||(yield V(H.INITIALIZE));const s=yield E(ke,Fe,Vr);yield E(vs,{properties:{},events:i,trigger:!0,groupId:s??null}),(yield v(Tf))&&(yield i.map(l=>{const u=ZC({...l,name:l.name.replace("appcues_custom:","")});return g(Ue(u.id,u))}))}catch{}})];t.isRunning()||n.cancel()}function Ju({attributes:e}){return e?!!e._builderButtonEvent:!1}function n_(e){const t=Ju(e),n=Id.some(i=>e?.id?.startsWith(i)),r=e?.source===zu;return!t&&!n&&!r}function r_(e){return`${e.name} (Appcues)`}function i_(e,t){return{...e,user:t}}function Os(e,t,n,r,i){e(t,"event",n,r,i,{nonInteraction:!0})}function o_(e,t={}){if(e==="Form Field Submitted (Appcues)"){const{user:n,interaction:r,interaction:{category:i,destination:o,formId:s,fieldId:c,label:l,value:u}={},...d}=t;return{...d,category:i,destination:o,formId:s,fieldId:c,label:l,value:u}}else return t}function s_(e){if(!e.user)return e;const t=Object.entries(e.user).reduce((n,[r,i])=>{if(r.startsWith("_")){const o=r.slice(1);n[o]=i}else n[r]=i;return n},{});return{...e,user:t}}const Qu=e=>{const t=new Set(["string","boolean","number"]);return Array.isArray(e)?e.every(n=>t.has(typeof n)):t.has(typeof e)};function c_(e){const{user:t,...n}=e,r=Object.entries(n).reduce((o,[s,c])=>(Qu(c)&&(o[s]=c),o),{});if(!t)return r;const i=Object.entries(t).reduce((o,[s,c])=>(Qu(c)&&(o[`user.${s}`]=c),o),{});return{...r,...i}}function l_(e,t){const{settings:n}=t(),r=i=>()=>{e.on("all",(o,s)=>{if(n_(s))return;const c=r_(s),l=Ju(s)?s.name:o;try{if(l&&c){const u=i_(s,t().user);i(l,c,u)}}catch{}})};return{initMixpanel:r((i,o,s)=>{window.mixpanel.track(o,s)}),initHeap:r((i,o,s)=>{const c=o_(o,s);window.heap.addUserProperties({appcuesUserID:be(t()).userId}),window.heap.track(o,c,"appcues")}),initIntercom:r((i,o,s)=>{window.Intercom("trackEvent",o,s)}),initCIO:r((i,o,s)=>{window._cio.track(o,s)}),initVero:r((i,o,s)=>{window._veroq.push(["track",o,s])}),initWoopra:r((i,o,s)=>{window.woopra.track(o,s)}),initAmplitude:r((i,o,s)=>{window.amplitude.logEvent(o,s)}),initKlaviyo:r((i,o,s)=>{window._learnq.push(["track",o,s])}),initTD:r((i,o,s)=>{window.td.trackEvent(o,s)}),initLl:r((i,o,s)=>{window.ll("tagEvent",o,s)}),initCalq:r((i,o,s)=>{window.calq.action.track(o,s)}),initKM:r((i,o,s)=>{window._kmq.push(["record",o,s])}),initGA:r((i,o,s)=>{const{flowId:c,checklistId:l,name:u}=s,d=c||l||u,f="appcues";let h="";try{h=n.integrations.ga.trackerName||""}catch{}if(d){const y=window[window.GoogleAnalyticsObject];ne.function(y)?y(p=>{if(h)Os(y,`${h}.send`,f,i,d);else if(p)Os(y,"send",f,i,d);else{const m=y.getAll().reduce((T,_)=>({...T,[_.get("trackingId")]:_.get("name")}),{});Object.keys(m).forEach(T=>{Os(y,`${m[T]}.send`,f,i,d)})}}):window._gaq?window._gaq.push(["_trackEvent",f,i,d,void 0,!0]):window.gtag&&(s.checklistName?window.gtag("event",o,{appcues_event_id:i,appcues_checklist_id:s.checklistId,appcues_checklist_name:s.checklistName}):window.gtag("event",o,{appcues_event_id:i,appcues_flow_id:d,appcues_flow_name:s.flowName}))}}),initGTM:r((i,o,s)=>{window.dataLayer.push({event:o,appcues_event_id:i,appcues_flow_id:s.flowId,appcues_flow_name:s.flowName})}),initSegment:r((i,o,s)=>{window.analytics.track(o,s,{integrations:{Appcues:!1}})}),initRudderstack:r((i,o,{id:s,timestamp:c,...l})=>{window.rudderanalytics.track(o,l,{integrations:{Appcues:!1}})}),initBraze:r((i,o,s)=>{window.braze.logCustomEvent(o,s)}),initFullStory:r((i,o,s)=>{const c=s_(s);window.FS.event(o,c)}),initHotjar:r((i,o)=>{window.hj("event",o)}),initLogRocket:r((i,o,s)=>{const c=c_(s);window.LogRocket.track(o,c)})}}function Zu(e,t){const n={...t,url:e};return zt(en.PAGE_VIEW,n)}function a_({dispatch:e,getState:t}){const n={identify(i,o={}){let s=i,c=o;if(!ne.object(c)){c={};try{xt(t())(new Error("Appcues.identify() called with invalid user properties"))}catch{}}ne.object(s)?(c=s,s=c.userId||be(t()).userId||null):(ne.undefined(s)||s===null)&&(s=c.userId||be(t()).userId||null),delete c.userId,ne.defined(s)?e(nr(s,c,[Zu(window.location.href)])):e(_r(c,!0))},track(i,o={}){i&&e(we({},[zt(i,o)],!0))},page(i,o={}){let s=o;ne.object(i)?s=i:ne.string(i)&&(s={...s,name:i}),e(we({},[Zu(window.location.href,s)],!0))},anonymous(){e(sm())},show(i){e(Tr(i))},clearShow(){e(dS())},on(i,o,s){e(Bl(i,o,s))},off(i,o,s){e(Wl(i,o,s))},once(i,o,s){const c=function(...u){o.apply(this,u),e(Wl(i,c,s))};e(Bl(i,c,s))},reset(){e(um())},debug(i=!0){e(i?dm():mu())},loadLaunchpad(i,o){e(hS({selector:i,...o}))},group(i,o){let s=i,c=o;if(!ne.object(c)){c={};try{xt(t())(new Error("Appcues.group() called with invalid group properties"))}catch{}}ne.object(s)&&(c=s),(ne.object(s)||s==null||s==="")&&(s=c.groupId||be(t()).groupId||null),delete c.groupId,s==null&&(c={}),e(mm(s,c))}};Object.assign(n,{user(i=!0){if(i)return new Promise(s=>{e(Am(s))});const o=be(t());try{return JSON.parse(JSON.stringify(o))}catch{return o}},settings(){return{...t().settings}},content(){const i=t();return{content:{...i.content},orderedContent:[...i.orderedContent],currentContent:{...i.currentContent,...ye(i)}}}});const r=l_(n,t);return Object.assign(n,r),Object.assign(n,{start(){n.page()},experience:{pause:i=>e(fT(i)),resume:i=>e(pT(i)),show:i=>e(gs([i]))}}),n}const ed="https://studio.appcues.com",u_=e=>{switch(e.type){case z.MODAL:switch(e.attributes.pattern_type){case"shorty":return"Slideout Group";case"fullscreen":return"Full Screen Modal Group";case"left":return"Sidebar Group";default:return"Modal Group"}case z.HOTSPOTS:return e.attributes.sequential?"Tooltip Group":"Hotspot Group";case z.ACTION:return e.attributes.action_type===Et.WAIT_FOR_PAGE?"Wait For Matching Page":null;default:return null}};function d_(e){return!!(e&&e.attributes&&e.attributes.params&&e.attributes.params.url)}function f_(e){return!!(e&&e.type===z.ACTION&&e.attributes.action_type===Et.WAIT_FOR_PAGE)}const td=(e,t,n)=>{const r=st(e||{},t),i=sn(r,n);return a.html("div",null,a.html("div",null,`${(e||{}).name}, Step ${Bn(e,t)+1} (${u_(r||{})})${i>-1?`, Part ${i+1}`:""}`),f_(r)&&d_(r)?a.html("div",null,`Page to match: ${r.attributes.params.url}`):"")};function p_(e){const{lastTrackedPage:t,currentPage:n,currentContent:r,currentFlow:i,currentContentStatus:o,currentStepId:s,currentStepChildId:c,stepChildErrors:l,user:u,group:d,settings:f,isTransportInitialized:h,rowState:y,onToggleRowDetails:p,onToggleCollapsed:m,onCloseDebugger:T}=e,_=t&&n,S=t===n,I=u&&ne.defined(u.userId),A=d&&ne.defined(d.groupId),C=Object.keys(l||{}).reduce((L,U)=>{const R=l[U];return R.errorReported&&!R.recoveryReported?[...L,{...R,stepChildId:U}]:L},[]),O=f.accountId&&u.userId;return a.html("debugger",null,a.html("div",{"class-header":!0,"on-click":m},a.html("div",{"class-logo":!0},a.html("a",{"attrs-href":ed,"attrs-target":"_blank"},a.html(da,{width:"20px",height:"20px"}))),a.html("div",{"class-title":!0},"Appcues Status"),a.html("div",{"class-version":!0},f.VERSION?`SDK Version: ${f.VERSION}`:"SDK Version Pending"),a.html("div",{"class-close-button":!0},a.html("a",{"on-click":T,role:"button","aria-label":"Close debugger"},""))),a.html("div",{"class-panel":!0},a.html(An,{status:f&&f.accountId?"check":"alert",category:"Installed",description:`Account ID: ${f&&f.accountId?f.accountId:"Unknown"}`}),a.html(An,{status:h?"check":"alert",category:`${h?"":"Not "}Connected to Appcues`}),a.html(An,{status:_?S?"check":"alert":"pending",category:"Tracking Pages",description:_?S?"Current URL matches last tracked":"URL has changed since last tracked":"Navigate to another page to test",showDetails:(y||{})["track-data"],onToggleRowDetails:()=>p("track-data"),details:a.html("span",null,a.html("b",null,"Last Tracked URL:"),a.html("br",null),t,a.html("br",null),a.html("br",null),a.html("b",null,"Current URL:"),a.html("br",null),n)}),a.html(An,{status:I?"check":"alert",category:`User ${I?"":"Not "}Identified`,description:I?u._isAnonymous?"Anonymous User":`User ID: ${u.userId}`:"Have you called `identify`?",showDetails:(y||{})["user-data"],onToggleRowDetails:()=>p("user-data"),details:I?a.html(nd,{user:u}):a.html("span",null,"Please identify the current user by providing a userId and tracked properties")}),A?a.html(An,{status:"check",category:"Group Identified",description:`Group ID: ${d.groupId}`,showDetails:(y||{})["group-data"],onToggleRowDetails:()=>p("group-data"),details:a.html(nd,{user:d.groupProps})}):a.html(le,null),r?a.html(An,{status:o==="SHOWING"?"check":"pending",category:"Showing Flow",description:i.name,showDetails:(y||{})["flow-details"],onToggleRowDetails:()=>p("flow-details"),details:td(i,s,c)}):a.html(le,null),C.length>0?a.html(An,{status:"warn",category:"Content Omitted",description:"Some content isn't showing",showDetails:(y||{})["omit-content"],onToggleRowDetails:()=>p("omit-content"),details:a.html("div",null,"Some of the content this user is eligible for isn't showing. If there are dynamic elements on your page, this may be expected. Otherwise, please double-check your selectors.",a.html("ul",null,C.map(L=>{const{stepChildId:U,flow:R}=L,K=xc(Un(R),U)||{};return a.html("li",null,td(R,K.id,U))})))}):a.html(le,null)),a.html("div",{"class-footer":!0},a.html("a",{href:`${ed}/diagnostics?view_as=${f.accountId}&context=${window.btoa(JSON.stringify({userId:u.userId,url:t}))}`,classNames:O?"":"disabled",target:"_blank",rel:"noreferrer"},a.html("div",{"class-launch-diagnostics":!0},O?"View Flow Eligibility for User":"Identify User to View Flow Eligibility"))))}function An({status:e,active:t,category:n,description:r,details:i,showDetails:o,onToggleRowDetails:s}){return a.html("div",{classNames:`row ${t?"active":""}`},a.html("div",{classNames:`category-container ${e}`},a.html("div",{"class-icon":!0}),a.html("div",{"class-name":!0},n),r?a.html("div",{"class-description":!0},r):a.html(le,null),i?a.html("div",{classNames:`toggle-details ${o?"open":"closed"}`,"on-click":s},"DETAILS"):a.html(le,null)),o?a.html("div",{"class-details":!0},i):a.html(le,null))}function nd({user:e}){const t=/^_.*/,n=Object.keys(e).map(i=>({name:i,value:e[i]})),r=(i,o)=>{if(!t.test(i.name)||!t.test(o.name)){if(t.test(i.name))return-1;if(t.test(o.name))return 1}else return i.name.toLowerCase()<o.name.toLowerCase()?-1:1;return 0};return a.html("table",null,a.html("thead",null,a.html("tr",null,a.html("th",null,"Property"),a.html("th",null,"Value"))),a.html("tbody",null,n.sort(r).map(i=>a.html("tr",null,a.html("td",null,i.name),a.html("td",null,JSON.stringify(i.value))))))}const h_="/generic/main/7.17.2/debugger.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",m_="sha256-LMjol9lu4iFfr9P6lIri9GX+onG7x+pqiR+EzoaK2sU=",E_=Dt(h_),ks=Kn([Jn,Xn,Yn,zn,Qn],si.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let vn=null;const g_=e=>{const t=fr(e)||{},n=ni(e);return Object.keys(n||{}).reduce((r,i)=>{const o=hf(t,i);return o?{...r,[i]:{...n[i],flow:o}}:r},{})},y_=(e,t)=>a.html(p_,{lastTrackedPage:Vc(e),currentPage:Wc(e),currentContent:ye(e),currentFlow:ze(e),currentStepId:se(e),currentStepChildId:ct(e),currentContentStatus:Be(e),stepChildErrors:g_(e),user:be(e),group:Sf(e),settings:_f(e),isTransportInitialized:$c(e),rowState:Lf(e),onToggleRowDetails:t.onToggleRowDetails,onToggleCollapsed:t.onToggleCollapsed,onCloseDebugger:t.onCloseDebugger});function S_(e){if(Er(document)){const t=e.views.callbacks[z.DEBUGGER],n=Bc(e),r=n&&n.isCollapsed;if(!vn){const i=document.createElement("appcues-debugger");document.body.appendChild(i),vn=ks(i,a.html("appcues-debugger",null))}jn(e)&&t?vn=ks(vn,a.html("appcues-debugger",{classNames:r?"collapsed":"expanded"},a.html("iframe",{"style-border":"none","style-height":"450px","style-width":"600px",scrolling:"no","style-color-scheme":"none"},a.html("link",{"attrs-href":E_,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":m_,"attrs-crossorigin":"anonymous"}),y_(e,t)))):vn&&(vn=ks(vn,a.html("div",null)))}}const T_="https://docs.appcues.com/user-experiences-faq/faq-test-mode",C_=e=>{const{testModeCallbacks:t}=e;return a.html("div",{"class-banner-wrapper":!0},a.html("div",{"class-banner-background":!0},a.html("div",{"class-banner-content":!0},a.html("span",{"class-banner-header":!0},"Appcues Test Mode"),a.html("a",{href:T_,"class-clickable":!0,"class-doc-link":!0,target:"_blank",rel:"noreferrer"},"Learn More")),a.html("div",{"class-banner-content":!0},a.html("div",{"class-restart":!0,"class-clickable":!0,"on-click":t.onResetClicked},"Restart"),a.html("div",{"class-clickable":!0,"on-click":t.onCancelClicked},"End Test"))))},__="/generic/main/7.17.2/test-mode.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",I_="sha256-nd0yl8XfotWCT+9jaAUZdIayDPvnbBNhrvbhzXcWLNs=",A_=Dt(__),Rs=Kn([Jn,Xn,Yn,zn,Qn],si.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let bn=null;function v_(e){if(Er(document)){const t=e.views&&e.views.callbacks&&e.views.callbacks[z.TEST_MODE],{_testContentId:n}=e.user||{},r=n,i=e.test&&e.test.cssLoaded;if(!bn){const o=document.createElement("appcues-test-banner");document.body.appendChild(o),bn=Rs(o,a.html("appcues-test-banner",null))}r&&t?bn=Rs(bn,a.html("div",{"class-appcues":!0},a.html("appcues-test-banner",{style:{display:"flex",justifyContent:"center"}},a.html("iframe",{style:{height:"50px",width:"595px",position:"fixed",bottom:"0",border:"0"}},a.html("link",{"attrs-href":A_,"attrs-integrity":I_,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":t.onCssLoaded}),i?a.html(C_,{testModeCallbacks:t}):a.html(le,null))))):bn&&(bn=Rs(bn,a.html("div",null)))}}function b_(e){return{onToggleRowDetails(t){e(cT(t))},onToggleCollapsed(){e(lT())},onCloseDebugger(){e(mu())}}}function*w_(){if((yield v(Vn))===z.MODAL&&(yield v(Be))===Q.STARTED){const e=yield v(Xe);(yield E(Pu,e))&&(yield g(Ga(document.activeElement)),yield g(vy()))}}function*N_(){yield F(te,$.START_CONTENT,w_)}function*Ls(e,t){yield E(kT,t),yield g(ce(ht(q.CHILD_RUN,e,t))),yield g(Fy([t]))}function*O_(){if((yield v(Vn))===z.HOTSPOTS&&(yield v(Be))===Q.STARTED){const e=yield v(ye),t=on(e);t.length>0?(yield E(Pu,t))&&(yield g(Ga(document.activeElement)),yield g(Py()),yield g(My()),Mn(e)&&(yield*Ls(e.id,t[0].id))):yield E(_s,new Error("Trying to show an empty list of hotspots."))}}function*k_({payload:e}){if((yield v(Vn))===z.HOTSPOTS){const n=(yield v(Xe)).reduce((r,i)=>{let o=e[i.id];if(!o.error){const{viewport:s,fixed:c,zIndex:l,element:u,boundingRect:d,relativeBoundingRect:f,padding:h,iframeParent:y}=o,{left:p,top:m,right:T,bottom:_}=d,S=f.left,I=f.top,A=i.offset_x_percentage*(T-p),C=i.offset_y_percentage*(_-m),{scrollX:O,scrollY:L}=y?window:{scrollX:0,scrollY:0};o={x:p+A+(h?.left||0)+O,y:m+C+(h?.top||0)+L,fixed:c,zIndex:l,element:u,boundingRect:d,elementBoundingRect:u.getBoundingClientRect(),isElementVisible:ph({xOffset:i.offset_x_percentage,yOffset:i.offset_y_percentage,element:u}),...rh(S+A,I+C,s.width,s.height)}}return r[i.id]=o,r},{});yield g($y(n)),yield E(NT)}}function*R_(){yield E(ve,1e4);const e=yield*$t();e&&(delete e.navByADTT,yield*Ot(e))}function*rd({payload:e}){(yield v(Gn)).length>0&&(yield Ge({continue:V(r=>r.type===me.REMOVE_ACTIVE_ANNOTATIONS&&r.payload[0]===e.childId),cancel:V(r=>r.type===ae.CANCEL_STEP&&r.payload.stepId===e.stepId)})).cancel||(yield g(ce(Te(q.STEP_END,e.stepId,e.params))))}function*L_(e){const{contentType:t,step:n,childId:r,nextChildId:i,shouldEndFlow:o}=e.payload;if(t===z.SEQUENTIAL_HOTSPOTS)if(yield g(ds([r])),yield g(ce(ht(q.CHILD_DEACTIVATED,n.id,r,{ts:Date.now()}))),i)yield*Ls(n.id,i);else{if(yield g(ce(Te(q.STEP_COMPLETED,n.id,{shouldEndFlow:o}))),Lc(n,sn(n,r))){const s=yield*$t();yield*Ot({...s,navByADTT:!0}),yield F(R_)}yield E(rd,bi(n.id,r,{shouldEndFlow:o}))}}function*id({stepId:e,currentStepChildId:t,nextStepChildId:n}){yield g(ds([t])),yield g(ce(ht(q.CHILD_DEACTIVATED,e,t,{ts:Date.now()}))),yield g(as({stepChildId:t})),yield g(as({stepChildId:n})),yield g(ce(ht(q.CHILD_ACTIVATED,e,n,{ts:Date.now()}))),yield*Ls(e,n)}function*x_(e){const{step:t,stepChildId:n}=e.payload,r=yield v(So,n);r&&(yield E(id,{stepId:t,currentStepChildId:n,nextStepChildId:r}))}function*P_(e){const{stepId:t,currentStepChildId:n,nextStepChildIndex:r}=e.payload,i=yield v(ti,r);if(!i||n===i)return;yield(yield v(kf,n,i)).map(s=>g(as({stepChildId:s}))),yield E(id,{stepId:t,currentStepChildId:n,nextStepChildId:i})}function*D_(){yield[F(te,$.START_CONTENT,O_),F(te,me.START_HANDLE_POSITION_UPDATES,k_),F(te,ae.ADVANCE_STEP_CHILD,L_),F(te,Yt.CLOSE_LAST_HOTSPOT,rd),F(te,ae.RUN_PREV_STEP_CHILD,x_),F(te,me.GO_TO_STEP,P_)]}function*F_(){for(;;){const e=window.location.href;(yield v(Wc))!==e&&(yield g(aT(e))),yield E(co,1e3)}}function*H_(e){let t=null;if(e.payload.events.forEach(n=>{n.name===en.PAGE_VIEW&&(t=n)}),t){const n=t.attributes.url,r=yield v(Vc);n!==r&&(yield g(hu(n)),yield E(Me,"localStorage",Vs,n))}}function*U_(e){if(e.error){const n=(e.payload&&e.payload.extra?e.payload.extra.id:null)||(yield v(se));yield g(uT(n,e.payload.message))}}function*M_(e){const t=Object.keys(e.payload).filter(n=>e.payload[n].error);if(t.length>0){const n=yield v(se);for(const r of t)yield g(dT(n,r,e.payload[r].errorMessage))}}function*$_(){for(;;){(yield E(ke,"localStorage",Ki))||(yield V($.START_DEBUG)),yield E(Me,"localStorage",Ki,!0);const t=yield E(ke,"localStorage",Vs);yield g(hu(t));const n=yield ft(F_),r=yield F(te,[$.START_ACTIVITY,$.START_IDENTIFY],H_),i=yield F(te,H.WILL_SHOW_CONTENT,U_),o=yield F(te,me.SET_ANNOTATIONS_POSITIONS,M_);yield V(qe.CLOSE_DEBUGGER),yield it(n),yield it(r),yield it(i),yield it(o),yield E(He,"localStorage",Ki)}}function*B_(){yield F($_)}function*W_({payload:e}){switch(yield g(ce(Te(q.STEP_SHOWN,e.id))),e.attributes.action_type){case Et.REDIRECT:{const t=window.location.href,{url:n,new_tab:r,initiated_by_user:i}=e.attributes.params;if(i)return;if(Ct(n,t))yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)));else{yield Ge({wait:V(H.SENT_ACTIVITY_UPDATE),cancel:E(ve,1500)});const o=yield v(cn);yield Ge({wait:E(Di,o),cancel:E(ve,to)}),yield E(Xt,window,n,r)}break}default:yield g(rr(new Error("Unknown step type.")))}}function*V_({payload:{action:e,status:t}}){switch(e.attributes.action_type){case Et.WAIT_FOR_PAGE:{const n=window.location.href,{url:r}=e.attributes.params,i=yield*$t(),o=yield v(Eo),s=Ct(r,o.url),c=Ct(o.url,n),l=t===q.STEP_SHOWN||s&&c,u=t===q.STEP_ATTEMPTED&&i&&i.remainingPagesToCheck!==Ji;l||u&&Ct(r,n)?(yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)))):yield g(ce(Te(q.STEP_ATTEMPTED,e.id)));break}case Et.REDIRECT:{let n=[Te(q.STEP_SHOWN,e.id),Te(q.STEP_COMPLETED,e.id),Te(q.STEP_END,e.id)].filter(r=>t!==r.type);t===q.STEP_ATTEMPTED&&(n=[Te(q.STEP_ATTEMPTED,e.id),...n]);for(const r of n)yield g(ce(r));break}default:yield g(rr(new Error("Unknown step type.")))}}function*od(e,t){const n=window.location.href;Ct(e,n)?t&&(yield E(t)):(yield E(ve,500),yield E(od,e,t))}function*G_({payload:{action:e,checklistId:t,itemId:n,actionIndex:r}}){switch(e.attributes.action_type){case Et.REDIRECT:{const i=window.location.href,{url:o,new_tab:s}=e.attributes.params;if(Ct(o,i))yield g(fs(t,n,r));else{const c=yield v(cn);yield Ge({wait:ut([E(Di,c),E(Di,t)]),cancel:E(ve,to)});const l=yield v(an,t);yield E(Me,_e,jr,JSON.stringify({checklistId:t,itemId:n,actionIndex:r,checklist:l})),yield E(Xt,window,o,s),yield E(od,o,function*(){yield g(fs(t,n,r)),yield E(He,_e,jr)})}break}case Et.SHOW_FLOW:{const{flowId:i}=e.attributes.params;i&&(yield g(Tr(i))),yield g(fs(t,n,r));break}default:{const i=new Error("Checklist action has an invalid action_type.");i.extra={action:e,checklistId:t,itemId:n,actionIndex:r},yield g(iu(i))}}}function*j_(){yield[F(te,H.RUN_ACTION,W_),F(te,H.RESUME_ACTION,V_),F(te,re.START_CHECKLIST_ACTION,G_)]}const q_=500,K_=5e3;function*Y_(){(yield v(Vn))===z.SATISFACTION_SURVEY&&(yield v(Be))===Q.STARTED&&(yield g(zy()))}function*z_(e){const{score:t}=e.payload,n=yield v(ze),r=yield v(At),o=pt(n,r,{score:t,name:"NPS Score",id:"nps_score"});yield g(Ue(o.flowId,o)),yield g(we({[`${kn}MostRecentNPSScore`]:t,[`${kn}NPSLastCollectedAt`]:Date.now()},[Ve(o)],!1))}function*X_(e){const{feedback:t}=e.payload,n=yield v(ze),r=yield v(At),i=pt(n,r,{feedback:t,name:"NPS Feedback",id:"nps_feedback"});yield g(Ue(i.flowId,i)),yield g(we({[`${kn}MostRecentFeedback`]:t,[`${kn}NPSFeedbackLastCollectedAt`]:Date.now()},[Ve(i)],!1))}function*J_(){const e={},t=`${kn}ClickedUpdateNPSScore`;e[t]=Date.now();const n=yield v(ze),r=yield v(At),i=pt(n,r,{clickedUpdateNPSScore:e[t],name:"NPS Clicked Update NPS Score",id:"nps_clicked_update_nps_score"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*Q_(){const e={},t=`${kn}AskMeLaterSelectedAt`;e[t]=Date.now();const n=yield v(ze),r=yield v(At),i=pt(n,r,{askMeLaterSelectedAt:e[t],name:"NPS Ask Me Later Selected At",id:"nps_ask_me_later_selected_at"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*Z_(){yield g(Ja()),yield co(q_),yield g(Qa()),yield co(K_),yield g(Za())}function*eI(){yield[F(te,Ae.QUANTITATIVE_QUESTION_SUBMITTED,z_),F(te,Ae.QUALITATIVE_QUESTION_SUBMITTED,X_),F(te,Ae.ASK_ME_LATER_SELECTED,Q_),F(te,Ae.CLICKED_UPDATE_NPS_SCORE,J_),F(te,Ae.START_COLLAPSING_SATISFACTION_SURVEY,Z_),F(te,$.START_CONTENT,Y_)]}function*xs(e){yield g(gn(e.id,Q.READY)),yield V(r=>r.type===re.LOADED_CHECKLIST_CSS&&e.id);const t=yield v(ye);yield t&&t.type!==z.HOTSPOTS?g(wi()):g(gn(e.id,Q.SHOWING)),(e.attributes&&e.attributes.progress_state)!==xn.COMPLETED&&(yield g(yn(e.id)))}function*tI({payload:e}){const{open_behavior:t}=e;switch(t){case Qi.CLOSED:{yield E(xs,e);break}case Qi.OPENED:{yield g(nu(e));break}case Qi.OPEN_ONCE:default:{const n=`${Yi}${e.id}`;ke(_e,n)?yield E(xs,e):(Me(_e,n,"1"),yield g(nu(e)));break}}}function*nI({payload:e}){yield E(xs,e),yield E(ve,1e3),yield g(Rr(e.id)),yield g(su(e))}function*rI(e){const{checklist:t}=e.payload,n=yield v(At),r=OE(t,n);yield g(Ue(t.id,r)),yield g(we(null,[Ve(r)],!1))}function*iI(e){const{checklistId:t,didCompleteChecklist:n}=e.payload,r=yield v(At),i=yield v(an,t);yield g(gn(i.id,Q.DISMISSED));const o=n?LE(i,r):RE(i,r);yield g(Ue(o.checklistId,o)),yield g(we({},[Ve(o)],!1))}function*oI(){const{userId:e}=yield v(be);yield g(nr(e,{_showChecklist:null}))}function*sI(e){const{checklistId:t,itemId:n,actionIndex:r}=e.payload;yield g(yn(t));const i=yield v(At);let o,s;if(o=yield v(an,t),s=yield v(Df,t,n),s||(o=e.payload.checklist,s=yield E(ot,o.attributes.items,({id:c})=>c===n)),r===0){try{const l=s.conditions?.and[0]?.properties,u=`_checklist_item_${n}_completed`;s.state==="incomplete"&&l?.property===u&&l?.value==="true"&&(yield g(we({[`_checklist_item_${n}_completed`]:!0},[],!0)))}catch{}const c=PE(o,s,i);yield g(Ue(c.checklistId,c)),yield g(we({},[Ve(c)],!1))}for(let c=r;c<s.actions.length;c++)yield g(lS(s.actions[c],t,n,c)),yield V(({type:l,payload:u})=>l===re.COMPLETED_CHECKLIST_ACTION&&u.itemId===n)}function*cI(){const e=yield v(ln);e.length>0&&(yield ut(e.filter(t=>Xi.includes(t.status)).map(t=>g(gn(t.id,Q.HIDING)))))}function*lI(){const e=yield v(Co,Q.HIDING);e.length>0&&(yield ut(e.map(t=>g(gn(t.id,Q.READY)))),yield g(gn(e[0].id,Q.SHOWING)),e[0].shouldTryExpandChecklist&&(yield g(Rr(e[0].id)),yield g(ru(e[0].id,!1))))}function*aI(){yield[F(te,re.START_CHECKLIST,tI),F(te,re.HIDE_CHECKLISTS,cI),F(te,re.UNHIDE_CHECKLISTS,lI),F(te,re.ANIMATE_IN_CHECKLIST,nI),F(te,re.CONFIRM_DISMISS_CHECKLIST,iI),F(et,re.START_CHECKLIST_ITEM,sI),F(et,re.CLEAR_FORCE_SHOWN_CHECKLIST,oI),F(te,re.SEND_CHECKLIST_SHOWN_EVENT,rI)]}function*uI({payload:e}){const{type:t,event:n}=e,r=yield v(At),i={...n,sessionId:r};yield g(Ue(t,i))}function*dI(){yield[F(te,$.START_OPEN_BUILDER_EVENT,uI)]}function fI(){const e=ke(_e,Zt);let t;if(e)try{t=JSON.parse(e)}catch{return{}}if(t){const{_testContentId:n,_testContentUrl:r,...i}=t;return He(_e,Zt),He(_e,zi),Me(_e,Zt,JSON.stringify(i)),{_testContentId:null}}return{}}function pI(){const e=ke(_e,Zt);let t;if(e)try{t=JSON.parse(e)}catch{return window.location.href}if(t){const{_testContentUrl:n}=t;return n}return window.location.href}function*hI(){const e=fI();yield g(_r(e,!0)),yield E(vs,e,[],!1);const t=In(window.location.href,"appcuesTestContentId");yield E(Xt,window,t)}function*mI(){const e=pI();yield E(Xt,window,e)}function*EI(){yield[F(te,tr.CANCEL_TEST,hI),F(te,tr.RESET_TEST,mI)]}function*gI(e){if(e.checklists&&e.checklists.length>0){const t=yield v(At),n=[],i=((yield v(ln))||[]).reduce((d,f)=>({...d,[f.id]:f}),{}),o=e.checklists.map(({checklist:d,state:f})=>{if(f.status===xn.DISMISSED)return{checklist:d};const h=i[d.id];if(f.changed&&(f.status===xn.COMPLETED||f.status===xn.SHOWN_MANUALLY&&f.items.every(T=>T.is_completed))){const T=kE(d,t);n.push({checklistId:d.id,event:T})}const y=h&&h.attributes&&h.attributes.progress_state;let p=h&&h.status;if(f.status===xn.SHOWN_MANUALLY&&y!==xn.SHOWN_MANUALLY){const T=xE(d,t);n.push({checklistId:d.id,event:T}),p=null}const m=(d.items||[]).map((T,_)=>{const S=f.items[_];if(S.is_completed&&S.changed){const C=DE(d,T,t);n.push({checklistId:d.id,event:C})}const I=S.is_completed?"complete":"incomplete",A=S.changed?S.is_completed?"incomplete":"complete":I;return{...T,prev_state:A,state:I}});return{...d,status:p,progress_state:f.status,items:m}});for(const d of n)yield(yield v(Ff,d.checklistId))===Q.HIDING?g(ru(d.checklistId,!0)):g(Rr(d.checklistId)),yield g(Ue(d.checklistId,d.event)),yield g(we({},[Ve(d.event)],!1));yield g(tu(o));let s=e.contents;if(e.content&&e.content.length>0){const{contents:d}=Is(e.content);s=d}if(s&&s.length>0){const d=s[0].attributes&&s[0].attributes.steps,f=ot(Object.keys(d||{}),h=>d[h].index===0);d&&d[f]&&d[f].step_type&&d[f].step_type!==z.HOTSPOTS&&(yield V(re.HIDE_CHECKLISTS))}const c=yield v(ln),l=yield v(Co,Q.SHOWING),u=l[0]&&l[0].attributes&&l[0].attributes.id;if(c.every(d=>d.status===Q.HIDING))return;c.every(d=>!d.status)&&(yield g(eu(o[0]))),u&&u!==o[0].id&&(yield g(gn(u,Q.READY)),o[0]&&o[0].status!==Q.SHOWING&&(yield g(eu(o[0]))))}else yield g(tu([]))}function*yI(){let e=[],t={};const n=new Map;yield ur(H.SENT_REQUEST,({payload:{requestId:r,pageViewEvent:i}})=>{e=[r,...e],i&&(t={...t,[r]:i?.attributes?.url})}),yield ur([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT],function*({type:i,payload:o}){const s=i===$.MESSAGE_TIMEOUT?{request_id:o}:o;if(s.type===ro){const{type:d,status:f="success",...h}=s;yield g(f==="error"?{type:yi.LAUNCHPAD_SEARCH_ERROR}:{type:yi.LAUNCHPAD_SEARCH_RESPONSE,payload:h})}else i===$.START_HANDLE_MESSAGE&&(yield F(gI,s));const c=yield v(Eo),l=s.qualification_reason===Gs.EVENT_TRIGGER;(c.url!==window.location.href||!c.complete)&&!l&&(yield V(d=>d.type===H.CHECKED_FOR_INITIAL_CONTENT&&d.payload.url===window.location.href&&d.payload.complete));const u=s.request_id;u&&(n.set(u,s),yield Ge({cancel:V([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT]),handleMessage:E(function*(){if(e[0]===u)for(;e.length>0;){const[f,...h]=e;e=h;const y=n.get(f)||{};n.delete(f);const{experiences:p=[],experiments:m=[],profile:T,contents:_,content:S,performed_qualification:I}=y;yield g(Dm(m)),T&&Object.keys(T).length>0&&(yield g(_r(T,!0)));let A=_,C=p;if(S&&S.length>0){const{contents:R,experiences:K}=Is(S);A=R,C=K}C.some(R=>R.type===Ln.NPS||R.type===Ln.FLOW)&&(yield g(wi()),yield g(Eu()));const L=y.qualification_reason===Gs.PAGE_VIEW;C.length>0&&!window.document?.documentMode&&(!L||window.location.href===t[f])&&(yield g(gs(C)));const U=I&&A&&A.length>0;if(L&&U&&window.location.href===t[f]||!L&&U){e=[],n.clear();const R=A.map(G=>G.id),K=A.reduce((G,ue)=>(G[ue.id]=ue,G),{});return yield g(qo(R,K)),yield g(Fl(window.location.href,l,f))}}})}))})}function SI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){SI(e,i,n[i])})}return e}var CI="appcues:checklist_ready",_I="appcues:checklist_close",Ps="appcues:toggle_checklist",Ds="appcues:confirm_checklist_ready",II="appcues:launchpad_close",AI="appcues:launchpad_search",vI="appcues:launchpad_search_error",bI="appcues:launchpad_search_response",Fs=function(e,t){return window.addEventListener(e,t),function(){return window.removeEventListener(e,t)}},wI=function(e){var t=e.name,n=e.id,r=e.totalItems,i=e.completedItems,o=new CustomEvent(CI,{detail:{name:t,id:n,totalItems:r,completedItems:i}});window.dispatchEvent(o)},NI=function(){var e=new CustomEvent(_I);window.dispatchEvent(e)},OI=function(e){return Fs(Ps,e)},kI=function(e){return Fs(Ds,e)},RI=function(){var e=new CustomEvent(II);window.dispatchEvent(e)},LI=function(e){return Fs(AI,e)},xI=function(e,t){var n=new CustomEvent("".concat(bI,":").concat(e),{detail:TI({},t)});window.dispatchEvent(n)},sd=function(e){var t=new CustomEvent("".concat(vI,":").concat(e));window.dispatchEvent(t)};function*cd(){let e=yield v(dt);return(yield E(lu,e))||(yield E($u),e=yield v(dt)),e}let Hs=[];const Us=()=>{const[e,...t]=Hs;return Hs=t,e};function*PI(){(yield E(Fi))||(yield V(H.INITIALIZE));const t=yield v(be);ne.defined(t.userId)||(yield V(H.COMPLETED_IDENTIFY));let n=yield E(cd);const r=ar(i=>(LI(o=>{const{experienceId:s,integrationId:c,query:l}=o.detail;Hs.push(s),i({type:ro,data:{integration_id:c,query:l,experience_id:s}})}),()=>{}));for(n.transport.module.subscribeToError(()=>{const i=Us();sd(i)},n,Hr.UserActivity);;){const{data:i}=yield V(r);n=yield E(cd),yield E(FS,n,ro,i)}}function DI({payload:e}){const t=Us();xI(t,e)}function FI(){const e=Us();sd(e)}function*HI(){yield[ft(PI),F(et,yi.LAUNCHPAD_SEARCH_RESPONSE,DI),F(et,yi.LAUNCHPAD_SEARCH_ERROR,FI)]}const Ms={},ld={},UI=e=>{const{GENERIC_BUNDLE_DOMAIN:t,VERSION:n,RELEASE_ID:r}=window?.AppcuesBundleSettings??{};return`${t}/generic/main/${n}/${e}.${r}.js`},ad=e=>new Promise(t=>{const n=`appcues-${e}`;function r(){ld[n]=!0,t()}if(Ms[n]){if(ld[n]){r();return}Ms[n].addEventListener("load",r);return}const i=UI(e),o=window.document.createElement("script");o.type="text/javascript",o.src=i,o.async=!0,o.addEventListener("load",r),o.id=`appcues-${e}`,o.crossOrigin="anonymous",Ms[n]=o,window.document.body.append(o)}),MI="v2",$I=e=>{const t=window.AppcuesBundleSettings?.ASSETS_PATH,n={sendEvent:(r,i)=>{const o=`${MI}:${r}`,s={...i,id:o};e(rm(o,s)),e(we({},[Ve(s)]))},sendCustomEvent:(r,i)=>{const o={...i,id:r};e(we({},[zt(r,o)],!0))},updateUserProfile:(r={})=>{Object.keys(r).length!==0&&e(we(r,[],!0))},showFlow({flowId:r,url:i,prefetch:o}){if(o){e({type:H.PREFETCH_FLOWS,payload:r});return}if(!i||Ct(window.location.href,i)){e(Tr(r));return}e(ja(r)),Xt(window,i)},...t&&{apiOverrides:{fastBaseUrl:t,useAssetsPath:!0}}};return window.createAppcues(n)},BI=async()=>(await ad("open-builder"),$I);function*WI(){const e=yield Jd("dispatch"),n=(yield E(BI))(e);yield g(Lm(n)),yield g(Pm())}function*Wt(){const e=yield v(Io),t=yield v(Gf);return t&&(yield V(({type:n})=>n===H.OPEN_BUILDER_INITIALIZED)),!e&&!t&&(yield g(xm()),yield V(({type:n})=>n===H.OPEN_BUILDER_INITIALIZED)),yield v(Io)}function*$s({payload:e}){const t=yield E(Wt);t&&(yield E(t.pause,e))}function*ud({payload:e}){const t=yield E(Wt);t&&(yield E(t.resume,e))}function*dd(e,t){yield g(Si(e.id,tt.EXPERIENCES)),!(yield E(sa,e.id,tt.EXPERIENCES))&&t.show(e)}function Ui(e){const t={experiences:[],launchpads:[]};return e.forEach(n=>{const r=n.type==="launchpad"?"launchpads":"experiences";t[r].push(n)}),t}function*VI({payload:e}){const t=yield E(Wt);let n=e;const r=n.some(o=>o.type===Ln.NPS||o.type===Ln.FLOW),i=n.some(o=>o.type==="launchpad");if(i){yield E(ad,"open-builder-components");const o=yield v(ye);if(!(o?.type===z.HOTSPOTS)&&o){const{experiences:c,launchpads:l}=Ui(n);n=c,yield g(Ur(l))}}if(r&&i){const{experiences:o,launchpads:s}=Ui(n);yield g(Ur(s)),n=o}r&&(yield g(wi())),yield ut(n.map(o=>E(dd,o,t)))}function*GI(){const e=yield E(Wt);e&&e.stopAll()}function*jI(e,t){yield(yield E(t.isExperiencePaused,e.id))?E(ud,{payload:e.id}):E(dd,e,t)}function*qI(){const e=yield v(qf);if(e.length<=0)return;const t=yield E(Wt);yield ut(e.map(n=>E(jI,n,t))),yield g(Ur([]))}function*KI(){const e=yield E(Wt),t=yield E(e.getRunningExperiences),{launchpads:n}=Ui(t);n.length<=0||(yield ut(n.map(r=>E($s,{payload:r.id}))),yield g(Ur(n)))}function*YI(){if((yield v(ye)).type===z.HOTSPOTS)return;const n=yield E(Wt),r=yield E(n.getRunningExperiences),{launchpads:i}=Ui(r);i.length<=0||(yield ut(i.map(o=>E($s,{payload:o.id}))),yield g(Ur(i)))}function*zI({payload:e}){const{type:t,event:n}=e,r=n.experienceType===Ln.NPS||n.experienceType===Ln.FLOW,i=bd.includes(t);if(r&&i){const o=yield E(Wt);yield E(o.stop,n.experienceId),yield g(Mr()),yield g(kr())}}function*XI(){yield[F(et,H.INITIALIZE_OPEN_BUILDER,WI),F(te,Je.PAUSE_EXPERIENCE,$s),F(te,Je.RESUME_EXPERIENCE,ud),F(et,Je.SHOW_EXPERIENCES,VI),F(te,$.START_RESET,GI),F(te,Je.UNHIDE_LAUNCHPADS,qI),F(te,Je.HIDE_LAUNCHPADS,KI),F(te,$.PREPARE_CONTENT,YI),F(te,$.START_OPEN_BUILDER_EVENT,zI)]}function*JI(){if(window.AppcuesSettings){let e=window.location.href;const{enableURLDetection:t}=window.AppcuesSettings;for(;t;)window.location.href!==e&&(window.Appcues.page(),e=window.location.href),yield E(ve,500)}}function*QI(){yield[F(JI)]}const fd=b(gi.SET_COLLISION_MODE),ZI="launchpad-button-wrapper",eA=(e,t)=>e.checklist?e.checklist.payload[0]:t.payload[0],tA=(e,t)=>(e.experiences?e.experiences.payload:t.payload).find(i=>i.type==="launchpad"),nA=e=>{const n=e.steps[0].traits.filter(c=>c.type==="@appcues/floating").find(c=>c.config?.target?.selector===ZI),{xPosition:r,yPosition:i,xOffset:o,yOffset:s}=n.config;return{position:`${i} ${r}`,xOffset:o,yOffset:s}};function*pd(e,t){if(!e||!t){yield g(fd({collisionMode:!1,checklist:null}));return}const n=e.styles.position.toLowerCase(),{position:r,xOffset:i,yOffset:o}=nA(t);yield g(fd({collisionMode:n===r,checklist:e,collisionCoordinates:{x:i,y:o}}))}function*rA(){const e=yield Ge({checklist:V(re.UPDATE_CHECKLISTS),experiences:V(Je.SHOW_EXPERIENCES)}),t=yield e.checklist?V(Je.SHOW_EXPERIENCES):V(re.UPDATE_CHECKLISTS),n=eA(e,t),r=tA(e,t);yield E(pd,n,r)}function*iA({payload:{checklistId:e,forceClose:t}}){const n=yield v(an,e);if(t){yield g(yn(e));return}const r=n.viewState===jt.EXPANDED;r||(yield E(RI)),yield g(r?yn(e):Rr(e))}function*hd({payload:{collisionMode:e,checklist:t}}){if(!e){yield E(NI);return}const n=t.items.filter(i=>i.state==="complete").length,r=yield Ge({received:ut([V(Ds),E(wI,{name:t.text_tokens.beacon_text,id:t.id,totalItems:t.items.length,completedItems:n})]),cancel:E(ve,100)});Object.prototype.hasOwnProperty.call(r,"cancel")&&(yield E(hd,{payload:{collisionMode:e,checklist:t}}))}function*oA(){const e=ar(t=>(OI(n=>{t({type:Ps,payload:{checklistId:n.detail.checklistId,forceClose:n.detail.forceClose}})}),kI(()=>{t({type:Ds})}),()=>{}));for(;;){const t=yield V(e);yield g(t)}}function*sA(){for(yield V(gi.SET_COLLISION_MODE);;){const{payload:[e]}=yield V(re.UPDATE_CHECKLISTS),t=yield E(Wt);if(!t)return;let n=null,r=0;const i=10;for(;!n&&r<=i;)yield ve(100),n=t.getRunningExperiences().find(s=>s.type==="launchpad"),r+=1;n&&(yield E(pd,e,n))}}function*cA(){yield[F(oA),F(sA),F(rA),F(ur,Ps,iA),F(ur,gi.SET_COLLISION_MODE,hd)]}const lA="/generic/main/7.17.2/container.43ebd3b611a51702154cfc2bc5282a4363505e1f.css",aA="sha256-hDvMQUFhRDDvNjMfTY9We9v9kJw7VBaXX8yL5nYcIcA=";window.performance&&window.performance.mark&&window.performance.mark("apc-init"),zS();const kt=window.AppcuesBundleSettings;[...document.documentElement.querySelectorAll("link")].forEach(e=>{/\/appcues(\.min|\.debug)?\.css$/.test(e.href)&&e.parentElement&&e.parentElement.removeChild(e)});const or=document.createElement("link");or.setAttribute("rel","stylesheet"),or.setAttribute("type","text/css"),or.setAttribute("integrity",aA),or.setAttribute("crossorigin","anonymous"),or.setAttribute("href",Dt(lA)),document.head.appendChild(or);const Bs=window[Gi];ne.object(Bs)&&ne.defined(Bs.gaTracker)&&kt.integrations.ga&&(kt.integrations.ga.trackerName=Bs.gaTracker);let Ws=null;const md=document.documentElement.querySelector('script[src*="fast.appcues"]');md&&(Ws=md.getAttribute("data-user-id"));const wn=yS({settings:kt,sagas:[KC,eC,N_,PT,D_,eI,j_,aI,dI,EI,B_,yI,ET,HI,XI,ME,QI,SC,cA,function*(){yield F(t_,kt.events)}],onStateChange:e=>{S_(e),v_(e)}});wn.dispatch($l({[z.DEBUGGER]:b_(wn.dispatch,wn.getState)})),wn.dispatch(em(kt,oT(wn),YS,sT(kt,wn.getState)));const Mi=a_(wn);kt&&kt.integrations&&Object.keys(kt.integrations).forEach(e=>{if(kt.integrations[e].isEnabled){const t=Mi[`init${{mixpanel:"Mixpanel",heap:"Heap",intercom:"Intercom",customerio:"CIO",vero:"Vero",woopra:"Woopra",amplitude:"Amplitude",klaviyo:"Klaviyo",calq:"Calq",localytics:"Ll",segment:"Segment",rudderstack:"Rudderstack",braze:"Braze",treasuredata:"TD",kissmetrics:"KM",ga:"GA",gtm:"GTM",fullstory:"FullStory",hotjar:"Hotjar",logrocket:"LogRocket"}[e]}`];t&&t()}}),/hey_appcues/i.test(window.location.search)&&Mi.debug(),Ws!==null&&Mi.identify(Ws);const Ed=window.AppcuesBundleSettings;let Br;if(window.Appcues&&!window.Appcues.SNIPPET_VERSION)Br=window.Appcues;else if(window.requestAnimationFrame&&window.WebSocket&&Ed.accountId&&/^\d+$/.test(Ed.accountId))window.Appcues=Mi,Br=window.Appcues;else{const e=()=>{};Br={},wd.forEach(t=>{Br[t]=e})}return Br})();
